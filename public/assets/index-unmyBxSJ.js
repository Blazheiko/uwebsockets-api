var xl=Object.defineProperty;var Sl=(e,t,s)=>t in e?xl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var Fe=(e,t,s)=>Sl(e,typeof t!="symbol"?t+"":t,s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function s(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=s(o);fetch(o.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function wo(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const Me={},ps=[],kt=()=>{},El=()=>!1,_n=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),yo=e=>e.startsWith("onUpdate:"),Be=Object.assign,bo=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Tl=Object.prototype.hasOwnProperty,xe=(e,t)=>Tl.call(e,t),le=Array.isArray,hs=e=>Ys(e)==="[object Map]",bs=e=>Ys(e)==="[object Set]",Fo=e=>Ys(e)==="[object Date]",fe=e=>typeof e=="function",Ve=e=>typeof e=="string",Ct=e=>typeof e=="symbol",Te=e=>e!==null&&typeof e=="object",Wr=e=>(Te(e)||fe(e))&&fe(e.then)&&fe(e.catch),Kr=Object.prototype.toString,Ys=e=>Kr.call(e),Ml=e=>Ys(e).slice(8,-1),Gr=e=>Ys(e)==="[object Object]",_o=e=>Ve(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ps=wo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),kn=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},$l=/-(\w)/g,at=kn(e=>e.replace($l,(t,s)=>s?s.toUpperCase():"")),Al=/\B([A-Z])/g,zt=kn(e=>e.replace(Al,"-$1").toLowerCase()),Cn=kn(e=>e.charAt(0).toUpperCase()+e.slice(1)),Vn=kn(e=>e?`on${Cn(e)}`:""),jt=(e,t)=>!Object.is(e,t),rn=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},qr=(e,t,s,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:s})},dn=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Il=e=>{const t=Ve(e)?Number(e):NaN;return isNaN(t)?e:t};let Uo;const xn=()=>Uo||(Uo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ge(e){if(le(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],o=Ve(n)?Rl(n):Ge(n);if(o)for(const i in o)t[i]=o[i]}return t}else if(Ve(e)||Te(e))return e}const Pl=/;(?![^(]*\))/g,Dl=/:([^]+)/,Ll=/\/\*[^]*?\*\//g;function Rl(e){const t={};return e.replace(Ll,"").split(Pl).forEach(s=>{if(s){const n=s.split(Dl);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function _e(e){let t="";if(Ve(e))t=e;else if(le(e))for(let s=0;s<e.length;s++){const n=_e(e[s]);n&&(t+=n+" ")}else if(Te(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const Ol="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Vl=wo(Ol);function Jr(e){return!!e||e===""}function Nl(e,t){if(e.length!==t.length)return!1;let s=!0;for(let n=0;s&&n<e.length;n++)s=Zs(e[n],t[n]);return s}function Zs(e,t){if(e===t)return!0;let s=Fo(e),n=Fo(t);if(s||n)return s&&n?e.getTime()===t.getTime():!1;if(s=Ct(e),n=Ct(t),s||n)return e===t;if(s=le(e),n=le(t),s||n)return s&&n?Nl(e,t):!1;if(s=Te(e),n=Te(t),s||n){if(!s||!n)return!1;const o=Object.keys(e).length,i=Object.keys(t).length;if(o!==i)return!1;for(const l in e){const a=e.hasOwnProperty(l),c=t.hasOwnProperty(l);if(a&&!c||!a&&c||!Zs(e[l],t[l]))return!1}}return String(e)===String(t)}function ko(e,t){return e.findIndex(s=>Zs(s,t))}const Yr=e=>!!(e&&e.__v_isRef===!0),j=e=>Ve(e)?e:e==null?"":le(e)||Te(e)&&(e.toString===Kr||!fe(e.toString))?Yr(e)?j(e.value):JSON.stringify(e,Zr,2):String(e),Zr=(e,t)=>Yr(t)?Zr(e,t.value):hs(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,o],i)=>(s[Nn(n,i)+" =>"]=o,s),{})}:bs(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Nn(s))}:Ct(t)?Nn(t):Te(t)&&!le(t)&&!Gr(t)?String(t):t,Nn=(e,t="")=>{var s;return Ct(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ke;class Qr{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ke,!t&&Ke&&(this.index=(Ke.scopes||(Ke.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=Ke;try{return Ke=this,t()}finally{Ke=s}}}on(){Ke=this}off(){Ke=this.parent}stop(t){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function Xr(e){return new Qr(e)}function ei(){return Ke}function Bl(e,t=!1){Ke&&Ke.cleanups.push(e)}let Ae;const Bn=new WeakSet;class ti{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ke&&Ke.active&&Ke.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Bn.has(this)&&(Bn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ni(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,zo(this),oi(this);const t=Ae,s=ct;Ae=this,ct=!0;try{return this.fn()}finally{ri(this),Ae=t,ct=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)So(t);this.deps=this.depsTail=void 0,zo(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Bn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Xn(this)&&this.run()}get dirty(){return Xn(this)}}let si=0,Ds,Ls;function ni(e,t=!1){if(e.flags|=8,t){e.next=Ls,Ls=e;return}e.next=Ds,Ds=e}function Co(){si++}function xo(){if(--si>0)return;if(Ls){let t=Ls;for(Ls=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;Ds;){let t=Ds;for(Ds=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=s}}if(e)throw e}function oi(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function ri(e){let t,s=e.depsTail,n=s;for(;n;){const o=n.prevDep;n.version===-1?(n===s&&(s=o),So(n),Hl(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=o}e.deps=t,e.depsTail=s}function Xn(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(ii(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function ii(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===js))return;e.globalVersion=js;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Xn(e)){e.flags&=-3;return}const s=Ae,n=ct;Ae=e,ct=!0;try{oi(e);const o=e.fn(e._value);(t.version===0||jt(o,e._value))&&(e._value=o,t.version++)}catch(o){throw t.version++,o}finally{Ae=s,ct=n,ri(e),e.flags&=-3}}function So(e,t=!1){const{dep:s,prevSub:n,nextSub:o}=e;if(n&&(n.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=n,e.nextSub=void 0),s.subs===e&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)So(i,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function Hl(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let ct=!0;const li=[];function Wt(){li.push(ct),ct=!1}function Kt(){const e=li.pop();ct=e===void 0?!0:e}function zo(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=Ae;Ae=void 0;try{t()}finally{Ae=s}}}let js=0;class jl{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Eo{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Ae||!ct||Ae===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Ae)s=this.activeLink=new jl(Ae,this),Ae.deps?(s.prevDep=Ae.depsTail,Ae.depsTail.nextDep=s,Ae.depsTail=s):Ae.deps=Ae.depsTail=s,ai(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=Ae.depsTail,s.nextDep=void 0,Ae.depsTail.nextDep=s,Ae.depsTail=s,Ae.deps===s&&(Ae.deps=n)}return s}trigger(t){this.version++,js++,this.notify(t)}notify(t){Co();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{xo()}}}function ai(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)ai(n)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const fn=new WeakMap,es=Symbol(""),eo=Symbol(""),Fs=Symbol("");function Ue(e,t,s){if(ct&&Ae){let n=fn.get(e);n||fn.set(e,n=new Map);let o=n.get(s);o||(n.set(s,o=new Eo),o.map=n,o.key=s),o.track()}}function Mt(e,t,s,n,o,i){const l=fn.get(e);if(!l){js++;return}const a=c=>{c&&c.trigger()};if(Co(),t==="clear")l.forEach(a);else{const c=le(e),d=c&&_o(s);if(c&&s==="length"){const u=Number(n);l.forEach((p,f)=>{(f==="length"||f===Fs||!Ct(f)&&f>=u)&&a(p)})}else switch((s!==void 0||l.has(void 0))&&a(l.get(s)),d&&a(l.get(Fs)),t){case"add":c?d&&a(l.get("length")):(a(l.get(es)),hs(e)&&a(l.get(eo)));break;case"delete":c||(a(l.get(es)),hs(e)&&a(l.get(eo)));break;case"set":hs(e)&&a(l.get(es));break}}xo()}function Fl(e,t){const s=fn.get(e);return s&&s.get(t)}function is(e){const t=ke(e);return t===e?t:(Ue(t,"iterate",Fs),it(e)?t:t.map(ze))}function Sn(e){return Ue(e=ke(e),"iterate",Fs),e}const Ul={__proto__:null,[Symbol.iterator](){return Hn(this,Symbol.iterator,ze)},concat(...e){return is(this).concat(...e.map(t=>le(t)?is(t):t))},entries(){return Hn(this,"entries",e=>(e[1]=ze(e[1]),e))},every(e,t){return xt(this,"every",e,t,void 0,arguments)},filter(e,t){return xt(this,"filter",e,t,s=>s.map(ze),arguments)},find(e,t){return xt(this,"find",e,t,ze,arguments)},findIndex(e,t){return xt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return xt(this,"findLast",e,t,ze,arguments)},findLastIndex(e,t){return xt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return xt(this,"forEach",e,t,void 0,arguments)},includes(...e){return jn(this,"includes",e)},indexOf(...e){return jn(this,"indexOf",e)},join(e){return is(this).join(e)},lastIndexOf(...e){return jn(this,"lastIndexOf",e)},map(e,t){return xt(this,"map",e,t,void 0,arguments)},pop(){return xs(this,"pop")},push(...e){return xs(this,"push",e)},reduce(e,...t){return Wo(this,"reduce",e,t)},reduceRight(e,...t){return Wo(this,"reduceRight",e,t)},shift(){return xs(this,"shift")},some(e,t){return xt(this,"some",e,t,void 0,arguments)},splice(...e){return xs(this,"splice",e)},toReversed(){return is(this).toReversed()},toSorted(e){return is(this).toSorted(e)},toSpliced(...e){return is(this).toSpliced(...e)},unshift(...e){return xs(this,"unshift",e)},values(){return Hn(this,"values",ze)}};function Hn(e,t,s){const n=Sn(e),o=n[t]();return n!==e&&!it(e)&&(o._next=o.next,o.next=()=>{const i=o._next();return i.value&&(i.value=s(i.value)),i}),o}const zl=Array.prototype;function xt(e,t,s,n,o,i){const l=Sn(e),a=l!==e&&!it(e),c=l[t];if(c!==zl[t]){const p=c.apply(e,i);return a?ze(p):p}let d=s;l!==e&&(a?d=function(p,f){return s.call(this,ze(p),f,e)}:s.length>2&&(d=function(p,f){return s.call(this,p,f,e)}));const u=c.call(l,d,n);return a&&o?o(u):u}function Wo(e,t,s,n){const o=Sn(e);let i=s;return o!==e&&(it(e)?s.length>3&&(i=function(l,a,c){return s.call(this,l,a,c,e)}):i=function(l,a,c){return s.call(this,l,ze(a),c,e)}),o[t](i,...n)}function jn(e,t,s){const n=ke(e);Ue(n,"iterate",Fs);const o=n[t](...s);return(o===-1||o===!1)&&$o(s[0])?(s[0]=ke(s[0]),n[t](...s)):o}function xs(e,t,s=[]){Wt(),Co();const n=ke(e)[t].apply(e,s);return xo(),Kt(),n}const Wl=wo("__proto__,__v_isRef,__isVue"),ci=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ct));function Kl(e){Ct(e)||(e=String(e));const t=ke(this);return Ue(t,"has",e),t.hasOwnProperty(e)}class ui{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,n){if(s==="__v_skip")return t.__v_skip;const o=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!o;if(s==="__v_isReadonly")return o;if(s==="__v_isShallow")return i;if(s==="__v_raw")return n===(o?i?sa:hi:i?pi:fi).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const l=le(t);if(!o){let c;if(l&&(c=Ul[s]))return c;if(s==="hasOwnProperty")return Kl}const a=Reflect.get(t,s,Le(t)?t:n);return(Ct(s)?ci.has(s):Wl(s))||(o||Ue(t,"get",s),i)?a:Le(a)?l&&_o(s)?a:a.value:Te(a)?o?gi(a):rs(a):a}}class di extends ui{constructor(t=!1){super(!1,t)}set(t,s,n,o){let i=t[s];if(!this._isShallow){const c=ns(i);if(!it(n)&&!ns(n)&&(i=ke(i),n=ke(n)),!le(t)&&Le(i)&&!Le(n))return c?!1:(i.value=n,!0)}const l=le(t)&&_o(s)?Number(s)<t.length:xe(t,s),a=Reflect.set(t,s,n,Le(t)?t:o);return t===ke(o)&&(l?jt(n,i)&&Mt(t,"set",s,n):Mt(t,"add",s,n)),a}deleteProperty(t,s){const n=xe(t,s);t[s];const o=Reflect.deleteProperty(t,s);return o&&n&&Mt(t,"delete",s,void 0),o}has(t,s){const n=Reflect.has(t,s);return(!Ct(s)||!ci.has(s))&&Ue(t,"has",s),n}ownKeys(t){return Ue(t,"iterate",le(t)?"length":es),Reflect.ownKeys(t)}}class Gl extends ui{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const ql=new di,Jl=new Gl,Yl=new di(!0);const to=e=>e,tn=e=>Reflect.getPrototypeOf(e);function Zl(e,t,s){return function(...n){const o=this.__v_raw,i=ke(o),l=hs(i),a=e==="entries"||e===Symbol.iterator&&l,c=e==="keys"&&l,d=o[e](...n),u=s?to:t?so:ze;return!t&&Ue(i,"iterate",c?eo:es),{next(){const{value:p,done:f}=d.next();return f?{value:p,done:f}:{value:a?[u(p[0]),u(p[1])]:u(p),done:f}},[Symbol.iterator](){return this}}}}function sn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Ql(e,t){const s={get(o){const i=this.__v_raw,l=ke(i),a=ke(o);e||(jt(o,a)&&Ue(l,"get",o),Ue(l,"get",a));const{has:c}=tn(l),d=t?to:e?so:ze;if(c.call(l,o))return d(i.get(o));if(c.call(l,a))return d(i.get(a));i!==l&&i.get(o)},get size(){const o=this.__v_raw;return!e&&Ue(ke(o),"iterate",es),Reflect.get(o,"size",o)},has(o){const i=this.__v_raw,l=ke(i),a=ke(o);return e||(jt(o,a)&&Ue(l,"has",o),Ue(l,"has",a)),o===a?i.has(o):i.has(o)||i.has(a)},forEach(o,i){const l=this,a=l.__v_raw,c=ke(a),d=t?to:e?so:ze;return!e&&Ue(c,"iterate",es),a.forEach((u,p)=>o.call(i,d(u),d(p),l))}};return Be(s,e?{add:sn("add"),set:sn("set"),delete:sn("delete"),clear:sn("clear")}:{add(o){!t&&!it(o)&&!ns(o)&&(o=ke(o));const i=ke(this);return tn(i).has.call(i,o)||(i.add(o),Mt(i,"add",o,o)),this},set(o,i){!t&&!it(i)&&!ns(i)&&(i=ke(i));const l=ke(this),{has:a,get:c}=tn(l);let d=a.call(l,o);d||(o=ke(o),d=a.call(l,o));const u=c.call(l,o);return l.set(o,i),d?jt(i,u)&&Mt(l,"set",o,i):Mt(l,"add",o,i),this},delete(o){const i=ke(this),{has:l,get:a}=tn(i);let c=l.call(i,o);c||(o=ke(o),c=l.call(i,o)),a&&a.call(i,o);const d=i.delete(o);return c&&Mt(i,"delete",o,void 0),d},clear(){const o=ke(this),i=o.size!==0,l=o.clear();return i&&Mt(o,"clear",void 0,void 0),l}}),["keys","values","entries",Symbol.iterator].forEach(o=>{s[o]=Zl(o,e,t)}),s}function To(e,t){const s=Ql(e,t);return(n,o,i)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?n:Reflect.get(xe(s,o)&&o in n?s:n,o,i)}const Xl={get:To(!1,!1)},ea={get:To(!1,!0)},ta={get:To(!0,!1)};const fi=new WeakMap,pi=new WeakMap,hi=new WeakMap,sa=new WeakMap;function na(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function oa(e){return e.__v_skip||!Object.isExtensible(e)?0:na(Ml(e))}function rs(e){return ns(e)?e:Mo(e,!1,ql,Xl,fi)}function vi(e){return Mo(e,!1,Yl,ea,pi)}function gi(e){return Mo(e,!0,Jl,ta,hi)}function Mo(e,t,s,n,o){if(!Te(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=o.get(e);if(i)return i;const l=oa(e);if(l===0)return e;const a=new Proxy(e,l===2?n:s);return o.set(e,a),a}function Ft(e){return ns(e)?Ft(e.__v_raw):!!(e&&e.__v_isReactive)}function ns(e){return!!(e&&e.__v_isReadonly)}function it(e){return!!(e&&e.__v_isShallow)}function $o(e){return e?!!e.__v_raw:!1}function ke(e){const t=e&&e.__v_raw;return t?ke(t):e}function Ao(e){return!xe(e,"__v_skip")&&Object.isExtensible(e)&&qr(e,"__v_skip",!0),e}const ze=e=>Te(e)?rs(e):e,so=e=>Te(e)?gi(e):e;function Le(e){return e?e.__v_isRef===!0:!1}function N(e){return mi(e,!1)}function ra(e){return mi(e,!0)}function mi(e,t){return Le(e)?e:new ia(e,t)}class ia{constructor(t,s){this.dep=new Eo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:ke(t),this._value=s?t:ze(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,n=this.__v_isShallow||it(t)||ns(t);t=n?t:ke(t),jt(t,s)&&(this._rawValue=t,this._value=n?t:ze(t),this.dep.trigger())}}function De(e){return Le(e)?e.value:e}const la={get:(e,t,s)=>t==="__v_raw"?e:De(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const o=e[t];return Le(o)&&!Le(s)?(o.value=s,!0):Reflect.set(e,t,s,n)}};function wi(e){return Ft(e)?e:new Proxy(e,la)}function aa(e){const t=le(e)?new Array(e.length):{};for(const s in e)t[s]=yi(e,s);return t}class ca{constructor(t,s,n){this._object=t,this._key=s,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Fl(ke(this._object),this._key)}}class ua{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function da(e,t,s){return Le(e)?e:fe(e)?new ua(e):Te(e)&&arguments.length>1?yi(e,t,s):N(e)}function yi(e,t,s){const n=e[t];return Le(n)?n:new ca(e,t,s)}class fa{constructor(t,s,n){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Eo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=js-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Ae!==this)return ni(this,!0),!0}get value(){const t=this.dep.track();return ii(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function pa(e,t,s=!1){let n,o;return fe(e)?n=e:(n=e.get,o=e.set),new fa(n,o,s)}const nn={},pn=new WeakMap;let Qt;function ha(e,t=!1,s=Qt){if(s){let n=pn.get(s);n||pn.set(s,n=[]),n.push(e)}}function va(e,t,s=Me){const{immediate:n,deep:o,once:i,scheduler:l,augmentJob:a,call:c}=s,d=M=>o?M:it(M)||o===!1||o===0?$t(M,1):$t(M);let u,p,f,h,S=!1,I=!1;if(Le(e)?(p=()=>e.value,S=it(e)):Ft(e)?(p=()=>d(e),S=!0):le(e)?(I=!0,S=e.some(M=>Ft(M)||it(M)),p=()=>e.map(M=>{if(Le(M))return M.value;if(Ft(M))return d(M);if(fe(M))return c?c(M,2):M()})):fe(e)?t?p=c?()=>c(e,2):e:p=()=>{if(f){Wt();try{f()}finally{Kt()}}const M=Qt;Qt=u;try{return c?c(e,3,[h]):e(h)}finally{Qt=M}}:p=kt,t&&o){const M=p,L=o===!0?1/0:o;p=()=>$t(M(),L)}const P=ei(),k=()=>{u.stop(),P&&P.active&&bo(P.effects,u)};if(i&&t){const M=t;t=(...L)=>{M(...L),k()}}let D=I?new Array(e.length).fill(nn):nn;const V=M=>{if(!(!(u.flags&1)||!u.dirty&&!M))if(t){const L=u.run();if(o||S||(I?L.some((Z,ne)=>jt(Z,D[ne])):jt(L,D))){f&&f();const Z=Qt;Qt=u;try{const ne=[L,D===nn?void 0:I&&D[0]===nn?[]:D,h];c?c(t,3,ne):t(...ne),D=L}finally{Qt=Z}}}else u.run()};return a&&a(V),u=new ti(p),u.scheduler=l?()=>l(V,!1):V,h=M=>ha(M,!1,u),f=u.onStop=()=>{const M=pn.get(u);if(M){if(c)c(M,4);else for(const L of M)L();pn.delete(u)}},t?n?V(!0):D=u.run():l?l(V.bind(null,!0),!0):u.run(),k.pause=u.pause.bind(u),k.resume=u.resume.bind(u),k.stop=k,k}function $t(e,t=1/0,s){if(t<=0||!Te(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,Le(e))$t(e.value,t,s);else if(le(e))for(let n=0;n<e.length;n++)$t(e[n],t,s);else if(bs(e)||hs(e))e.forEach(n=>{$t(n,t,s)});else if(Gr(e)){for(const n in e)$t(e[n],t,s);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&$t(e[n],t,s)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Qs(e,t,s,n){try{return n?e(...n):e()}catch(o){En(o,t,s)}}function ut(e,t,s,n){if(fe(e)){const o=Qs(e,t,s,n);return o&&Wr(o)&&o.catch(i=>{En(i,t,s)}),o}if(le(e)){const o=[];for(let i=0;i<e.length;i++)o.push(ut(e[i],t,s,n));return o}}function En(e,t,s,n=!0){const o=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:l}=t&&t.appContext.config||Me;if(t){let a=t.parent;const c=t.proxy,d=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const u=a.ec;if(u){for(let p=0;p<u.length;p++)if(u[p](e,c,d)===!1)return}a=a.parent}if(i){Wt(),Qs(i,null,10,[e,c,d]),Kt();return}}ga(e,s,o,n,l)}function ga(e,t,s,n=!0,o=!1){if(o)throw e;console.error(e)}const qe=[];let yt=-1;const vs=[];let Vt=null,cs=0;const bi=Promise.resolve();let hn=null;function dt(e){const t=hn||bi;return e?t.then(this?e.bind(this):e):t}function ma(e){let t=yt+1,s=qe.length;for(;t<s;){const n=t+s>>>1,o=qe[n],i=Us(o);i<e||i===e&&o.flags&2?t=n+1:s=n}return t}function Io(e){if(!(e.flags&1)){const t=Us(e),s=qe[qe.length-1];!s||!(e.flags&2)&&t>=Us(s)?qe.push(e):qe.splice(ma(t),0,e),e.flags|=1,_i()}}function _i(){hn||(hn=bi.then(Ci))}function wa(e){le(e)?vs.push(...e):Vt&&e.id===-1?Vt.splice(cs+1,0,e):e.flags&1||(vs.push(e),e.flags|=1),_i()}function Ko(e,t,s=yt+1){for(;s<qe.length;s++){const n=qe[s];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;qe.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function ki(e){if(vs.length){const t=[...new Set(vs)].sort((s,n)=>Us(s)-Us(n));if(vs.length=0,Vt){Vt.push(...t);return}for(Vt=t,cs=0;cs<Vt.length;cs++){const s=Vt[cs];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Vt=null,cs=0}}const Us=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Ci(e){try{for(yt=0;yt<qe.length;yt++){const t=qe[yt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Qs(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;yt<qe.length;yt++){const t=qe[yt];t&&(t.flags&=-2)}yt=-1,qe.length=0,ki(),hn=null,(qe.length||vs.length)&&Ci()}}let Je=null,xi=null;function vn(e){const t=Je;return Je=e,xi=e&&e.type.__scopeId||null,t}function Tn(e,t=Je,s){if(!t||e._n)return e;const n=(...o)=>{n._d&&sr(-1);const i=vn(t);let l;try{l=e(...o)}finally{vn(i),n._d&&sr(1)}return l};return n._n=!0,n._c=!0,n._d=!0,n}function ue(e,t){if(Je===null)return e;const s=In(Je),n=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[i,l,a,c=Me]=t[o];i&&(fe(i)&&(i={mounted:i,updated:i}),i.deep&&$t(l),n.push({dir:i,instance:s,value:l,oldValue:void 0,arg:a,modifiers:c}))}return e}function qt(e,t,s,n){const o=e.dirs,i=t&&t.dirs;for(let l=0;l<o.length;l++){const a=o[l];i&&(a.oldValue=i[l].value);let c=a.dir[n];c&&(Wt(),ut(c,s,8,[e.el,a,e,t]),Kt())}}const ya=Symbol("_vte"),ba=e=>e.__isTeleport,ls=Symbol("_leaveCb"),on=Symbol("_enterCb");function _a(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ne(()=>{e.isMounted=!0}),Xs(()=>{e.isUnmounting=!0}),e}const ot=[Function,Array],ka={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ot,onEnter:ot,onAfterEnter:ot,onEnterCancelled:ot,onBeforeLeave:ot,onLeave:ot,onAfterLeave:ot,onLeaveCancelled:ot,onBeforeAppear:ot,onAppear:ot,onAfterAppear:ot,onAppearCancelled:ot};function Ca(e,t){const{leavingVNodes:s}=e;let n=s.get(t.type);return n||(n=Object.create(null),s.set(t.type,n)),n}function no(e,t,s,n,o){const{appear:i,mode:l,persisted:a=!1,onBeforeEnter:c,onEnter:d,onAfterEnter:u,onEnterCancelled:p,onBeforeLeave:f,onLeave:h,onAfterLeave:S,onLeaveCancelled:I,onBeforeAppear:P,onAppear:k,onAfterAppear:D,onAppearCancelled:V}=t,M=String(e.key),L=Ca(s,e),Z=(W,te)=>{W&&ut(W,n,9,te)},ne=(W,te)=>{const re=te[1];Z(W,te),le(W)?W.every(_=>_.length<=1)&&re():W.length<=1&&re()},X={mode:l,persisted:a,beforeEnter(W){let te=c;if(!s.isMounted)if(i)te=P||c;else return;W[ls]&&W[ls](!0);const re=L[M];re&&us(e,re)&&re.el[ls]&&re.el[ls](),Z(te,[W])},enter(W){let te=d,re=u,_=p;if(!s.isMounted)if(i)te=k||d,re=D||u,_=V||p;else return;let q=!1;const w=W[on]=C=>{q||(q=!0,C?Z(_,[W]):Z(re,[W]),X.delayedLeave&&X.delayedLeave(),W[on]=void 0)};te?ne(te,[W,w]):w()},leave(W,te){const re=String(e.key);if(W[on]&&W[on](!0),s.isUnmounting)return te();Z(f,[W]);let _=!1;const q=W[ls]=w=>{_||(_=!0,te(),w?Z(I,[W]):Z(S,[W]),W[ls]=void 0,L[re]===e&&delete L[re])};L[re]=e,h?ne(h,[W,q]):q()},clone(W){return no(W,t,s,n)}};return X}function zs(e,t){e.shapeFlag&6&&e.component?(e.transition=t,zs(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Si(e,t=!1,s){let n=[],o=0;for(let i=0;i<e.length;i++){let l=e[i];const a=s==null?l.key:String(s)+String(l.key!=null?l.key:i);l.type===he?(l.patchFlag&128&&o++,n=n.concat(Si(l.children,t,a))):(t||l.type!==Ut)&&n.push(a!=null?os(l,{key:a}):l)}if(o>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function Re(e,t){return fe(e)?Be({name:e.name},t,{setup:e}):e}function Ei(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function gn(e,t,s,n,o=!1){if(le(e)){e.forEach((S,I)=>gn(S,t&&(le(t)?t[I]:t),s,n,o));return}if(Rs(n)&&!o){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&gn(e,t,s,n.component.subTree);return}const i=n.shapeFlag&4?In(n.component):n.el,l=o?null:i,{i:a,r:c}=e,d=t&&t.r,u=a.refs===Me?a.refs={}:a.refs,p=a.setupState,f=ke(p),h=p===Me?()=>!1:S=>xe(f,S);if(d!=null&&d!==c&&(Ve(d)?(u[d]=null,h(d)&&(p[d]=null)):Le(d)&&(d.value=null)),fe(c))Qs(c,a,12,[l,u]);else{const S=Ve(c),I=Le(c);if(S||I){const P=()=>{if(e.f){const k=S?h(c)?p[c]:u[c]:c.value;o?le(k)&&bo(k,i):le(k)?k.includes(i)||k.push(i):S?(u[c]=[i],h(c)&&(p[c]=u[c])):(c.value=[i],e.k&&(u[e.k]=c.value))}else S?(u[c]=l,h(c)&&(p[c]=l)):I&&(c.value=l,e.k&&(u[e.k]=l))};l?(P.id=-1,Xe(P,s)):P()}}}xn().requestIdleCallback;xn().cancelIdleCallback;const Rs=e=>!!e.type.__asyncLoader,Ti=e=>e.type.__isKeepAlive;function xa(e,t){Mi(e,"a",t)}function Sa(e,t){Mi(e,"da",t)}function Mi(e,t,s=je){const n=e.__wdc||(e.__wdc=()=>{let o=s;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Mn(t,n,s),s){let o=s.parent;for(;o&&o.parent;)Ti(o.parent.vnode)&&Ea(n,t,s,o),o=o.parent}}function Ea(e,t,s,n){const o=Mn(t,e,n,!0);ft(()=>{bo(n[t],o)},s)}function Mn(e,t,s=je,n=!1){if(s){const o=s[e]||(s[e]=[]),i=t.__weh||(t.__weh=(...l)=>{Wt();const a=en(s),c=ut(t,s,e,l);return a(),Kt(),c});return n?o.unshift(i):o.push(i),i}}const Pt=e=>(t,s=je)=>{(!Ks||e==="sp")&&Mn(e,(...n)=>t(...n),s)},Ta=Pt("bm"),Ne=Pt("m"),Ma=Pt("bu"),$i=Pt("u"),Xs=Pt("bum"),ft=Pt("um"),$a=Pt("sp"),Aa=Pt("rtg"),Ia=Pt("rtc");function Pa(e,t=je){Mn("ec",e,t)}const Da="components";function Po(e,t){return Ra(Da,e,!0,t)||e}const La=Symbol.for("v-ndc");function Ra(e,t,s=!0,n=!1){const o=Je||je;if(o){const i=o.type;{const a=Cc(i,!1);if(a&&(a===t||a===at(t)||a===Cn(at(t))))return i}const l=Go(o[e]||i[e],t)||Go(o.appContext[e],t);return!l&&n?i:l}}function Go(e,t){return e&&(e[t]||e[at(t)]||e[Cn(at(t))])}function Pe(e,t,s,n){let o;const i=s,l=le(e);if(l||Ve(e)){const a=l&&Ft(e);let c=!1;a&&(c=!it(e),e=Sn(e)),o=new Array(e.length);for(let d=0,u=e.length;d<u;d++)o[d]=t(c?ze(e[d]):e[d],d,void 0,i)}else if(typeof e=="number"){o=new Array(e);for(let a=0;a<e;a++)o[a]=t(a+1,a,void 0,i)}else if(Te(e))if(e[Symbol.iterator])o=Array.from(e,(a,c)=>t(a,c,void 0,i));else{const a=Object.keys(e);o=new Array(a.length);for(let c=0,d=a.length;c<d;c++){const u=a[c];o[c]=t(e[u],u,c,i)}}else o=[];return o}const oo=e=>e?Yi(e)?In(e):oo(e.parent):null,Os=Be(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>oo(e.parent),$root:e=>oo(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Ii(e),$forceUpdate:e=>e.f||(e.f=()=>{Io(e.update)}),$nextTick:e=>e.n||(e.n=dt.bind(e.proxy)),$watch:e=>nc.bind(e)}),Fn=(e,t)=>e!==Me&&!e.__isScriptSetup&&xe(e,t),Oa={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:n,data:o,props:i,accessCache:l,type:a,appContext:c}=e;let d;if(t[0]!=="$"){const h=l[t];if(h!==void 0)switch(h){case 1:return n[t];case 2:return o[t];case 4:return s[t];case 3:return i[t]}else{if(Fn(n,t))return l[t]=1,n[t];if(o!==Me&&xe(o,t))return l[t]=2,o[t];if((d=e.propsOptions[0])&&xe(d,t))return l[t]=3,i[t];if(s!==Me&&xe(s,t))return l[t]=4,s[t];ro&&(l[t]=0)}}const u=Os[t];let p,f;if(u)return t==="$attrs"&&Ue(e.attrs,"get",""),u(e);if((p=a.__cssModules)&&(p=p[t]))return p;if(s!==Me&&xe(s,t))return l[t]=4,s[t];if(f=c.config.globalProperties,xe(f,t))return f[t]},set({_:e},t,s){const{data:n,setupState:o,ctx:i}=e;return Fn(o,t)?(o[t]=s,!0):n!==Me&&xe(n,t)?(n[t]=s,!0):xe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:o,propsOptions:i}},l){let a;return!!s[l]||e!==Me&&xe(e,l)||Fn(t,l)||(a=i[0])&&xe(a,l)||xe(n,l)||xe(Os,l)||xe(o.config.globalProperties,l)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:xe(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function qo(e){return le(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let ro=!0;function Va(e){const t=Ii(e),s=e.proxy,n=e.ctx;ro=!1,t.beforeCreate&&Jo(t.beforeCreate,e,"bc");const{data:o,computed:i,methods:l,watch:a,provide:c,inject:d,created:u,beforeMount:p,mounted:f,beforeUpdate:h,updated:S,activated:I,deactivated:P,beforeDestroy:k,beforeUnmount:D,destroyed:V,unmounted:M,render:L,renderTracked:Z,renderTriggered:ne,errorCaptured:X,serverPrefetch:W,expose:te,inheritAttrs:re,components:_,directives:q,filters:w}=t;if(d&&Na(d,n,null),l)for(const $ in l){const y=l[$];fe(y)&&(n[$]=y.bind(s))}if(o){const $=o.call(s,s);Te($)&&(e.data=rs($))}if(ro=!0,i)for(const $ in i){const y=i[$],g=fe(y)?y.bind(s,s):fe(y.get)?y.get.bind(s,s):kt,x=!fe(y)&&fe(y.set)?y.set.bind(s):kt,ie=ye({get:g,set:x});Object.defineProperty(n,$,{enumerable:!0,configurable:!0,get:()=>ie.value,set:ve=>ie.value=ve})}if(a)for(const $ in a)Ai(a[$],n,s,$);if(c){const $=fe(c)?c.call(s):c;Reflect.ownKeys($).forEach(y=>{ln(y,$[y])})}u&&Jo(u,e,"c");function K($,y){le(y)?y.forEach(g=>$(g.bind(s))):y&&$(y.bind(s))}if(K(Ta,p),K(Ne,f),K(Ma,h),K($i,S),K(xa,I),K(Sa,P),K(Pa,X),K(Ia,Z),K(Aa,ne),K(Xs,D),K(ft,M),K($a,W),le(te))if(te.length){const $=e.exposed||(e.exposed={});te.forEach(y=>{Object.defineProperty($,y,{get:()=>s[y],set:g=>s[y]=g})})}else e.exposed||(e.exposed={});L&&e.render===kt&&(e.render=L),re!=null&&(e.inheritAttrs=re),_&&(e.components=_),q&&(e.directives=q),W&&Ei(e)}function Na(e,t,s=kt){le(e)&&(e=io(e));for(const n in e){const o=e[n];let i;Te(o)?"default"in o?i=lt(o.from||n,o.default,!0):i=lt(o.from||n):i=lt(o),Le(i)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:l=>i.value=l}):t[n]=i}}function Jo(e,t,s){ut(le(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function Ai(e,t,s,n){let o=n.includes(".")?Wi(s,n):()=>s[n];if(Ve(e)){const i=t[e];fe(i)&&st(o,i)}else if(fe(e))st(o,e.bind(s));else if(Te(e))if(le(e))e.forEach(i=>Ai(i,t,s,n));else{const i=fe(e.handler)?e.handler.bind(s):t[e.handler];fe(i)&&st(o,i,e)}}function Ii(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:o,optionsCache:i,config:{optionMergeStrategies:l}}=e.appContext,a=i.get(t);let c;return a?c=a:!o.length&&!s&&!n?c=t:(c={},o.length&&o.forEach(d=>mn(c,d,l,!0)),mn(c,t,l)),Te(t)&&i.set(t,c),c}function mn(e,t,s,n=!1){const{mixins:o,extends:i}=t;i&&mn(e,i,s,!0),o&&o.forEach(l=>mn(e,l,s,!0));for(const l in t)if(!(n&&l==="expose")){const a=Ba[l]||s&&s[l];e[l]=a?a(e[l],t[l]):t[l]}return e}const Ba={data:Yo,props:Zo,emits:Zo,methods:Is,computed:Is,beforeCreate:We,created:We,beforeMount:We,mounted:We,beforeUpdate:We,updated:We,beforeDestroy:We,beforeUnmount:We,destroyed:We,unmounted:We,activated:We,deactivated:We,errorCaptured:We,serverPrefetch:We,components:Is,directives:Is,watch:ja,provide:Yo,inject:Ha};function Yo(e,t){return t?e?function(){return Be(fe(e)?e.call(this,this):e,fe(t)?t.call(this,this):t)}:t:e}function Ha(e,t){return Is(io(e),io(t))}function io(e){if(le(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function We(e,t){return e?[...new Set([].concat(e,t))]:t}function Is(e,t){return e?Be(Object.create(null),e,t):t}function Zo(e,t){return e?le(e)&&le(t)?[...new Set([...e,...t])]:Be(Object.create(null),qo(e),qo(t??{})):t}function ja(e,t){if(!e)return t;if(!t)return e;const s=Be(Object.create(null),e);for(const n in t)s[n]=We(e[n],t[n]);return s}function Pi(){return{app:null,config:{isNativeTag:El,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Fa=0;function Ua(e,t){return function(n,o=null){fe(n)||(n=Be({},n)),o!=null&&!Te(o)&&(o=null);const i=Pi(),l=new WeakSet,a=[];let c=!1;const d=i.app={_uid:Fa++,_component:n,_props:o,_container:null,_context:i,_instance:null,version:Sc,get config(){return i.config},set config(u){},use(u,...p){return l.has(u)||(u&&fe(u.install)?(l.add(u),u.install(d,...p)):fe(u)&&(l.add(u),u(d,...p))),d},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),d},component(u,p){return p?(i.components[u]=p,d):i.components[u]},directive(u,p){return p?(i.directives[u]=p,d):i.directives[u]},mount(u,p,f){if(!c){const h=d._ceVNode||Ie(n,o);return h.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),e(h,u,f),c=!0,d._container=u,u.__vue_app__=d,In(h.component)}},onUnmount(u){a.push(u)},unmount(){c&&(ut(a,d._instance,16),e(null,d._container),delete d._container.__vue_app__)},provide(u,p){return i.provides[u]=p,d},runWithContext(u){const p=ts;ts=d;try{return u()}finally{ts=p}}};return d}}let ts=null;function ln(e,t){if(je){let s=je.provides;const n=je.parent&&je.parent.provides;n===s&&(s=je.provides=Object.create(n)),s[e]=t}}function lt(e,t,s=!1){const n=je||Je;if(n||ts){const o=ts?ts._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return s&&fe(t)?t.call(n&&n.proxy):t}}function za(){return!!(je||Je||ts)}const Di={},Li=()=>Object.create(Di),Ri=e=>Object.getPrototypeOf(e)===Di;function Wa(e,t,s,n=!1){const o={},i=Li();e.propsDefaults=Object.create(null),Oi(e,t,o,i);for(const l in e.propsOptions[0])l in o||(o[l]=void 0);s?e.props=n?o:vi(o):e.type.props?e.props=o:e.props=i,e.attrs=i}function Ka(e,t,s,n){const{props:o,attrs:i,vnode:{patchFlag:l}}=e,a=ke(o),[c]=e.propsOptions;let d=!1;if((n||l>0)&&!(l&16)){if(l&8){const u=e.vnode.dynamicProps;for(let p=0;p<u.length;p++){let f=u[p];if($n(e.emitsOptions,f))continue;const h=t[f];if(c)if(xe(i,f))h!==i[f]&&(i[f]=h,d=!0);else{const S=at(f);o[S]=lo(c,a,S,h,e,!1)}else h!==i[f]&&(i[f]=h,d=!0)}}}else{Oi(e,t,o,i)&&(d=!0);let u;for(const p in a)(!t||!xe(t,p)&&((u=zt(p))===p||!xe(t,u)))&&(c?s&&(s[p]!==void 0||s[u]!==void 0)&&(o[p]=lo(c,a,p,void 0,e,!0)):delete o[p]);if(i!==a)for(const p in i)(!t||!xe(t,p))&&(delete i[p],d=!0)}d&&Mt(e.attrs,"set","")}function Oi(e,t,s,n){const[o,i]=e.propsOptions;let l=!1,a;if(t)for(let c in t){if(Ps(c))continue;const d=t[c];let u;o&&xe(o,u=at(c))?!i||!i.includes(u)?s[u]=d:(a||(a={}))[u]=d:$n(e.emitsOptions,c)||(!(c in n)||d!==n[c])&&(n[c]=d,l=!0)}if(i){const c=ke(s),d=a||Me;for(let u=0;u<i.length;u++){const p=i[u];s[p]=lo(o,c,p,d[p],e,!xe(d,p))}}return l}function lo(e,t,s,n,o,i){const l=e[s];if(l!=null){const a=xe(l,"default");if(a&&n===void 0){const c=l.default;if(l.type!==Function&&!l.skipFactory&&fe(c)){const{propsDefaults:d}=o;if(s in d)n=d[s];else{const u=en(o);n=d[s]=c.call(null,t),u()}}else n=c;o.ce&&o.ce._setProp(s,n)}l[0]&&(i&&!a?n=!1:l[1]&&(n===""||n===zt(s))&&(n=!0))}return n}const Ga=new WeakMap;function Vi(e,t,s=!1){const n=s?Ga:t.propsCache,o=n.get(e);if(o)return o;const i=e.props,l={},a=[];let c=!1;if(!fe(e)){const u=p=>{c=!0;const[f,h]=Vi(p,t,!0);Be(l,f),h&&a.push(...h)};!s&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!c)return Te(e)&&n.set(e,ps),ps;if(le(i))for(let u=0;u<i.length;u++){const p=at(i[u]);Qo(p)&&(l[p]=Me)}else if(i)for(const u in i){const p=at(u);if(Qo(p)){const f=i[u],h=l[p]=le(f)||fe(f)?{type:f}:Be({},f),S=h.type;let I=!1,P=!0;if(le(S))for(let k=0;k<S.length;++k){const D=S[k],V=fe(D)&&D.name;if(V==="Boolean"){I=!0;break}else V==="String"&&(P=!1)}else I=fe(S)&&S.name==="Boolean";h[0]=I,h[1]=P,(I||xe(h,"default"))&&a.push(p)}}const d=[l,a];return Te(e)&&n.set(e,d),d}function Qo(e){return e[0]!=="$"&&!Ps(e)}const Ni=e=>e[0]==="_"||e==="$stable",Do=e=>le(e)?e.map(_t):[_t(e)],qa=(e,t,s)=>{if(t._n)return t;const n=Tn((...o)=>Do(t(...o)),s);return n._c=!1,n},Bi=(e,t,s)=>{const n=e._ctx;for(const o in e){if(Ni(o))continue;const i=e[o];if(fe(i))t[o]=qa(o,i,n);else if(i!=null){const l=Do(i);t[o]=()=>l}}},Hi=(e,t)=>{const s=Do(t);e.slots.default=()=>s},ji=(e,t,s)=>{for(const n in t)(s||n!=="_")&&(e[n]=t[n])},Ja=(e,t,s)=>{const n=e.slots=Li();if(e.vnode.shapeFlag&32){const o=t._;o?(ji(n,t,s),s&&qr(n,"_",o,!0)):Bi(t,n)}else t&&Hi(e,t)},Ya=(e,t,s)=>{const{vnode:n,slots:o}=e;let i=!0,l=Me;if(n.shapeFlag&32){const a=t._;a?s&&a===1?i=!1:ji(o,t,s):(i=!t.$stable,Bi(t,o)),l=t}else t&&(Hi(e,t),l={default:1});if(i)for(const a in o)!Ni(a)&&l[a]==null&&delete o[a]},Xe=uc;function Za(e){return Qa(e)}function Qa(e,t){const s=xn();s.__VUE__=!0;const{insert:n,remove:o,patchProp:i,createElement:l,createText:a,createComment:c,setText:d,setElementText:u,parentNode:p,nextSibling:f,setScopeId:h=kt,insertStaticContent:S}=e,I=(v,m,b,R=null,B=null,O=null,z=void 0,G=null,Y=!!m.dynamicChildren)=>{if(v===m)return;v&&!us(v,m)&&(R=E(v),ve(v,B,O,!0),v=null),m.patchFlag===-2&&(Y=!1,m.dynamicChildren=null);const{type:F,ref:ce,shapeFlag:ee}=m;switch(F){case An:P(v,m,b,R);break;case Ut:k(v,m,b,R);break;case an:v==null&&D(m,b,R,z);break;case he:_(v,m,b,R,B,O,z,G,Y);break;default:ee&1?L(v,m,b,R,B,O,z,G,Y):ee&6?q(v,m,b,R,B,O,z,G,Y):(ee&64||ee&128)&&F.process(v,m,b,R,B,O,z,G,Y,se)}ce!=null&&B&&gn(ce,v&&v.ref,O,m||v,!m)},P=(v,m,b,R)=>{if(v==null)n(m.el=a(m.children),b,R);else{const B=m.el=v.el;m.children!==v.children&&d(B,m.children)}},k=(v,m,b,R)=>{v==null?n(m.el=c(m.children||""),b,R):m.el=v.el},D=(v,m,b,R)=>{[v.el,v.anchor]=S(v.children,m,b,R,v.el,v.anchor)},V=({el:v,anchor:m},b,R)=>{let B;for(;v&&v!==m;)B=f(v),n(v,b,R),v=B;n(m,b,R)},M=({el:v,anchor:m})=>{let b;for(;v&&v!==m;)b=f(v),o(v),v=b;o(m)},L=(v,m,b,R,B,O,z,G,Y)=>{m.type==="svg"?z="svg":m.type==="math"&&(z="mathml"),v==null?Z(m,b,R,B,O,z,G,Y):W(v,m,B,O,z,G,Y)},Z=(v,m,b,R,B,O,z,G)=>{let Y,F;const{props:ce,shapeFlag:ee,transition:ae,dirs:de}=v;if(Y=v.el=l(v.type,O,ce&&ce.is,ce),ee&8?u(Y,v.children):ee&16&&X(v.children,Y,null,R,B,Un(v,O),z,G),de&&qt(v,null,R,"created"),ne(Y,v,v.scopeId,z,R),ce){for(const $e in ce)$e!=="value"&&!Ps($e)&&i(Y,$e,null,ce[$e],O,R);"value"in ce&&i(Y,"value",null,ce.value,O),(F=ce.onVnodeBeforeMount)&&mt(F,R,v)}de&&qt(v,null,R,"beforeMount");const be=Xa(B,ae);be&&ae.beforeEnter(Y),n(Y,m,b),((F=ce&&ce.onVnodeMounted)||be||de)&&Xe(()=>{F&&mt(F,R,v),be&&ae.enter(Y),de&&qt(v,null,R,"mounted")},B)},ne=(v,m,b,R,B)=>{if(b&&h(v,b),R)for(let O=0;O<R.length;O++)h(v,R[O]);if(B){let O=B.subTree;if(m===O||Gi(O.type)&&(O.ssContent===m||O.ssFallback===m)){const z=B.vnode;ne(v,z,z.scopeId,z.slotScopeIds,B.parent)}}},X=(v,m,b,R,B,O,z,G,Y=0)=>{for(let F=Y;F<v.length;F++){const ce=v[F]=G?Nt(v[F]):_t(v[F]);I(null,ce,m,b,R,B,O,z,G)}},W=(v,m,b,R,B,O,z)=>{const G=m.el=v.el;let{patchFlag:Y,dynamicChildren:F,dirs:ce}=m;Y|=v.patchFlag&16;const ee=v.props||Me,ae=m.props||Me;let de;if(b&&Jt(b,!1),(de=ae.onVnodeBeforeUpdate)&&mt(de,b,m,v),ce&&qt(m,v,b,"beforeUpdate"),b&&Jt(b,!0),(ee.innerHTML&&ae.innerHTML==null||ee.textContent&&ae.textContent==null)&&u(G,""),F?te(v.dynamicChildren,F,G,b,R,Un(m,B),O):z||y(v,m,G,null,b,R,Un(m,B),O,!1),Y>0){if(Y&16)re(G,ee,ae,b,B);else if(Y&2&&ee.class!==ae.class&&i(G,"class",null,ae.class,B),Y&4&&i(G,"style",ee.style,ae.style,B),Y&8){const be=m.dynamicProps;for(let $e=0;$e<be.length;$e++){const Ee=be[$e],Ze=ee[Ee],Ye=ae[Ee];(Ye!==Ze||Ee==="value")&&i(G,Ee,Ze,Ye,B,b)}}Y&1&&v.children!==m.children&&u(G,m.children)}else!z&&F==null&&re(G,ee,ae,b,B);((de=ae.onVnodeUpdated)||ce)&&Xe(()=>{de&&mt(de,b,m,v),ce&&qt(m,v,b,"updated")},R)},te=(v,m,b,R,B,O,z)=>{for(let G=0;G<m.length;G++){const Y=v[G],F=m[G],ce=Y.el&&(Y.type===he||!us(Y,F)||Y.shapeFlag&70)?p(Y.el):b;I(Y,F,ce,null,R,B,O,z,!0)}},re=(v,m,b,R,B)=>{if(m!==b){if(m!==Me)for(const O in m)!Ps(O)&&!(O in b)&&i(v,O,m[O],null,B,R);for(const O in b){if(Ps(O))continue;const z=b[O],G=m[O];z!==G&&O!=="value"&&i(v,O,G,z,B,R)}"value"in b&&i(v,"value",m.value,b.value,B)}},_=(v,m,b,R,B,O,z,G,Y)=>{const F=m.el=v?v.el:a(""),ce=m.anchor=v?v.anchor:a("");let{patchFlag:ee,dynamicChildren:ae,slotScopeIds:de}=m;de&&(G=G?G.concat(de):de),v==null?(n(F,b,R),n(ce,b,R),X(m.children||[],b,ce,B,O,z,G,Y)):ee>0&&ee&64&&ae&&v.dynamicChildren?(te(v.dynamicChildren,ae,b,B,O,z,G),(m.key!=null||B&&m===B.subTree)&&Fi(v,m,!0)):y(v,m,b,ce,B,O,z,G,Y)},q=(v,m,b,R,B,O,z,G,Y)=>{m.slotScopeIds=G,v==null?m.shapeFlag&512?B.ctx.activate(m,b,R,z,Y):w(m,b,R,B,O,z,Y):C(v,m,Y)},w=(v,m,b,R,B,O,z)=>{const G=v.component=mc(v,R,B);if(Ti(v)&&(G.ctx.renderer=se),yc(G,!1,z),G.asyncDep){if(B&&B.registerDep(G,K,z),!v.el){const Y=G.subTree=Ie(Ut);k(null,Y,m,b)}}else K(G,v,m,b,B,O,z)},C=(v,m,b)=>{const R=m.component=v.component;if(ac(v,m,b))if(R.asyncDep&&!R.asyncResolved){$(R,m,b);return}else R.next=m,R.update();else m.el=v.el,R.vnode=m},K=(v,m,b,R,B,O,z)=>{const G=()=>{if(v.isMounted){let{next:ee,bu:ae,u:de,parent:be,vnode:$e}=v;{const vt=Ui(v);if(vt){ee&&(ee.el=$e.el,$(v,ee,z)),vt.asyncDep.then(()=>{v.isUnmounted||G()});return}}let Ee=ee,Ze;Jt(v,!1),ee?(ee.el=$e.el,$(v,ee,z)):ee=$e,ae&&rn(ae),(Ze=ee.props&&ee.props.onVnodeBeforeUpdate)&&mt(Ze,be,ee,$e),Jt(v,!0);const Ye=er(v),ht=v.subTree;v.subTree=Ye,I(ht,Ye,p(ht.el),E(ht),v,B,O),ee.el=Ye.el,Ee===null&&cc(v,Ye.el),de&&Xe(de,B),(Ze=ee.props&&ee.props.onVnodeUpdated)&&Xe(()=>mt(Ze,be,ee,$e),B)}else{let ee;const{el:ae,props:de}=m,{bm:be,m:$e,parent:Ee,root:Ze,type:Ye}=v,ht=Rs(m);Jt(v,!1),be&&rn(be),!ht&&(ee=de&&de.onVnodeBeforeMount)&&mt(ee,Ee,m),Jt(v,!0);{Ze.ce&&Ze.ce._injectChildStyle(Ye);const vt=v.subTree=er(v);I(null,vt,b,R,v,B,O),m.el=vt.el}if($e&&Xe($e,B),!ht&&(ee=de&&de.onVnodeMounted)){const vt=m;Xe(()=>mt(ee,Ee,vt),B)}(m.shapeFlag&256||Ee&&Rs(Ee.vnode)&&Ee.vnode.shapeFlag&256)&&v.a&&Xe(v.a,B),v.isMounted=!0,m=b=R=null}};v.scope.on();const Y=v.effect=new ti(G);v.scope.off();const F=v.update=Y.run.bind(Y),ce=v.job=Y.runIfDirty.bind(Y);ce.i=v,ce.id=v.uid,Y.scheduler=()=>Io(ce),Jt(v,!0),F()},$=(v,m,b)=>{m.component=v;const R=v.vnode.props;v.vnode=m,v.next=null,Ka(v,m.props,R,b),Ya(v,m.children,b),Wt(),Ko(v),Kt()},y=(v,m,b,R,B,O,z,G,Y=!1)=>{const F=v&&v.children,ce=v?v.shapeFlag:0,ee=m.children,{patchFlag:ae,shapeFlag:de}=m;if(ae>0){if(ae&128){x(F,ee,b,R,B,O,z,G,Y);return}else if(ae&256){g(F,ee,b,R,B,O,z,G,Y);return}}de&8?(ce&16&&we(F,B,O),ee!==F&&u(b,ee)):ce&16?de&16?x(F,ee,b,R,B,O,z,G,Y):we(F,B,O,!0):(ce&8&&u(b,""),de&16&&X(ee,b,R,B,O,z,G,Y))},g=(v,m,b,R,B,O,z,G,Y)=>{v=v||ps,m=m||ps;const F=v.length,ce=m.length,ee=Math.min(F,ce);let ae;for(ae=0;ae<ee;ae++){const de=m[ae]=Y?Nt(m[ae]):_t(m[ae]);I(v[ae],de,b,null,B,O,z,G,Y)}F>ce?we(v,B,O,!0,!1,ee):X(m,b,R,B,O,z,G,Y,ee)},x=(v,m,b,R,B,O,z,G,Y)=>{let F=0;const ce=m.length;let ee=v.length-1,ae=ce-1;for(;F<=ee&&F<=ae;){const de=v[F],be=m[F]=Y?Nt(m[F]):_t(m[F]);if(us(de,be))I(de,be,b,null,B,O,z,G,Y);else break;F++}for(;F<=ee&&F<=ae;){const de=v[ee],be=m[ae]=Y?Nt(m[ae]):_t(m[ae]);if(us(de,be))I(de,be,b,null,B,O,z,G,Y);else break;ee--,ae--}if(F>ee){if(F<=ae){const de=ae+1,be=de<ce?m[de].el:R;for(;F<=ae;)I(null,m[F]=Y?Nt(m[F]):_t(m[F]),b,be,B,O,z,G,Y),F++}}else if(F>ae)for(;F<=ee;)ve(v[F],B,O,!0),F++;else{const de=F,be=F,$e=new Map;for(F=be;F<=ae;F++){const Qe=m[F]=Y?Nt(m[F]):_t(m[F]);Qe.key!=null&&$e.set(Qe.key,F)}let Ee,Ze=0;const Ye=ae-be+1;let ht=!1,vt=0;const Cs=new Array(Ye);for(F=0;F<Ye;F++)Cs[F]=0;for(F=de;F<=ee;F++){const Qe=v[F];if(Ze>=Ye){ve(Qe,B,O,!0);continue}let gt;if(Qe.key!=null)gt=$e.get(Qe.key);else for(Ee=be;Ee<=ae;Ee++)if(Cs[Ee-be]===0&&us(Qe,m[Ee])){gt=Ee;break}gt===void 0?ve(Qe,B,O,!0):(Cs[gt-be]=F+1,gt>=vt?vt=gt:ht=!0,I(Qe,m[gt],b,null,B,O,z,G,Y),Ze++)}const Ho=ht?ec(Cs):ps;for(Ee=Ho.length-1,F=Ye-1;F>=0;F--){const Qe=be+F,gt=m[Qe],jo=Qe+1<ce?m[Qe+1].el:R;Cs[F]===0?I(null,gt,b,jo,B,O,z,G,Y):ht&&(Ee<0||F!==Ho[Ee]?ie(gt,b,jo,2):Ee--)}}},ie=(v,m,b,R,B=null)=>{const{el:O,type:z,transition:G,children:Y,shapeFlag:F}=v;if(F&6){ie(v.component.subTree,m,b,R);return}if(F&128){v.suspense.move(m,b,R);return}if(F&64){z.move(v,m,b,se);return}if(z===he){n(O,m,b);for(let ee=0;ee<Y.length;ee++)ie(Y[ee],m,b,R);n(v.anchor,m,b);return}if(z===an){V(v,m,b);return}if(R!==2&&F&1&&G)if(R===0)G.beforeEnter(O),n(O,m,b),Xe(()=>G.enter(O),B);else{const{leave:ee,delayLeave:ae,afterLeave:de}=G,be=()=>n(O,m,b),$e=()=>{ee(O,()=>{be(),de&&de()})};ae?ae(O,be,$e):$e()}else n(O,m,b)},ve=(v,m,b,R=!1,B=!1)=>{const{type:O,props:z,ref:G,children:Y,dynamicChildren:F,shapeFlag:ce,patchFlag:ee,dirs:ae,cacheIndex:de}=v;if(ee===-2&&(B=!1),G!=null&&gn(G,null,b,v,!0),de!=null&&(m.renderCache[de]=void 0),ce&256){m.ctx.deactivate(v);return}const be=ce&1&&ae,$e=!Rs(v);let Ee;if($e&&(Ee=z&&z.onVnodeBeforeUnmount)&&mt(Ee,m,v),ce&6)U(v.component,b,R);else{if(ce&128){v.suspense.unmount(b,R);return}be&&qt(v,null,m,"beforeUnmount"),ce&64?v.type.remove(v,m,b,se,R):F&&!F.hasOnce&&(O!==he||ee>0&&ee&64)?we(F,m,b,!1,!0):(O===he&&ee&384||!B&&ce&16)&&we(Y,m,b),R&&ge(v)}($e&&(Ee=z&&z.onVnodeUnmounted)||be)&&Xe(()=>{Ee&&mt(Ee,m,v),be&&qt(v,null,m,"unmounted")},b)},ge=v=>{const{type:m,el:b,anchor:R,transition:B}=v;if(m===he){Q(b,R);return}if(m===an){M(v);return}const O=()=>{o(b),B&&!B.persisted&&B.afterLeave&&B.afterLeave()};if(v.shapeFlag&1&&B&&!B.persisted){const{leave:z,delayLeave:G}=B,Y=()=>z(b,O);G?G(v.el,O,Y):Y()}else O()},Q=(v,m)=>{let b;for(;v!==m;)b=f(v),o(v),v=b;o(m)},U=(v,m,b)=>{const{bum:R,scope:B,job:O,subTree:z,um:G,m:Y,a:F}=v;Xo(Y),Xo(F),R&&rn(R),B.stop(),O&&(O.flags|=8,ve(z,v,m,b)),G&&Xe(G,m),Xe(()=>{v.isUnmounted=!0},m),m&&m.pendingBranch&&!m.isUnmounted&&v.asyncDep&&!v.asyncResolved&&v.suspenseId===m.pendingId&&(m.deps--,m.deps===0&&m.resolve())},we=(v,m,b,R=!1,B=!1,O=0)=>{for(let z=O;z<v.length;z++)ve(v[z],m,b,R,B)},E=v=>{if(v.shapeFlag&6)return E(v.component.subTree);if(v.shapeFlag&128)return v.suspense.next();const m=f(v.anchor||v.el),b=m&&m[ya];return b?f(b):m};let H=!1;const J=(v,m,b)=>{v==null?m._vnode&&ve(m._vnode,null,null,!0):I(m._vnode||null,v,m,null,null,null,b),m._vnode=v,H||(H=!0,Ko(),ki(),H=!1)},se={p:I,um:ve,m:ie,r:ge,mt:w,mc:X,pc:y,pbc:te,n:E,o:e};return{render:J,hydrate:void 0,createApp:Ua(J)}}function Un({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function Jt({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Xa(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Fi(e,t,s=!1){const n=e.children,o=t.children;if(le(n)&&le(o))for(let i=0;i<n.length;i++){const l=n[i];let a=o[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=o[i]=Nt(o[i]),a.el=l.el),!s&&a.patchFlag!==-2&&Fi(l,a)),a.type===An&&(a.el=l.el)}}function ec(e){const t=e.slice(),s=[0];let n,o,i,l,a;const c=e.length;for(n=0;n<c;n++){const d=e[n];if(d!==0){if(o=s[s.length-1],e[o]<d){t[n]=o,s.push(n);continue}for(i=0,l=s.length-1;i<l;)a=i+l>>1,e[s[a]]<d?i=a+1:l=a;d<e[s[i]]&&(i>0&&(t[n]=s[i-1]),s[i]=n)}}for(i=s.length,l=s[i-1];i-- >0;)s[i]=l,l=t[l];return s}function Ui(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ui(t)}function Xo(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const tc=Symbol.for("v-scx"),sc=()=>lt(tc);function st(e,t,s){return zi(e,t,s)}function zi(e,t,s=Me){const{immediate:n,deep:o,flush:i,once:l}=s,a=Be({},s),c=t&&n||!t&&i!=="post";let d;if(Ks){if(i==="sync"){const h=sc();d=h.__watcherHandles||(h.__watcherHandles=[])}else if(!c){const h=()=>{};return h.stop=kt,h.resume=kt,h.pause=kt,h}}const u=je;a.call=(h,S,I)=>ut(h,u,S,I);let p=!1;i==="post"?a.scheduler=h=>{Xe(h,u&&u.suspense)}:i!=="sync"&&(p=!0,a.scheduler=(h,S)=>{S?h():Io(h)}),a.augmentJob=h=>{t&&(h.flags|=4),p&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const f=va(e,t,a);return Ks&&(d?d.push(f):c&&f()),f}function nc(e,t,s){const n=this.proxy,o=Ve(e)?e.includes(".")?Wi(n,e):()=>n[e]:e.bind(n,n);let i;fe(t)?i=t:(i=t.handler,s=t);const l=en(this),a=zi(o,i.bind(n),s);return l(),a}function Wi(e,t){const s=t.split(".");return()=>{let n=e;for(let o=0;o<s.length&&n;o++)n=n[s[o]];return n}}const oc=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${at(t)}Modifiers`]||e[`${zt(t)}Modifiers`];function rc(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||Me;let o=s;const i=t.startsWith("update:"),l=i&&oc(n,t.slice(7));l&&(l.trim&&(o=s.map(u=>Ve(u)?u.trim():u)),l.number&&(o=s.map(dn)));let a,c=n[a=Vn(t)]||n[a=Vn(at(t))];!c&&i&&(c=n[a=Vn(zt(t))]),c&&ut(c,e,6,o);const d=n[a+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,ut(d,e,6,o)}}function Ki(e,t,s=!1){const n=t.emitsCache,o=n.get(e);if(o!==void 0)return o;const i=e.emits;let l={},a=!1;if(!fe(e)){const c=d=>{const u=Ki(d,t,!0);u&&(a=!0,Be(l,u))};!s&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!i&&!a?(Te(e)&&n.set(e,null),null):(le(i)?i.forEach(c=>l[c]=null):Be(l,i),Te(e)&&n.set(e,l),l)}function $n(e,t){return!e||!_n(t)?!1:(t=t.slice(2).replace(/Once$/,""),xe(e,t[0].toLowerCase()+t.slice(1))||xe(e,zt(t))||xe(e,t))}function er(e){const{type:t,vnode:s,proxy:n,withProxy:o,propsOptions:[i],slots:l,attrs:a,emit:c,render:d,renderCache:u,props:p,data:f,setupState:h,ctx:S,inheritAttrs:I}=e,P=vn(e);let k,D;try{if(s.shapeFlag&4){const M=o||n,L=M;k=_t(d.call(L,M,u,p,h,f,S)),D=a}else{const M=t;k=_t(M.length>1?M(p,{attrs:a,slots:l,emit:c}):M(p,null)),D=t.props?a:ic(a)}}catch(M){Vs.length=0,En(M,e,1),k=Ie(Ut)}let V=k;if(D&&I!==!1){const M=Object.keys(D),{shapeFlag:L}=V;M.length&&L&7&&(i&&M.some(yo)&&(D=lc(D,i)),V=os(V,D,!1,!0))}return s.dirs&&(V=os(V,null,!1,!0),V.dirs=V.dirs?V.dirs.concat(s.dirs):s.dirs),s.transition&&zs(V,s.transition),k=V,vn(P),k}const ic=e=>{let t;for(const s in e)(s==="class"||s==="style"||_n(s))&&((t||(t={}))[s]=e[s]);return t},lc=(e,t)=>{const s={};for(const n in e)(!yo(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function ac(e,t,s){const{props:n,children:o,component:i}=e,{props:l,children:a,patchFlag:c}=t,d=i.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&c>=0){if(c&1024)return!0;if(c&16)return n?tr(n,l,d):!!l;if(c&8){const u=t.dynamicProps;for(let p=0;p<u.length;p++){const f=u[p];if(l[f]!==n[f]&&!$n(d,f))return!0}}}else return(o||a)&&(!a||!a.$stable)?!0:n===l?!1:n?l?tr(n,l,d):!0:!!l;return!1}function tr(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let o=0;o<n.length;o++){const i=n[o];if(t[i]!==e[i]&&!$n(s,i))return!0}return!1}function cc({vnode:e,parent:t},s){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=s,t=t.parent;else break}}const Gi=e=>e.__isSuspense;function uc(e,t){t&&t.pendingBranch?le(e)?t.effects.push(...e):t.effects.push(e):wa(e)}const he=Symbol.for("v-fgt"),An=Symbol.for("v-txt"),Ut=Symbol.for("v-cmt"),an=Symbol.for("v-stc"),Vs=[];let tt=null;function T(e=!1){Vs.push(tt=e?null:[])}function dc(){Vs.pop(),tt=Vs[Vs.length-1]||null}let Ws=1;function sr(e,t=!1){Ws+=e,e<0&&tt&&t&&(tt.hasOnce=!0)}function qi(e){return e.dynamicChildren=Ws>0?tt||ps:null,dc(),Ws>0&&tt&&tt.push(e),e}function A(e,t,s,n,o,i){return qi(r(e,t,s,n,o,i,!0))}function At(e,t,s,n,o){return qi(Ie(e,t,s,n,o,!0))}function wn(e){return e?e.__v_isVNode===!0:!1}function us(e,t){return e.type===t.type&&e.key===t.key}const Ji=({key:e})=>e??null,cn=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Ve(e)||Le(e)||fe(e)?{i:Je,r:e,k:t,f:!!s}:e:null);function r(e,t=null,s=null,n=0,o=null,i=e===he?0:1,l=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ji(t),ref:t&&cn(t),scopeId:xi,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Je};return a?(Lo(c,s),i&128&&e.normalize(c)):s&&(c.shapeFlag|=Ve(s)?8:16),Ws>0&&!l&&tt&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&tt.push(c),c}const Ie=fc;function fc(e,t=null,s=null,n=0,o=null,i=!1){if((!e||e===La)&&(e=Ut),wn(e)){const a=os(e,t,!0);return s&&Lo(a,s),Ws>0&&!i&&tt&&(a.shapeFlag&6?tt[tt.indexOf(e)]=a:tt.push(a)),a.patchFlag=-2,a}if(xc(e)&&(e=e.__vccOpts),t){t=pc(t);let{class:a,style:c}=t;a&&!Ve(a)&&(t.class=_e(a)),Te(c)&&($o(c)&&!le(c)&&(c=Be({},c)),t.style=Ge(c))}const l=Ve(e)?1:Gi(e)?128:ba(e)?64:Te(e)?4:fe(e)?2:0;return r(e,t,s,n,o,l,i,!0)}function pc(e){return e?$o(e)||Ri(e)?Be({},e):e:null}function os(e,t,s=!1,n=!1){const{props:o,ref:i,patchFlag:l,children:a,transition:c}=e,d=t?hc(o||{},t):o,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:d,key:d&&Ji(d),ref:t&&t.ref?s&&i?le(i)?i.concat(cn(t)):[i,cn(t)]:cn(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==he?l===-1?16:l|16:l,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&os(e.ssContent),ssFallback:e.ssFallback&&os(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&n&&zs(u,c.clone(u)),u}function Oe(e=" ",t=0){return Ie(An,null,e,t)}function fs(e,t){const s=Ie(an,null,e);return s.staticCount=t,s}function oe(e="",t=!1){return t?(T(),At(Ut,null,e)):Ie(Ut,null,e)}function _t(e){return e==null||typeof e=="boolean"?Ie(Ut):le(e)?Ie(he,null,e.slice()):wn(e)?Nt(e):Ie(An,null,String(e))}function Nt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:os(e)}function Lo(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(le(t))s=16;else if(typeof t=="object")if(n&65){const o=t.default;o&&(o._c&&(o._d=!1),Lo(e,o()),o._c&&(o._d=!0));return}else{s=32;const o=t._;!o&&!Ri(t)?t._ctx=Je:o===3&&Je&&(Je.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else fe(t)?(t={default:t,_ctx:Je},s=32):(t=String(t),n&64?(s=16,t=[Oe(t)]):s=8);e.children=t,e.shapeFlag|=s}function hc(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const o in n)if(o==="class")t.class!==n.class&&(t.class=_e([t.class,n.class]));else if(o==="style")t.style=Ge([t.style,n.style]);else if(_n(o)){const i=t[o],l=n[o];l&&i!==l&&!(le(i)&&i.includes(l))&&(t[o]=i?[].concat(i,l):l)}else o!==""&&(t[o]=n[o])}return t}function mt(e,t,s,n=null){ut(e,t,7,[s,n])}const vc=Pi();let gc=0;function mc(e,t,s){const n=e.type,o=(t?t.appContext:e.appContext)||vc,i={uid:gc++,vnode:e,type:n,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Qr(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Vi(n,o),emitsOptions:Ki(n,o),emit:null,emitted:null,propsDefaults:Me,inheritAttrs:n.inheritAttrs,ctx:Me,data:Me,props:Me,attrs:Me,slots:Me,refs:Me,setupState:Me,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=rc.bind(null,i),e.ce&&e.ce(i),i}let je=null;const wc=()=>je||Je;let yn,ao;{const e=xn(),t=(s,n)=>{let o;return(o=e[s])||(o=e[s]=[]),o.push(n),i=>{o.length>1?o.forEach(l=>l(i)):o[0](i)}};yn=t("__VUE_INSTANCE_SETTERS__",s=>je=s),ao=t("__VUE_SSR_SETTERS__",s=>Ks=s)}const en=e=>{const t=je;return yn(e),e.scope.on(),()=>{e.scope.off(),yn(t)}},nr=()=>{je&&je.scope.off(),yn(null)};function Yi(e){return e.vnode.shapeFlag&4}let Ks=!1;function yc(e,t=!1,s=!1){t&&ao(t);const{props:n,children:o}=e.vnode,i=Yi(e);Wa(e,n,i,t),Ja(e,o,s);const l=i?bc(e,t):void 0;return t&&ao(!1),l}function bc(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Oa);const{setup:n}=s;if(n){Wt();const o=e.setupContext=n.length>1?kc(e):null,i=en(e),l=Qs(n,e,0,[e.props,o]),a=Wr(l);if(Kt(),i(),(a||e.sp)&&!Rs(e)&&Ei(e),a){if(l.then(nr,nr),t)return l.then(c=>{or(e,c)}).catch(c=>{En(c,e,0)});e.asyncDep=l}else or(e,l)}else Zi(e)}function or(e,t,s){fe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Te(t)&&(e.setupState=wi(t)),Zi(e)}function Zi(e,t,s){const n=e.type;e.render||(e.render=n.render||kt);{const o=en(e);Wt();try{Va(e)}finally{Kt(),o()}}}const _c={get(e,t){return Ue(e,"get",""),e[t]}};function kc(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,_c),slots:e.slots,emit:e.emit,expose:t}}function In(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(wi(Ao(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Os)return Os[s](e)},has(t,s){return s in t||s in Os}})):e.proxy}function Cc(e,t=!0){return fe(e)?e.displayName||e.name:e.name||t&&e.__name}function xc(e){return fe(e)&&"__vccOpts"in e}const ye=(e,t)=>pa(e,t,Ks);function Qi(e,t,s){const n=arguments.length;return n===2?Te(t)&&!le(t)?wn(t)?Ie(e,null,[t]):Ie(e,t):Ie(e,null,t):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&wn(s)&&(s=[s]),Ie(e,t,s))}const Sc="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let co;const rr=typeof window<"u"&&window.trustedTypes;if(rr)try{co=rr.createPolicy("vue",{createHTML:e=>e})}catch{}const Xi=co?e=>co.createHTML(e):e=>e,Ec="http://www.w3.org/2000/svg",Tc="http://www.w3.org/1998/Math/MathML",Tt=typeof document<"u"?document:null,ir=Tt&&Tt.createElement("template"),Mc={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const o=t==="svg"?Tt.createElementNS(Ec,e):t==="mathml"?Tt.createElementNS(Tc,e):s?Tt.createElement(e,{is:s}):Tt.createElement(e);return e==="select"&&n&&n.multiple!=null&&o.setAttribute("multiple",n.multiple),o},createText:e=>Tt.createTextNode(e),createComment:e=>Tt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Tt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,o,i){const l=s?s.previousSibling:t.lastChild;if(o&&(o===i||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),s),!(o===i||!(o=o.nextSibling)););else{ir.innerHTML=Xi(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const a=ir.content;if(n==="svg"||n==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}t.insertBefore(a,s)}return[l?l.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Dt="transition",Ss="animation",gs=Symbol("_vtc"),el={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},$c=Be({},ka,el),Yt=(e,t=[])=>{le(e)?e.forEach(s=>s(...t)):e&&e(...t)},lr=e=>e?le(e)?e.some(t=>t.length>1):e.length>1:!1;function Ac(e){const t={};for(const _ in e)_ in el||(t[_]=e[_]);if(e.css===!1)return t;const{name:s="v",type:n,duration:o,enterFromClass:i=`${s}-enter-from`,enterActiveClass:l=`${s}-enter-active`,enterToClass:a=`${s}-enter-to`,appearFromClass:c=i,appearActiveClass:d=l,appearToClass:u=a,leaveFromClass:p=`${s}-leave-from`,leaveActiveClass:f=`${s}-leave-active`,leaveToClass:h=`${s}-leave-to`}=e,S=Ic(o),I=S&&S[0],P=S&&S[1],{onBeforeEnter:k,onEnter:D,onEnterCancelled:V,onLeave:M,onLeaveCancelled:L,onBeforeAppear:Z=k,onAppear:ne=D,onAppearCancelled:X=V}=t,W=(_,q,w,C)=>{_._enterCancelled=C,Rt(_,q?u:a),Rt(_,q?d:l),w&&w()},te=(_,q)=>{_._isLeaving=!1,Rt(_,p),Rt(_,h),Rt(_,f),q&&q()},re=_=>(q,w)=>{const C=_?ne:D,K=()=>W(q,_,w);Yt(C,[q,K]),ar(()=>{Rt(q,_?c:i),wt(q,_?u:a),lr(C)||cr(q,n,I,K)})};return Be(t,{onBeforeEnter(_){Yt(k,[_]),wt(_,i),wt(_,l)},onBeforeAppear(_){Yt(Z,[_]),wt(_,c),wt(_,d)},onEnter:re(!1),onAppear:re(!0),onLeave(_,q){_._isLeaving=!0;const w=()=>te(_,q);wt(_,p),_._enterCancelled?(wt(_,f),uo()):(uo(),wt(_,f)),ar(()=>{_._isLeaving&&(Rt(_,p),wt(_,h),lr(M)||cr(_,n,P,w))}),Yt(M,[_,w])},onEnterCancelled(_){W(_,!1,void 0,!0),Yt(V,[_])},onAppearCancelled(_){W(_,!0,void 0,!0),Yt(X,[_])},onLeaveCancelled(_){te(_),Yt(L,[_])}})}function Ic(e){if(e==null)return null;if(Te(e))return[zn(e.enter),zn(e.leave)];{const t=zn(e);return[t,t]}}function zn(e){return Il(e)}function wt(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.add(s)),(e[gs]||(e[gs]=new Set)).add(t)}function Rt(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const s=e[gs];s&&(s.delete(t),s.size||(e[gs]=void 0))}function ar(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Pc=0;function cr(e,t,s,n){const o=e._endId=++Pc,i=()=>{o===e._endId&&n()};if(s!=null)return setTimeout(i,s);const{type:l,timeout:a,propCount:c}=tl(e,t);if(!l)return n();const d=l+"end";let u=0;const p=()=>{e.removeEventListener(d,f),i()},f=h=>{h.target===e&&++u>=c&&p()};setTimeout(()=>{u<c&&p()},a+1),e.addEventListener(d,f)}function tl(e,t){const s=window.getComputedStyle(e),n=S=>(s[S]||"").split(", "),o=n(`${Dt}Delay`),i=n(`${Dt}Duration`),l=ur(o,i),a=n(`${Ss}Delay`),c=n(`${Ss}Duration`),d=ur(a,c);let u=null,p=0,f=0;t===Dt?l>0&&(u=Dt,p=l,f=i.length):t===Ss?d>0&&(u=Ss,p=d,f=c.length):(p=Math.max(l,d),u=p>0?l>d?Dt:Ss:null,f=u?u===Dt?i.length:c.length:0);const h=u===Dt&&/\b(transform|all)(,|$)/.test(n(`${Dt}Property`).toString());return{type:u,timeout:p,propCount:f,hasTransform:h}}function ur(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((s,n)=>dr(s)+dr(e[n])))}function dr(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function uo(){return document.body.offsetHeight}function Dc(e,t,s){const n=e[gs];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const fr=Symbol("_vod"),Lc=Symbol("_vsh"),Rc=Symbol(""),Oc=/(^|;)\s*display\s*:/;function Vc(e,t,s){const n=e.style,o=Ve(s);let i=!1;if(s&&!o){if(t)if(Ve(t))for(const l of t.split(";")){const a=l.slice(0,l.indexOf(":")).trim();s[a]==null&&un(n,a,"")}else for(const l in t)s[l]==null&&un(n,l,"");for(const l in s)l==="display"&&(i=!0),un(n,l,s[l])}else if(o){if(t!==s){const l=n[Rc];l&&(s+=";"+l),n.cssText=s,i=Oc.test(s)}}else t&&e.removeAttribute("style");fr in e&&(e[fr]=i?n.display:"",e[Lc]&&(n.display="none"))}const pr=/\s*!important$/;function un(e,t,s){if(le(s))s.forEach(n=>un(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=Nc(e,t);pr.test(s)?e.setProperty(zt(n),s.replace(pr,""),"important"):e[n]=s}}const hr=["Webkit","Moz","ms"],Wn={};function Nc(e,t){const s=Wn[t];if(s)return s;let n=at(t);if(n!=="filter"&&n in e)return Wn[t]=n;n=Cn(n);for(let o=0;o<hr.length;o++){const i=hr[o]+n;if(i in e)return Wn[t]=i}return t}const vr="http://www.w3.org/1999/xlink";function gr(e,t,s,n,o,i=Vl(t)){n&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(vr,t.slice(6,t.length)):e.setAttributeNS(vr,t,s):s==null||i&&!Jr(s)?e.removeAttribute(t):e.setAttribute(t,i?"":Ct(s)?String(s):s)}function mr(e,t,s,n,o){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?Xi(s):s);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?e.getAttribute("value")||"":e.value,c=s==null?e.type==="checkbox"?"on":"":String(s);(a!==c||!("_value"in e))&&(e.value=c),s==null&&e.removeAttribute(t),e._value=s;return}let l=!1;if(s===""||s==null){const a=typeof e[t];a==="boolean"?s=Jr(s):s==null&&a==="string"?(s="",l=!0):a==="number"&&(s=0,l=!0)}try{e[t]=s}catch{}l&&e.removeAttribute(o||t)}function Ht(e,t,s,n){e.addEventListener(t,s,n)}function Bc(e,t,s,n){e.removeEventListener(t,s,n)}const wr=Symbol("_vei");function Hc(e,t,s,n,o=null){const i=e[wr]||(e[wr]={}),l=i[t];if(n&&l)l.value=n;else{const[a,c]=jc(t);if(n){const d=i[t]=zc(n,o);Ht(e,a,d,c)}else l&&(Bc(e,a,l,c),i[t]=void 0)}}const yr=/(?:Once|Passive|Capture)$/;function jc(e){let t;if(yr.test(e)){t={};let n;for(;n=e.match(yr);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):zt(e.slice(2)),t]}let Kn=0;const Fc=Promise.resolve(),Uc=()=>Kn||(Fc.then(()=>Kn=0),Kn=Date.now());function zc(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;ut(Wc(n,s.value),t,5,[n])};return s.value=e,s.attached=Uc(),s}function Wc(e,t){if(le(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>o=>!o._stopped&&n&&n(o))}else return t}const br=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Kc=(e,t,s,n,o,i)=>{const l=o==="svg";t==="class"?Dc(e,n,l):t==="style"?Vc(e,s,n):_n(t)?yo(t)||Hc(e,t,s,n,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Gc(e,t,n,l))?(mr(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&gr(e,t,n,l,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ve(n))?mr(e,at(t),n,i,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),gr(e,t,n,l))};function Gc(e,t,s,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&br(t)&&fe(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return br(t)&&Ve(s)?!1:t in e}const sl=new WeakMap,nl=new WeakMap,bn=Symbol("_moveCb"),_r=Symbol("_enterCb"),qc=e=>(delete e.props.mode,e),Jc=qc({name:"TransitionGroup",props:Be({},$c,{tag:String,moveClass:String}),setup(e,{slots:t}){const s=wc(),n=_a();let o,i;return $i(()=>{if(!o.length)return;const l=e.moveClass||`${e.name||"v"}-move`;if(!eu(o[0].el,s.vnode.el,l))return;o.forEach(Zc),o.forEach(Qc);const a=o.filter(Xc);uo(),a.forEach(c=>{const d=c.el,u=d.style;wt(d,l),u.transform=u.webkitTransform=u.transitionDuration="";const p=d[bn]=f=>{f&&f.target!==d||(!f||/transform$/.test(f.propertyName))&&(d.removeEventListener("transitionend",p),d[bn]=null,Rt(d,l))};d.addEventListener("transitionend",p)})}),()=>{const l=ke(e),a=Ac(l);let c=l.tag||he;if(o=[],i)for(let d=0;d<i.length;d++){const u=i[d];u.el&&u.el instanceof Element&&(o.push(u),zs(u,no(u,a,n,s)),sl.set(u,u.el.getBoundingClientRect()))}i=t.default?Si(t.default()):[];for(let d=0;d<i.length;d++){const u=i[d];u.key!=null&&zs(u,no(u,a,n,s))}return Ie(c,null,i)}}}),Yc=Jc;function Zc(e){const t=e.el;t[bn]&&t[bn](),t[_r]&&t[_r]()}function Qc(e){nl.set(e,e.el.getBoundingClientRect())}function Xc(e){const t=sl.get(e),s=nl.get(e),n=t.left-s.left,o=t.top-s.top;if(n||o){const i=e.el.style;return i.transform=i.webkitTransform=`translate(${n}px,${o}px)`,i.transitionDuration="0s",e}}function eu(e,t,s){const n=e.cloneNode(),o=e[gs];o&&o.forEach(a=>{a.split(/\s+/).forEach(c=>c&&n.classList.remove(c))}),s.split(/\s+/).forEach(a=>a&&n.classList.add(a)),n.style.display="none";const i=t.nodeType===1?t:t.parentNode;i.appendChild(n);const{hasTransform:l}=tl(n);return i.removeChild(n),l}const ms=e=>{const t=e.props["onUpdate:modelValue"]||!1;return le(t)?s=>rn(t,s):t};function tu(e){e.target.composing=!0}function kr(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const It=Symbol("_assign"),me={created(e,{modifiers:{lazy:t,trim:s,number:n}},o){e[It]=ms(o);const i=n||o.props&&o.props.type==="number";Ht(e,t?"change":"input",l=>{if(l.target.composing)return;let a=e.value;s&&(a=a.trim()),i&&(a=dn(a)),e[It](a)}),s&&Ht(e,"change",()=>{e.value=e.value.trim()}),t||(Ht(e,"compositionstart",tu),Ht(e,"compositionend",kr),Ht(e,"change",kr))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:n,trim:o,number:i}},l){if(e[It]=ms(l),e.composing)return;const a=(i||e.type==="number")&&!/^0\d/.test(e.value)?dn(e.value):e.value,c=t??"";a!==c&&(document.activeElement===e&&e.type!=="range"&&(n&&t===s||o&&e.value.trim()===c)||(e.value=c))}},ss={deep:!0,created(e,t,s){e[It]=ms(s),Ht(e,"change",()=>{const n=e._modelValue,o=Gs(e),i=e.checked,l=e[It];if(le(n)){const a=ko(n,o),c=a!==-1;if(i&&!c)l(n.concat(o));else if(!i&&c){const d=[...n];d.splice(a,1),l(d)}}else if(bs(n)){const a=new Set(n);i?a.add(o):a.delete(o),l(a)}else l(ol(e,i))})},mounted:Cr,beforeUpdate(e,t,s){e[It]=ms(s),Cr(e,t,s)}};function Cr(e,{value:t,oldValue:s},n){e._modelValue=t;let o;if(le(t))o=ko(t,n.props.value)>-1;else if(bs(t))o=t.has(n.props.value);else{if(t===s)return;o=Zs(t,ol(e,!0))}e.checked!==o&&(e.checked=o)}const Xt={deep:!0,created(e,{value:t,modifiers:{number:s}},n){const o=bs(t);Ht(e,"change",()=>{const i=Array.prototype.filter.call(e.options,l=>l.selected).map(l=>s?dn(Gs(l)):Gs(l));e[It](e.multiple?o?new Set(i):i:i[0]),e._assigning=!0,dt(()=>{e._assigning=!1})}),e[It]=ms(n)},mounted(e,{value:t}){xr(e,t)},beforeUpdate(e,t,s){e[It]=ms(s)},updated(e,{value:t}){e._assigning||xr(e,t)}};function xr(e,t){const s=e.multiple,n=le(t);if(!(s&&!n&&!bs(t))){for(let o=0,i=e.options.length;o<i;o++){const l=e.options[o],a=Gs(l);if(s)if(n){const c=typeof a;c==="string"||c==="number"?l.selected=t.some(d=>String(d)===String(a)):l.selected=ko(t,a)>-1}else l.selected=t.has(a);else if(Zs(Gs(l),t)){e.selectedIndex!==o&&(e.selectedIndex=o);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Gs(e){return"_value"in e?e._value:e.value}function ol(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const su=["ctrl","shift","alt","meta"],nu={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>su.some(s=>e[`${s}Key`]&&!t.includes(s))},rt=(e,t)=>{const s=e._withMods||(e._withMods={}),n=t.join(".");return s[n]||(s[n]=(o,...i)=>{for(let l=0;l<t.length;l++){const a=nu[t[l]];if(a&&a(o,t))return}return e(o,...i)})},ou={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},et=(e,t)=>{const s=e._withKeys||(e._withKeys={}),n=t.join(".");return s[n]||(s[n]=o=>{if(!("key"in o))return;const i=zt(o.key);if(t.some(l=>l===i||ou[l]===i))return e(o)})},ru=Be({patchProp:Kc},Mc);let Sr;function iu(){return Sr||(Sr=Za(ru))}const lu=(...e)=>{const t=iu().createApp(...e),{mount:s}=t;return t.mount=n=>{const o=cu(n);if(!o)return;const i=t._component;!fe(i)&&!i.render&&!i.template&&(i.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const l=s(o,!1,au(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),l},t};function au(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function cu(e){return Ve(e)?document.querySelector(e):e}/*!
 * pinia v3.0.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let rl;const Pn=e=>rl=e,il=Symbol();function fo(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Ns;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Ns||(Ns={}));function uu(){const e=Xr(!0),t=e.run(()=>N({}));let s=[],n=[];const o=Ao({install(i){Pn(o),o._a=i,i.provide(il,o),i.config.globalProperties.$pinia=o,n.forEach(l=>s.push(l)),n=[]},use(i){return this._a?s.push(i):n.push(i),this},_p:s,_a:null,_e:e,_s:new Map,state:t});return o}const ll=()=>{};function Er(e,t,s,n=ll){e.push(t);const o=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),n())};return!s&&ei()&&Bl(o),o}function as(e,...t){e.slice().forEach(s=>{s(...t)})}const du=e=>e(),Tr=Symbol(),Gn=Symbol();function po(e,t){e instanceof Map&&t instanceof Map?t.forEach((s,n)=>e.set(n,s)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const s in t){if(!t.hasOwnProperty(s))continue;const n=t[s],o=e[s];fo(o)&&fo(n)&&e.hasOwnProperty(s)&&!Le(n)&&!Ft(n)?e[s]=po(o,n):e[s]=n}return e}const fu=Symbol();function pu(e){return!fo(e)||!e.hasOwnProperty(fu)}const{assign:Ot}=Object;function hu(e){return!!(Le(e)&&e.effect)}function vu(e,t,s,n){const{state:o,actions:i,getters:l}=t,a=s.state.value[e];let c;function d(){a||(s.state.value[e]=o?o():{});const u=aa(s.state.value[e]);return Ot(u,i,Object.keys(l||{}).reduce((p,f)=>(p[f]=Ao(ye(()=>{Pn(s);const h=s._s.get(e);return l[f].call(h,h)})),p),{}))}return c=al(e,d,t,s,n,!0),c}function al(e,t,s={},n,o,i){let l;const a=Ot({actions:{}},s),c={deep:!0};let d,u,p=[],f=[],h;const S=n.state.value[e];!i&&!S&&(n.state.value[e]={}),N({});let I;function P(X){let W;d=u=!1,typeof X=="function"?(X(n.state.value[e]),W={type:Ns.patchFunction,storeId:e,events:h}):(po(n.state.value[e],X),W={type:Ns.patchObject,payload:X,storeId:e,events:h});const te=I=Symbol();dt().then(()=>{I===te&&(d=!0)}),u=!0,as(p,W,n.state.value[e])}const k=i?function(){const{state:W}=s,te=W?W():{};this.$patch(re=>{Ot(re,te)})}:ll;function D(){l.stop(),p=[],f=[],n._s.delete(e)}const V=(X,W="")=>{if(Tr in X)return X[Gn]=W,X;const te=function(){Pn(n);const re=Array.from(arguments),_=[],q=[];function w($){_.push($)}function C($){q.push($)}as(f,{args:re,name:te[Gn],store:L,after:w,onError:C});let K;try{K=X.apply(this&&this.$id===e?this:L,re)}catch($){throw as(q,$),$}return K instanceof Promise?K.then($=>(as(_,$),$)).catch($=>(as(q,$),Promise.reject($))):(as(_,K),K)};return te[Tr]=!0,te[Gn]=W,te},M={_p:n,$id:e,$onAction:Er.bind(null,f),$patch:P,$reset:k,$subscribe(X,W={}){const te=Er(p,X,W.detached,()=>re()),re=l.run(()=>st(()=>n.state.value[e],_=>{(W.flush==="sync"?u:d)&&X({storeId:e,type:Ns.direct,events:h},_)},Ot({},c,W)));return te},$dispose:D},L=rs(M);n._s.set(e,L);const ne=(n._a&&n._a.runWithContext||du)(()=>n._e.run(()=>(l=Xr()).run(()=>t({action:V}))));for(const X in ne){const W=ne[X];if(Le(W)&&!hu(W)||Ft(W))i||(S&&pu(W)&&(Le(W)?W.value=S[X]:po(W,S[X])),n.state.value[e][X]=W);else if(typeof W=="function"){const te=V(W,X);ne[X]=te,a.actions[X]=W}}return Ot(L,ne),Ot(ke(L),ne),Object.defineProperty(L,"$state",{get:()=>n.state.value[e],set:X=>{P(W=>{Ot(W,X)})}}),n._p.forEach(X=>{Ot(L,l.run(()=>X({store:L,app:n._a,pinia:n,options:a})))}),S&&i&&s.hydrate&&s.hydrate(L.$state,S),d=!0,u=!0,L}/*! #__NO_SIDE_EFFECTS__ */function Dn(e,t,s){let n;const o=typeof t=="function";n=o?s:t;function i(l,a){const c=za();return l=l||(c?lt(il,null):null),l&&Pn(l),l=rl,l._s.has(e)||(o?al(e,t,n,l):vu(e,n,l)),l._s.get(e)}return i.$id=e,i}class gu{constructor(t,s={}){Fe(this,"reconnectDelay");Fe(this,"maxReconnectAttempts");Fe(this,"reconnectAttempts");Fe(this,"pingInterval");Fe(this,"timeout");Fe(this,"authToken");Fe(this,"callbacks");Fe(this,"wsConnection");Fe(this,"apiResolve");Fe(this,"connectionEstablished");Fe(this,"timerClose");Fe(this,"messageQueue",[]);Fe(this,"isDestroyed",!1);Fe(this,"timerReconnect");this.reconnectDelay=s.reconnectDelay||5e3,this.maxReconnectAttempts=s.maxReconnectAttempts||500,this.reconnectAttempts=0,this.pingInterval=s.pingInterval||1e4,this.timeout=s.timeout||2e4,this.authToken=s.authToken,this.callbacks=s.callbacks,this.wsConnection={ws:null,closeInitiated:!1,timerPing:void 0},this.apiResolve={},this.connectionEstablished=!1,this.initConnect(t)}isConnected(){var t;return!!this.wsConnection.ws&&((t=this.wsConnection.ws)==null?void 0:t.readyState)===1}initConnect(t){if(this.isDestroyed){console.warn("WebSocket instance has been destroyed, cannot reconnect");return}console.log(`Connecting to WebSocket server: ${t}`),this.wsConnection.ws=new WebSocket(t),this.wsConnection.closeInitiated=!1,this.wsConnection.ws.onopen=()=>{console.log(`Open to WebSocket server: ${t}`),this.reconnectAttempts=0,this.wsConnection.timerPing=window.setTimeout(()=>{this.pingServer()},this.pingInterval),this.processMessageQueue()},this.wsConnection.ws.onmessage=s=>{try{const n=JSON.parse(s.data);if(!this.validateMessage(n)){console.error("Invalid message format:",n);return}n.event==="service:error"?this.handleServiceError(n):n.event.startsWith("broadcast:")?this.handleBroadcast(n):n.event.startsWith("service:")?this.service(n):n.event.startsWith("api:")&&this.messageHandler(n)}catch(n){console.error("Error parsing message:",n)}},this.wsConnection.ws.onerror=s=>{console.error("WebSocket error:",s),this.handleReconnect(t)},this.wsConnection.ws.onclose=s=>{this.wsConnection.closeInitiated?this.wsConnection.closeInitiated=!1:(console.warn(`Connection closed: ${s.code} - ${s.reason}`),this.handleReconnect(t))}}validateMessage(t){return!!(t&&typeof t.event=="string"&&(!t.payload||typeof t.payload=="object"))}handleReconnect(t){if(!this.isDestroyed)if(this.reconnectAttempts<this.maxReconnectAttempts){this.reconnectAttempts++;const s=Math.min(this.reconnectDelay*Math.pow(2,this.reconnectAttempts-1),15e3);console.warn(`Attempting to reconnect in ${s}ms (attempt ${this.reconnectAttempts}/${this.maxReconnectAttempts})`),this.timerReconnect=window.setTimeout(()=>{this.isDestroyed||(this.wsConnection.closeInitiated=!0,this.wsConnection.ws&&(this.wsConnection.ws.close(),this.wsConnection.ws.onclose=null,this.wsConnection.ws.onerror=null,this.wsConnection.ws.onmessage=null,this.wsConnection.ws.onopen=null,this.wsConnection.ws=null),this.initConnect(t))},s)}else console.error("Max reconnection attempts reached")}processMessageQueue(){for(;this.messageQueue.length>0;){const t=this.messageQueue.shift();t&&this.send(t)}}disconnect(){this.isConnected()?(this.wsConnection.closeInitiated=!0,this.wsConnection.ws&&this.wsConnection.ws.close(),this.wsConnection.timerPing&&window.clearInterval(this.wsConnection.timerPing),console.log("Disconnected with Binance Websocket Server")):console.warn("No connection to close.")}pingServer(){if(!this.isDestroyed){if(!this.isConnected()){console.warn("Ping only can be sent when connection is ready.");return}console.log("Ping server"),this.send({event:"service:ping",payload:{}})}}send(t){if(!this.isDestroyed){if(!this.isConnected()){console.warn("Connection not ready, adding to queue"),this.messageQueue.push(t);return}if(this.timerClose&&window.clearTimeout(this.timerClose),this.timerClose=window.setTimeout(()=>{this.disconnect()},this.timeout),this.wsConnection.ws)try{this.wsConnection.timerPing&&window.clearTimeout(this.wsConnection.timerPing),this.wsConnection.ws.send(JSON.stringify(t)),this.wsConnection.timerPing=window.setTimeout(()=>{this.pingServer()},this.pingInterval)}catch(s){console.error("Error sending message:",s),this.messageQueue.push(t)}}}async api(t,s={}){return new Promise((n,o)=>{this.apiResolve[t]&&o(),this.send({event:`api:${t}`,payload:s}),this.apiResolve[t]={resolve:n,reject:o,timeout:window.setTimeout(()=>{o()},1e4)}})}service(t){const s={pong:()=>{this.timerClose&&window.clearTimeout(this.timerClose)},connection_established:n=>{this.connectionEstablished=!0,console.log("connection_established",n)}};if(t&&t.event){const n=t.event.split(":");if(n.length<2)return;const o=n[1],i=s[o];i&&i(t.payload)}}messageHandler(t){var i,l;console.log("message handler");const s=t.event.split(":");if(s.length<2)return;const n=s[1],o=this.apiResolve[n];o&&(window.clearTimeout(o.timeout),delete this.apiResolve[n],t.status===200&&o.resolve?o.resolve(t):o.reject&&o.reject({status:t==null?void 0:t.status,message:(i=t==null?void 0:t.payload)==null?void 0:i.message,messages:(l=t==null?void 0:t.payload)==null?void 0:l.messages}))}async handleReauthorize(){var t;try{this.destroy(),(t=this.callbacks)!=null&&t.onReauthorize&&(console.error("handleReauthorize callback"),await this.callbacks.onReauthorize())}catch(s){console.error("Reauthorization failed:",s)}}handleServiceError(t){t.status===4001&&(console.warn("Token expired or invalid:",t.payload.message),this.handleReauthorize())}handleBroadcast(t){var s;console.log("handleBroadcast"),(s=this.callbacks)!=null&&s.onBroadcast&&this.callbacks.onBroadcast(t)}destroy(){var t;this.isDestroyed||(this.isDestroyed=!0,this.wsConnection.ws&&(this.wsConnection.closeInitiated=!0,this.wsConnection.ws.close(),this.wsConnection.ws.onclose=null,this.wsConnection.ws.onerror=null,this.wsConnection.ws.onmessage=null,this.wsConnection.ws.onopen=null),this.timerReconnect&&(window.clearTimeout(this.timerReconnect),this.timerReconnect=void 0),(t=this.wsConnection)!=null&&t.timerPing&&(window.clearInterval(this.wsConnection.timerPing),this.wsConnection.timerPing=void 0),this.timerClose&&(window.clearTimeout(this.timerClose),this.timerClose=void 0),this.messageQueue=[],Object.values(this.apiResolve).forEach(s=>{s.timeout&&window.clearTimeout(s.timeout)}),this.apiResolve={},this.connectionEstablished=!1,this.wsConnection={ws:null,closeInitiated:!1,timerPing:void 0})}}function mu(e){return{all:e=e||new Map,on:function(t,s){var n=e.get(t);n?n.push(s):e.set(t,[s])},off:function(t,s){var n=e.get(t);n&&(s?n.splice(n.indexOf(s)>>>0,1):e.set(t,[]))},emit:function(t,s){var n=e.get(t);n&&n.slice().map(function(o){o(s)}),(n=e.get("*"))&&n.slice().map(function(o){o(t,s)})}}}const wu=mu(),_s=()=>wu,yu="http://127.0.0.1:5174";let qn=null;const bu=_s(),pe={http:async(e,t,s={})=>{const n={method:e,headers:{"Content-Type":"application/json"}};e.toLowerCase()!=="get"&&e.toLowerCase()!=="delete"&&(n.body=JSON.stringify(s));try{const o=await fetch(`${yu}${t}`,n);if(!o.ok&&o.status===422){console.log("!response.ok && response.status === 422");const l=await o.json();return console.log({errorData:l}),{data:l,error:{code:422,message:String(l.message||"Validation Error")}}}if(!o.ok)return console.log("!response.ok"),o.status===401?(bu.emit("unauthorized"),{data:null,error:{code:401,message:"Unauthorized"}}):{data:null,error:{code:o.status,message:`HTTP error! status: ${o.status}`}};const i=await o.json();return console.log({data:i}),{data:i,error:null}}catch(o){return console.error("Network error:",o),{data:null,error:{code:0,message:o instanceof Error?o.message:"Network error. Please try again later."}}}},setWebSocketClient:e=>{qn=e},ws:async(e,t={})=>{if(!qn)return null;try{const s=await qn.api(e,t);return console.log({result:s}),s}catch(s){return console.error(s),null}}},Jn={deleteMessage:async e=>pe.http("DELETE",`/api/chat/messages/${e}`),updateMessage:async(e,t,s)=>pe.http("PUT",`/api/chat/messages/${e}`,{userId:s,messageId:e,content:t})},bt={getSubscriptions:async()=>pe.http("GET","/api/push-subscriptions"),createSubscription:async e=>pe.http("POST","/api/push-subscriptions",e),getSubscription:async e=>pe.http("GET",`/api/push-subscriptions/${e}`),deleteSubscription:async e=>pe.http("DELETE",`/api/push-subscriptions/${e}`),deleteSubscriptionByEndpoint:async e=>pe.http("DELETE","/api/push-subscriptions",{endpoint:e}),getSubscriptionStatistics:async e=>pe.http("GET",`/api/push-subscriptions/${e}/statistics`),deactivateSubscription:async e=>pe.http("PUT",`/api/push-subscriptions/${e}/deactivate`),sendSubscriptionNotification:async e=>pe.http("POST","/api/notifications/subscription-status",e),sendSystemNotification:async(e,t="info",s)=>pe.http("POST","/api/notifications/system",{message:e,type:t,metadata:s}),getVapidPublicKey:async()=>pe.http("GET","/api/push-subscriptions/vapid-public-key")},Ln=Dn("state",()=>{const e=localStorage.getItem("theme"),t=N(e==="dark"),s=N(window.innerWidth),n=N(!1),o=N("default"),i=N(null),l=N(!1),a=N(null),c=()=>{s.value=window.innerWidth},d=()=>{const w=window.matchMedia("(display-mode: standalone)").matches,C="standalone"in window.navigator&&window.navigator.standalone===!0,K=window.matchMedia("(display-mode: minimal-ui)").matches;return n.value=w||C||K,n.value};d();const u=window.matchMedia("(display-mode: standalone)"),p=window.matchMedia("(display-mode: minimal-ui)");u.addEventListener("change",d),p.addEventListener("change",d),window.addEventListener("resize",c);const f=()=>{"Notification"in window&&(o.value=Notification.permission)},h=async()=>{if(!("Notification"in window))return console.warn("This browser does not support notifications"),"denied";const w=await Notification.requestPermission();return o.value=w,w},S=async()=>o.value!=="granted"?await h()==="granted":!0,I=async()=>{if(!("serviceWorker"in navigator)||!("PushManager"in window))return console.warn("Push messaging is not supported"),null;try{const w=await navigator.serviceWorker.ready,C=await w.pushManager.getSubscription();if(C)return i.value=C,l.value=!0,C;const K=await D();if(!V(K))throw console.error(" VAPID     "),console.info("   VAPID :"),console.info("1.  VAPID : npx web-push generate-vapid-keys"),console.info("2.       VITE_VAPID_PUBLIC_KEY"),console.info("3.    /api/push-subscriptions/vapid-public-key  "),new Error("VAPID   ");const $=await w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:k(K).buffer});return i.value=$,l.value=!0,await X($),$}catch(w){return console.error("Failed to subscribe to push notifications:",w),w instanceof Error&&w.message.includes("VAPID")&&console.warn(" Push-   (VAPID   )"),null}},P=async()=>{if(!i.value)return!0;try{const w=await i.value.unsubscribe();return w&&(await W(i.value),i.value=null,l.value=!1),w}catch(w){return console.error("Failed to unsubscribe from push notifications:",w),!1}},k=w=>{const C="=".repeat((4-w.length%4)%4),K=(w+C).replace(/-/g,"+").replace(/_/g,"/"),$=window.atob(K),y=new Uint8Array($.length);for(let g=0;g<$.length;++g)y[g]=$.charCodeAt(g);return y},D=async()=>{try{const C=await bt.getVapidPublicKey();if(C.data&&C.data.vapidPublicKey)return C.data.vapidPublicKey}catch(C){console.warn("   VAPID   :",C)}return"BFAEDQ51jXo1Kqbv6yFIoluVTt0mnJDP1vFGoNz7Sn_tV6f4kc3DkeSAK_AguER1QafIQ5Cc9QdefNYaZaioxnA"},V=w=>!(!w||w==="YOUR_VAPID_PUBLIC_KEY_HERE"||w.length<80),M=()=>{const w=navigator.userAgent.toLowerCase();return/mobile|android|iphone|ipad|tablet/.test(w)?"mobile":"desktop"},L=()=>{const w=navigator.userAgent,C=w.toLowerCase();let K="Unknown",$="Unknown";if(C.includes("chrome")&&!C.includes("edg")){K="Chrome";const y=w.match(/Chrome\/(\d+\.\d+)/);$=y?y[1]:"Unknown"}else if(C.includes("firefox")){K="Firefox";const y=w.match(/Firefox\/(\d+\.\d+)/);$=y?y[1]:"Unknown"}else if(C.includes("safari")&&!C.includes("chrome")){K="Safari";const y=w.match(/Version\/(\d+\.\d+)/);$=y?y[1]:"Unknown"}else if(C.includes("edg")){K="Edge";const y=w.match(/Edg\/(\d+\.\d+)/);$=y?y[1]:"Unknown"}return{name:K,version:$}},Z=()=>{const w=navigator.userAgent;let C="Unknown",K="Unknown";if(w.includes("Windows NT")){C="Windows";const $=w.match(/Windows NT (\d+\.\d+)/);K=$?$[1]:"Unknown"}else if(w.includes("Mac OS X")){C="macOS";const $=w.match(/Mac OS X (\d+[._]\d+[._]?\d*)/);K=$?$[1].replace(/_/g,"."):"Unknown"}else if(w.includes("Linux"))C="Linux",K="Unknown";else if(w.includes("Android")){C="Android";const $=w.match(/Android (\d+\.\d+)/);K=$?$[1]:"Unknown"}else if(w.includes("iPhone")||w.includes("iPad")){C="iOS";const $=w.match(/OS (\d+[._]\d+[._]?\d*)/);K=$?$[1].replace(/_/g,"."):"Unknown"}return{name:C,version:K}},ne=async()=>{try{return null}catch(w){return console.warn("Could not determine client IP:",w),null}},X=async w=>{try{const C=L(),K=Z(),$=await ne(),y={endpoint:w.endpoint,p256dhKey:re(w.getKey("p256dh")),authKey:re(w.getKey("auth")),userAgent:navigator.userAgent,ipAddress:$||void 0,deviceType:M(),browserName:C.name,browserVersion:C.version,osName:K.name,osVersion:K.version,notificationTypes:["new_message","mention","system"],timezone:Intl.DateTimeFormat().resolvedOptions().timeZone},g=await bt.createSubscription(y);if(g.error)throw console.error("Failed to save subscription to server:",g.error),new Error(g.error.message);if(g.data){a.value=g.data.id,console.log("Subscription saved to server successfully:",g.data);try{await bt.sendSubscriptionNotification({type:"subscription_enabled",message:"  push-",subscriptionId:g.data.id,metadata:{endpoint:w.endpoint,deviceType:M(),browserName:C.name,browserVersion:C.version,osName:K.name,osVersion:K.version,timestamp:new Date().toISOString()}})}catch(x){console.warn("      :",x)}}}catch(C){throw console.error("Error sending subscription to server:",C),C}},W=async w=>{try{if(a.value){const C=a.value,K=await bt.deleteSubscription(C);if(K.error)throw console.error("Failed to remove subscription from server:",K.error),new Error(K.error.message);a.value=null,console.log("Subscription removed from server successfully");try{await bt.sendSubscriptionNotification({type:"subscription_disabled",message:"Push-  ",subscriptionId:C,metadata:{reason:"user_unsubscribed",endpoint:w.endpoint,timestamp:new Date().toISOString()}})}catch($){console.warn("      :",$)}}else{const C=await bt.deleteSubscriptionByEndpoint(w.endpoint);if(C.error)throw console.error("Failed to remove subscription from server:",C.error),new Error(C.error.message);console.log("Subscription removed from server by endpoint successfully");try{await bt.sendSubscriptionNotification({type:"subscription_disabled",message:"Push-    endpoint",metadata:{reason:"user_unsubscribed_by_endpoint",endpoint:w.endpoint,timestamp:new Date().toISOString()}})}catch(K){console.warn("        endpoint:",K)}}}catch(C){throw console.error("Error removing subscription from server:",C),C}},te=async()=>{try{const w=await bt.getSubscriptions();if(w.error){console.error("Failed to load user subscriptions:",w.error);return}if(w.data&&w.data.length>0){const C=w.data.find(K=>K.is_active);if(C&&(a.value=C.id,l.value=!0,"serviceWorker"in navigator)){const $=await(await navigator.serviceWorker.ready).pushManager.getSubscription();$&&$.endpoint===C.endpoint&&(i.value=$)}}}catch(w){console.error("Error loading user subscriptions:",w)}},re=w=>{if(!w)return"";const C=new Uint8Array(w);let K="";for(let $=0;$<C.byteLength;$++)K+=String.fromCharCode(C[$]);return window.btoa(K)};f(),te();function _(){t.value?(document.documentElement.classList.add("dark-theme"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark-theme"),localStorage.setItem("theme","light"))}_();function q(w){t.value=w,_()}return st(t,_),{darkMode:t,setDarkMode:q,windowWidth:s,isPWAMode:n,checkPWAMode:d,notificationPermission:o,pushSubscription:i,isSubscribedToPush:l,pushSubscriptionId:a,requestNotificationPermission:h,ensureNotificationPermission:S,subscribeToPush:I,unsubscribeFromPush:P,loadUserSubscriptions:te}}),Gt=Dn("user",()=>{const e=N(null);function t(o){e.value=o}function s(){e.value=null}function n(){return e.value!==null}return{user:e,setUser:t,clearUser:s,hasUser:n}});/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const ds=typeof document<"u";function cl(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function _u(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&cl(e.default)}const Ce=Object.assign;function Yn(e,t){const s={};for(const n in t){const o=t[n];s[n]=pt(o)?o.map(e):e(o)}return s}const Bs=()=>{},pt=Array.isArray,ul=/#/g,ku=/&/g,Cu=/\//g,xu=/=/g,Su=/\?/g,dl=/\+/g,Eu=/%5B/g,Tu=/%5D/g,fl=/%5E/g,Mu=/%60/g,pl=/%7B/g,$u=/%7C/g,hl=/%7D/g,Au=/%20/g;function Ro(e){return encodeURI(""+e).replace($u,"|").replace(Eu,"[").replace(Tu,"]")}function Iu(e){return Ro(e).replace(pl,"{").replace(hl,"}").replace(fl,"^")}function ho(e){return Ro(e).replace(dl,"%2B").replace(Au,"+").replace(ul,"%23").replace(ku,"%26").replace(Mu,"`").replace(pl,"{").replace(hl,"}").replace(fl,"^")}function Pu(e){return ho(e).replace(xu,"%3D")}function Du(e){return Ro(e).replace(ul,"%23").replace(Su,"%3F")}function Lu(e){return e==null?"":Du(e).replace(Cu,"%2F")}function qs(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Ru=/\/$/,Ou=e=>e.replace(Ru,"");function Zn(e,t,s="/"){let n,o={},i="",l="";const a=t.indexOf("#");let c=t.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(n=t.slice(0,c),i=t.slice(c+1,a>-1?a:t.length),o=e(i)),a>-1&&(n=n||t.slice(0,a),l=t.slice(a,t.length)),n=Hu(n??t,s),{fullPath:n+(i&&"?")+i+l,path:n,query:o,hash:qs(l)}}function Vu(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function Mr(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Nu(e,t,s){const n=t.matched.length-1,o=s.matched.length-1;return n>-1&&n===o&&ws(t.matched[n],s.matched[o])&&vl(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function ws(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function vl(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!Bu(e[s],t[s]))return!1;return!0}function Bu(e,t){return pt(e)?$r(e,t):pt(t)?$r(t,e):e===t}function $r(e,t){return pt(t)?e.length===t.length&&e.every((s,n)=>s===t[n]):e.length===1&&e[0]===t}function Hu(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),n=e.split("/"),o=n[n.length-1];(o===".."||o===".")&&n.push("");let i=s.length-1,l,a;for(l=0;l<n.length;l++)if(a=n[l],a!==".")if(a==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+n.slice(l).join("/")}const Lt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Js;(function(e){e.pop="pop",e.push="push"})(Js||(Js={}));var Hs;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Hs||(Hs={}));function ju(e){if(!e)if(ds){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Ou(e)}const Fu=/^[^#]+#/;function Uu(e,t){return e.replace(Fu,"#")+t}function zu(e,t){const s=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-s.left-(t.left||0),top:n.top-s.top-(t.top||0)}}const Rn=()=>({left:window.scrollX,top:window.scrollY});function Wu(e){let t;if("el"in e){const s=e.el,n=typeof s=="string"&&s.startsWith("#"),o=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!o)return;t=zu(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Ar(e,t){return(history.state?history.state.position-t:-1)+e}const vo=new Map;function Ku(e,t){vo.set(e,t)}function Gu(e){const t=vo.get(e);return vo.delete(e),t}let qu=()=>location.protocol+"//"+location.host;function gl(e,t){const{pathname:s,search:n,hash:o}=t,i=e.indexOf("#");if(i>-1){let a=o.includes(e.slice(i))?e.slice(i).length:1,c=o.slice(a);return c[0]!=="/"&&(c="/"+c),Mr(c,"")}return Mr(s,e)+n+o}function Ju(e,t,s,n){let o=[],i=[],l=null;const a=({state:f})=>{const h=gl(e,location),S=s.value,I=t.value;let P=0;if(f){if(s.value=h,t.value=f,l&&l===S){l=null;return}P=I?f.position-I.position:0}else n(h);o.forEach(k=>{k(s.value,S,{delta:P,type:Js.pop,direction:P?P>0?Hs.forward:Hs.back:Hs.unknown})})};function c(){l=s.value}function d(f){o.push(f);const h=()=>{const S=o.indexOf(f);S>-1&&o.splice(S,1)};return i.push(h),h}function u(){const{history:f}=window;f.state&&f.replaceState(Ce({},f.state,{scroll:Rn()}),"")}function p(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:c,listen:d,destroy:p}}function Ir(e,t,s,n=!1,o=!1){return{back:e,current:t,forward:s,replaced:n,position:window.history.length,scroll:o?Rn():null}}function Yu(e){const{history:t,location:s}=window,n={value:gl(e,s)},o={value:t.state};o.value||i(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(c,d,u){const p=e.indexOf("#"),f=p>-1?(s.host&&document.querySelector("base")?e:e.slice(p))+c:qu()+e+c;try{t[u?"replaceState":"pushState"](d,"",f),o.value=d}catch(h){console.error(h),s[u?"replace":"assign"](f)}}function l(c,d){const u=Ce({},t.state,Ir(o.value.back,c,o.value.forward,!0),d,{position:o.value.position});i(c,u,!0),n.value=c}function a(c,d){const u=Ce({},o.value,t.state,{forward:c,scroll:Rn()});i(u.current,u,!0);const p=Ce({},Ir(n.value,c,null),{position:u.position+1},d);i(c,p,!1),n.value=c}return{location:n,state:o,push:a,replace:l}}function Zu(e){e=ju(e);const t=Yu(e),s=Ju(e,t.state,t.location,t.replace);function n(i,l=!0){l||s.pauseListeners(),history.go(i)}const o=Ce({location:"",base:e,go:n,createHref:Uu.bind(null,e)},t,s);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function Qu(e){return typeof e=="string"||e&&typeof e=="object"}function ml(e){return typeof e=="string"||typeof e=="symbol"}const wl=Symbol("");var Pr;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Pr||(Pr={}));function ys(e,t){return Ce(new Error,{type:e,[wl]:!0},t)}function St(e,t){return e instanceof Error&&wl in e&&(t==null||!!(e.type&t))}const Dr="[^/]+?",Xu={sensitive:!1,strict:!1,start:!0,end:!0},ed=/[.+*?^${}()[\]/\\]/g;function td(e,t){const s=Ce({},Xu,t),n=[];let o=s.start?"^":"";const i=[];for(const d of e){const u=d.length?[]:[90];s.strict&&!d.length&&(o+="/");for(let p=0;p<d.length;p++){const f=d[p];let h=40+(s.sensitive?.25:0);if(f.type===0)p||(o+="/"),o+=f.value.replace(ed,"\\$&"),h+=40;else if(f.type===1){const{value:S,repeatable:I,optional:P,regexp:k}=f;i.push({name:S,repeatable:I,optional:P});const D=k||Dr;if(D!==Dr){h+=10;try{new RegExp(`(${D})`)}catch(M){throw new Error(`Invalid custom RegExp for param "${S}" (${D}): `+M.message)}}let V=I?`((?:${D})(?:/(?:${D}))*)`:`(${D})`;p||(V=P&&d.length<2?`(?:/${V})`:"/"+V),P&&(V+="?"),o+=V,h+=20,P&&(h+=-8),I&&(h+=-20),D===".*"&&(h+=-50)}u.push(h)}n.push(u)}if(s.strict&&s.end){const d=n.length-1;n[d][n[d].length-1]+=.7000000000000001}s.strict||(o+="/?"),s.end?o+="$":s.strict&&!o.endsWith("/")&&(o+="(?:/|$)");const l=new RegExp(o,s.sensitive?"":"i");function a(d){const u=d.match(l),p={};if(!u)return null;for(let f=1;f<u.length;f++){const h=u[f]||"",S=i[f-1];p[S.name]=h&&S.repeatable?h.split("/"):h}return p}function c(d){let u="",p=!1;for(const f of e){(!p||!u.endsWith("/"))&&(u+="/"),p=!1;for(const h of f)if(h.type===0)u+=h.value;else if(h.type===1){const{value:S,repeatable:I,optional:P}=h,k=S in d?d[S]:"";if(pt(k)&&!I)throw new Error(`Provided param "${S}" is an array but it is not repeatable (* or + modifiers)`);const D=pt(k)?k.join("/"):k;if(!D)if(P)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):p=!0);else throw new Error(`Missing required param "${S}"`);u+=D}}return u||"/"}return{re:l,score:n,keys:i,parse:a,stringify:c}}function sd(e,t){let s=0;for(;s<e.length&&s<t.length;){const n=t[s]-e[s];if(n)return n;s++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function yl(e,t){let s=0;const n=e.score,o=t.score;for(;s<n.length&&s<o.length;){const i=sd(n[s],o[s]);if(i)return i;s++}if(Math.abs(o.length-n.length)===1){if(Lr(n))return 1;if(Lr(o))return-1}return o.length-n.length}function Lr(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const nd={type:0,value:""},od=/[a-zA-Z0-9_]/;function rd(e){if(!e)return[[]];if(e==="/")return[[nd]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(h){throw new Error(`ERR (${s})/"${d}": ${h}`)}let s=0,n=s;const o=[];let i;function l(){i&&o.push(i),i=[]}let a=0,c,d="",u="";function p(){d&&(s===0?i.push({type:0,value:d}):s===1||s===2||s===3?(i.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:d,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),d="")}function f(){d+=c}for(;a<e.length;){if(c=e[a++],c==="\\"&&s!==2){n=s,s=4;continue}switch(s){case 0:c==="/"?(d&&p(),l()):c===":"?(p(),s=1):f();break;case 4:f(),s=n;break;case 1:c==="("?s=2:od.test(c)?f():(p(),s=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:s=3:u+=c;break;case 3:p(),s=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,u="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${d}"`),p(),l(),o}function id(e,t,s){const n=td(rd(e.path),s),o=Ce(n,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function ld(e,t){const s=[],n=new Map;t=Nr({strict:!1,end:!0,sensitive:!1},t);function o(p){return n.get(p)}function i(p,f,h){const S=!h,I=Or(p);I.aliasOf=h&&h.record;const P=Nr(t,p),k=[I];if("alias"in p){const M=typeof p.alias=="string"?[p.alias]:p.alias;for(const L of M)k.push(Or(Ce({},I,{components:h?h.record.components:I.components,path:L,aliasOf:h?h.record:I})))}let D,V;for(const M of k){const{path:L}=M;if(f&&L[0]!=="/"){const Z=f.record.path,ne=Z[Z.length-1]==="/"?"":"/";M.path=f.record.path+(L&&ne+L)}if(D=id(M,f,P),h?h.alias.push(D):(V=V||D,V!==D&&V.alias.push(D),S&&p.name&&!Vr(D)&&l(p.name)),bl(D)&&c(D),I.children){const Z=I.children;for(let ne=0;ne<Z.length;ne++)i(Z[ne],D,h&&h.children[ne])}h=h||D}return V?()=>{l(V)}:Bs}function l(p){if(ml(p)){const f=n.get(p);f&&(n.delete(p),s.splice(s.indexOf(f),1),f.children.forEach(l),f.alias.forEach(l))}else{const f=s.indexOf(p);f>-1&&(s.splice(f,1),p.record.name&&n.delete(p.record.name),p.children.forEach(l),p.alias.forEach(l))}}function a(){return s}function c(p){const f=ud(p,s);s.splice(f,0,p),p.record.name&&!Vr(p)&&n.set(p.record.name,p)}function d(p,f){let h,S={},I,P;if("name"in p&&p.name){if(h=n.get(p.name),!h)throw ys(1,{location:p});P=h.record.name,S=Ce(Rr(f.params,h.keys.filter(V=>!V.optional).concat(h.parent?h.parent.keys.filter(V=>V.optional):[]).map(V=>V.name)),p.params&&Rr(p.params,h.keys.map(V=>V.name))),I=h.stringify(S)}else if(p.path!=null)I=p.path,h=s.find(V=>V.re.test(I)),h&&(S=h.parse(I),P=h.record.name);else{if(h=f.name?n.get(f.name):s.find(V=>V.re.test(f.path)),!h)throw ys(1,{location:p,currentLocation:f});P=h.record.name,S=Ce({},f.params,p.params),I=h.stringify(S)}const k=[];let D=h;for(;D;)k.unshift(D.record),D=D.parent;return{name:P,path:I,params:S,matched:k,meta:cd(k)}}e.forEach(p=>i(p));function u(){s.length=0,n.clear()}return{addRoute:i,resolve:d,removeRoute:l,clearRoutes:u,getRoutes:a,getRecordMatcher:o}}function Rr(e,t){const s={};for(const n of t)n in e&&(s[n]=e[n]);return s}function Or(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:ad(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function ad(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const n in e.components)t[n]=typeof s=="object"?s[n]:s;return t}function Vr(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function cd(e){return e.reduce((t,s)=>Ce(t,s.meta),{})}function Nr(e,t){const s={};for(const n in e)s[n]=n in t?t[n]:e[n];return s}function ud(e,t){let s=0,n=t.length;for(;s!==n;){const i=s+n>>1;yl(e,t[i])<0?n=i:s=i+1}const o=dd(e);return o&&(n=t.lastIndexOf(o,n-1)),n}function dd(e){let t=e;for(;t=t.parent;)if(bl(t)&&yl(e,t)===0)return t}function bl({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function fd(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<n.length;++o){const i=n[o].replace(dl," "),l=i.indexOf("="),a=qs(l<0?i:i.slice(0,l)),c=l<0?null:qs(i.slice(l+1));if(a in t){let d=t[a];pt(d)||(d=t[a]=[d]),d.push(c)}else t[a]=c}return t}function Br(e){let t="";for(let s in e){const n=e[s];if(s=Pu(s),n==null){n!==void 0&&(t+=(t.length?"&":"")+s);continue}(pt(n)?n.map(i=>i&&ho(i)):[n&&ho(n)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+s,i!=null&&(t+="="+i))})}return t}function pd(e){const t={};for(const s in e){const n=e[s];n!==void 0&&(t[s]=pt(n)?n.map(o=>o==null?null:""+o):n==null?n:""+n)}return t}const hd=Symbol(""),Hr=Symbol(""),On=Symbol(""),Oo=Symbol(""),go=Symbol("");function Es(){let e=[];function t(n){return e.push(n),()=>{const o=e.indexOf(n);o>-1&&e.splice(o,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function Bt(e,t,s,n,o,i=l=>l()){const l=n&&(n.enterCallbacks[o]=n.enterCallbacks[o]||[]);return()=>new Promise((a,c)=>{const d=f=>{f===!1?c(ys(4,{from:s,to:t})):f instanceof Error?c(f):Qu(f)?c(ys(2,{from:t,to:f})):(l&&n.enterCallbacks[o]===l&&typeof f=="function"&&l.push(f),a())},u=i(()=>e.call(n&&n.instances[o],t,s,d));let p=Promise.resolve(u);e.length<3&&(p=p.then(d)),p.catch(f=>c(f))})}function Qn(e,t,s,n,o=i=>i()){const i=[];for(const l of e)for(const a in l.components){let c=l.components[a];if(!(t!=="beforeRouteEnter"&&!l.instances[a]))if(cl(c)){const u=(c.__vccOpts||c)[t];u&&i.push(Bt(u,s,n,l,a,o))}else{let d=c();i.push(()=>d.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${l.path}"`);const p=_u(u)?u.default:u;l.mods[a]=u,l.components[a]=p;const h=(p.__vccOpts||p)[t];return h&&Bt(h,s,n,l,a,o)()}))}}return i}function jr(e){const t=lt(On),s=lt(Oo),n=ye(()=>{const c=De(e.to);return t.resolve(c)}),o=ye(()=>{const{matched:c}=n.value,{length:d}=c,u=c[d-1],p=s.matched;if(!u||!p.length)return-1;const f=p.findIndex(ws.bind(null,u));if(f>-1)return f;const h=Fr(c[d-2]);return d>1&&Fr(u)===h&&p[p.length-1].path!==h?p.findIndex(ws.bind(null,c[d-2])):f}),i=ye(()=>o.value>-1&&yd(s.params,n.value.params)),l=ye(()=>o.value>-1&&o.value===s.matched.length-1&&vl(s.params,n.value.params));function a(c={}){if(wd(c)){const d=t[De(e.replace)?"replace":"push"](De(e.to)).catch(Bs);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>d),d}return Promise.resolve()}return{route:n,href:ye(()=>n.value.href),isActive:i,isExactActive:l,navigate:a}}function vd(e){return e.length===1?e[0]:e}const gd=Re({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:jr,setup(e,{slots:t}){const s=rs(jr(e)),{options:n}=lt(On),o=ye(()=>({[Ur(e.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[Ur(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=t.default&&vd(t.default(s));return e.custom?i:Qi("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:o.value},i)}}}),md=gd;function wd(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function yd(e,t){for(const s in t){const n=t[s],o=e[s];if(typeof n=="string"){if(n!==o)return!1}else if(!pt(o)||o.length!==n.length||n.some((i,l)=>i!==o[l]))return!1}return!0}function Fr(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Ur=(e,t,s)=>e??t??s,bd=Re({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const n=lt(go),o=ye(()=>e.route||n.value),i=lt(Hr,0),l=ye(()=>{let d=De(i);const{matched:u}=o.value;let p;for(;(p=u[d])&&!p.components;)d++;return d}),a=ye(()=>o.value.matched[l.value]);ln(Hr,ye(()=>l.value+1)),ln(hd,a),ln(go,o);const c=N();return st(()=>[c.value,a.value,e.name],([d,u,p],[f,h,S])=>{u&&(u.instances[p]=d,h&&h!==u&&d&&d===f&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),d&&u&&(!h||!ws(u,h)||!f)&&(u.enterCallbacks[p]||[]).forEach(I=>I(d))},{flush:"post"}),()=>{const d=o.value,u=e.name,p=a.value,f=p&&p.components[u];if(!f)return zr(s.default,{Component:f,route:d});const h=p.props[u],S=h?h===!0?d.params:typeof h=="function"?h(d):h:null,P=Qi(f,Ce({},S,t,{onVnodeUnmounted:k=>{k.component.isUnmounted&&(p.instances[u]=null)},ref:c}));return zr(s.default,{Component:P,route:d})||P}}});function zr(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const _d=bd;function kd(e){const t=ld(e.routes,e),s=e.parseQuery||fd,n=e.stringifyQuery||Br,o=e.history,i=Es(),l=Es(),a=Es(),c=ra(Lt);let d=Lt;ds&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Yn.bind(null,E=>""+E),p=Yn.bind(null,Lu),f=Yn.bind(null,qs);function h(E,H){let J,se;return ml(E)?(J=t.getRecordMatcher(E),se=H):se=E,t.addRoute(se,J)}function S(E){const H=t.getRecordMatcher(E);H&&t.removeRoute(H)}function I(){return t.getRoutes().map(E=>E.record)}function P(E){return!!t.getRecordMatcher(E)}function k(E,H){if(H=Ce({},H||c.value),typeof E=="string"){const b=Zn(s,E,H.path),R=t.resolve({path:b.path},H),B=o.createHref(b.fullPath);return Ce(b,R,{params:f(R.params),hash:qs(b.hash),redirectedFrom:void 0,href:B})}let J;if(E.path!=null)J=Ce({},E,{path:Zn(s,E.path,H.path).path});else{const b=Ce({},E.params);for(const R in b)b[R]==null&&delete b[R];J=Ce({},E,{params:p(b)}),H.params=p(H.params)}const se=t.resolve(J,H),Se=E.hash||"";se.params=u(f(se.params));const v=Vu(n,Ce({},E,{hash:Iu(Se),path:se.path})),m=o.createHref(v);return Ce({fullPath:v,hash:Se,query:n===Br?pd(E.query):E.query||{}},se,{redirectedFrom:void 0,href:m})}function D(E){return typeof E=="string"?Zn(s,E,c.value.path):Ce({},E)}function V(E,H){if(d!==E)return ys(8,{from:H,to:E})}function M(E){return ne(E)}function L(E){return M(Ce(D(E),{replace:!0}))}function Z(E){const H=E.matched[E.matched.length-1];if(H&&H.redirect){const{redirect:J}=H;let se=typeof J=="function"?J(E):J;return typeof se=="string"&&(se=se.includes("?")||se.includes("#")?se=D(se):{path:se},se.params={}),Ce({query:E.query,hash:E.hash,params:se.path!=null?{}:E.params},se)}}function ne(E,H){const J=d=k(E),se=c.value,Se=E.state,v=E.force,m=E.replace===!0,b=Z(J);if(b)return ne(Ce(D(b),{state:typeof b=="object"?Ce({},Se,b.state):Se,force:v,replace:m}),H||J);const R=J;R.redirectedFrom=H;let B;return!v&&Nu(n,se,J)&&(B=ys(16,{to:R,from:se}),ie(se,se,!0,!1)),(B?Promise.resolve(B):te(R,se)).catch(O=>St(O)?St(O,2)?O:x(O):y(O,R,se)).then(O=>{if(O){if(St(O,2))return ne(Ce({replace:m},D(O.to),{state:typeof O.to=="object"?Ce({},Se,O.to.state):Se,force:v}),H||R)}else O=_(R,se,!0,m,Se);return re(R,se,O),O})}function X(E,H){const J=V(E,H);return J?Promise.reject(J):Promise.resolve()}function W(E){const H=Q.values().next().value;return H&&typeof H.runWithContext=="function"?H.runWithContext(E):E()}function te(E,H){let J;const[se,Se,v]=Cd(E,H);J=Qn(se.reverse(),"beforeRouteLeave",E,H);for(const b of se)b.leaveGuards.forEach(R=>{J.push(Bt(R,E,H))});const m=X.bind(null,E,H);return J.push(m),we(J).then(()=>{J=[];for(const b of i.list())J.push(Bt(b,E,H));return J.push(m),we(J)}).then(()=>{J=Qn(Se,"beforeRouteUpdate",E,H);for(const b of Se)b.updateGuards.forEach(R=>{J.push(Bt(R,E,H))});return J.push(m),we(J)}).then(()=>{J=[];for(const b of v)if(b.beforeEnter)if(pt(b.beforeEnter))for(const R of b.beforeEnter)J.push(Bt(R,E,H));else J.push(Bt(b.beforeEnter,E,H));return J.push(m),we(J)}).then(()=>(E.matched.forEach(b=>b.enterCallbacks={}),J=Qn(v,"beforeRouteEnter",E,H,W),J.push(m),we(J))).then(()=>{J=[];for(const b of l.list())J.push(Bt(b,E,H));return J.push(m),we(J)}).catch(b=>St(b,8)?b:Promise.reject(b))}function re(E,H,J){a.list().forEach(se=>W(()=>se(E,H,J)))}function _(E,H,J,se,Se){const v=V(E,H);if(v)return v;const m=H===Lt,b=ds?history.state:{};J&&(se||m?o.replace(E.fullPath,Ce({scroll:m&&b&&b.scroll},Se)):o.push(E.fullPath,Se)),c.value=E,ie(E,H,J,m),x()}let q;function w(){q||(q=o.listen((E,H,J)=>{if(!U.listening)return;const se=k(E),Se=Z(se);if(Se){ne(Ce(Se,{replace:!0,force:!0}),se).catch(Bs);return}d=se;const v=c.value;ds&&Ku(Ar(v.fullPath,J.delta),Rn()),te(se,v).catch(m=>St(m,12)?m:St(m,2)?(ne(Ce(D(m.to),{force:!0}),se).then(b=>{St(b,20)&&!J.delta&&J.type===Js.pop&&o.go(-1,!1)}).catch(Bs),Promise.reject()):(J.delta&&o.go(-J.delta,!1),y(m,se,v))).then(m=>{m=m||_(se,v,!1),m&&(J.delta&&!St(m,8)?o.go(-J.delta,!1):J.type===Js.pop&&St(m,20)&&o.go(-1,!1)),re(se,v,m)}).catch(Bs)}))}let C=Es(),K=Es(),$;function y(E,H,J){x(E);const se=K.list();return se.length?se.forEach(Se=>Se(E,H,J)):console.error(E),Promise.reject(E)}function g(){return $&&c.value!==Lt?Promise.resolve():new Promise((E,H)=>{C.add([E,H])})}function x(E){return $||($=!E,w(),C.list().forEach(([H,J])=>E?J(E):H()),C.reset()),E}function ie(E,H,J,se){const{scrollBehavior:Se}=e;if(!ds||!Se)return Promise.resolve();const v=!J&&Gu(Ar(E.fullPath,0))||(se||!J)&&history.state&&history.state.scroll||null;return dt().then(()=>Se(E,H,v)).then(m=>m&&Wu(m)).catch(m=>y(m,E,H))}const ve=E=>o.go(E);let ge;const Q=new Set,U={currentRoute:c,listening:!0,addRoute:h,removeRoute:S,clearRoutes:t.clearRoutes,hasRoute:P,getRoutes:I,resolve:k,options:e,push:M,replace:L,go:ve,back:()=>ve(-1),forward:()=>ve(1),beforeEach:i.add,beforeResolve:l.add,afterEach:a.add,onError:K.add,isReady:g,install(E){const H=this;E.component("RouterLink",md),E.component("RouterView",_d),E.config.globalProperties.$router=H,Object.defineProperty(E.config.globalProperties,"$route",{enumerable:!0,get:()=>De(c)}),ds&&!ge&&c.value===Lt&&(ge=!0,M(o.location).catch(Se=>{}));const J={};for(const Se in Lt)Object.defineProperty(J,Se,{get:()=>c.value[Se],enumerable:!0});E.provide(On,H),E.provide(Oo,vi(J)),E.provide(go,c);const se=E.unmount;Q.add(E),E.unmount=function(){Q.delete(E),Q.size<1&&(d=Lt,q&&q(),q=null,c.value=Lt,ge=!1,$=!1),se()}}};function we(E){return E.reduce((H,J)=>H.then(()=>W(J)),Promise.resolve())}return U}function Cd(e,t){const s=[],n=[],o=[],i=Math.max(t.matched.length,e.matched.length);for(let l=0;l<i;l++){const a=t.matched[l];a&&(e.matched.find(d=>ws(d,a))?n.push(a):s.push(a));const c=e.matched[l];c&&(t.matched.find(d=>ws(d,c))||o.push(c))}return[s,n,o]}function nt(){return lt(On)}function ks(e){return lt(Oo)}const Vo=Dn("contacts",()=>{const e=N([]);function t(u){console.log("setActiveContact",u.contactId),e.value.forEach(p=>{p.isActive=p.contactId===u.contactId})}function s(u){e.value.forEach(p=>{p.contactId===u&&(p.unreadCount=(p.unreadCount||0)+1)})}function n(u){e.value.forEach(p=>{p.contactId===u&&(p.unreadCount=0)})}function o(u){e.value=e.value.map(p=>p.contactId===u.contactId?{...p,...u}:p)}function i(u,p){console.log("updateContactById",u),e.value=e.value.map(f=>String(u)===String(f.contactId)?{...f,...p}:f)}function l(u){e.value=e.value.filter(p=>p.id!==u)}function a(u){e.value=u}function c(u){e.value.unshift(u)}function d(){e.value=[]}return{contacts:e,setActiveContact:t,setContactList:a,updateContact:o,deleteContact:l,addContact:c,resetContacts:d,incrementUnreadCount:s,resetUnreadCount:n,updateContactById:i}}),No=Dn("messages",()=>{const e=N([]);function t(l){e.value.push(l)}function s(l){e.value.splice(l,1)}function n(l,a,c){l>=0&&l<e.value.length&&(e.value[l]={...e.value[l],text:a,status:"sent",...c})}function o(l){e.value=l}function i(){e.value=[]}return{messages:e,addMessage:t,deleteMessage:s,updateMessage:n,resetMessages:i,setMessages:o}}),xd={class:"menu-container"},Sd=Re({__name:"MenuButton",setup(e){const t=nt(),s=_s(),n=N(!1),o=N(null),i=N(!1),l=()=>{n.value=!n.value},a=()=>{n.value=!1},c=S=>{const I=S.target;n.value&&!I.closest(".menu-container")&&a()},d=S=>{S.preventDefault(),o.value=S,i.value=!0},u=async()=>{if(!o.value)return;o.value.prompt();const{outcome:S}=await o.value.userChoice;S==="accepted"&&(console.log("PWA "),i.value=!1),o.value=null,a()};Ne(()=>{window.addEventListener("click",c),window.addEventListener("beforeinstallprompt",d)}),ft(()=>{window.removeEventListener("click",c),window.removeEventListener("beforeinstallprompt",d)});const p=()=>{a(),t.push("/account")},f=()=>{a(),t.push("/projects")},h=async()=>{const{error:S,data:I}=await pe.http("POST","/api/auth/logout");S?console.error(S):(console.log(I),s.emit("unauthorized"),t.push("/"))};return(S,I)=>(T(),A("div",xd,[r("button",{class:"menu-button",onClick:rt(l,["stop"])},I[0]||(I[0]=[r("svg",{class:"menu-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"14",height:"14",fill:"white"},[r("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"})],-1)])),r("div",{class:_e(["dropdown-menu",{show:n.value}])},[i.value?(T(),A("button",{key:0,class:"menu-item install-app",onClick:u},I[1]||(I[1]=[r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20",fill:"currentColor"},[r("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"})],-1),Oe(" Install App ")]))):oe("",!0),r("button",{class:"menu-item",onClick:p},I[2]||(I[2]=[r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20",fill:"currentColor"},[r("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})],-1),Oe(" My Account ")])),r("button",{class:"menu-item",onClick:f},I[3]||(I[3]=[r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20",fill:"currentColor"},[r("path",{d:"M20 6h-2l-2-2H8L6 6H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-5 3c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zM6 12h4v4H6v-4z"})],-1),Oe(" My Projects ")])),r("button",{class:"menu-item",onClick:h},I[4]||(I[4]=[r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20",fill:"currentColor"},[r("path",{d:"M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"})],-1),Oe(" Logout ")]))],2)]))}}),He=(e,t)=>{const s=e.__vccOpts||e;for(const[n,o]of t)s[n]=o;return s},Ed=He(Sd,[["__scopeId","data-v-f20dd25e"]]),Td={class:"app-header"},Md={class:"header-content"},$d={class:"left-side"},Ad={class:"right-side"},Id={class:"tabs"},Pd={key:0,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},Dd={key:1,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},Ld=Re({__name:"AppHeader",props:{title:{type:String,default:""},backPath:{type:String,default:""},backLabel:{type:String,default:"Back"}},setup(e){const t=e,s=nt(),n=ks(),o=ye(()=>n.meta.tab||"chat"),i=_s(),l=N(!0);Ne(()=>{l.value=localStorage.getItem("notifications_enabled")!=="false"});const a=()=>{l.value=!l.value,localStorage.setItem("notifications_enabled",String(l.value)),i.emit("toggle_notifications",{enabled:l.value})},c=()=>{t.backPath?s.push(t.backPath):s.back()};return(d,u)=>(T(),A("header",Td,[r("div",Md,[r("div",$d,[e.backPath?(T(),A("button",{key:0,class:"back-button",onClick:c},[u[5]||(u[5]=r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor"},[r("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})],-1)),r("span",null,j(e.backLabel),1)])):oe("",!0)]),r("div",Ad,[r("nav",Id,[r("button",{class:_e(["tab",{active:o.value==="chat"}]),onClick:u[0]||(u[0]=p=>De(s).push("/chat")),title:"Chat"},u[6]||(u[6]=[r("svg",{viewBox:"0 0 24 24",width:"14",height:"14","aria-hidden":"true"},[r("path",{d:"M4 4h16v12H5.17L4 17.17V4z",fill:"currentColor"})],-1),r("span",null,"Chat",-1)]),2),r("button",{class:_e(["tab",{active:o.value==="calendar"}]),onClick:u[1]||(u[1]=p=>De(s).push("/calendar")),title:"Calendar"},u[7]||(u[7]=[r("svg",{viewBox:"0 0 24 24",width:"14",height:"14","aria-hidden":"true"},[r("path",{d:"M7 2v2H5a2 2 0 0 0-2 2v2h18V6a2 2 0 0 0-2-2h-2V2h-2v2H9V2H7zm14 8H3v10a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V10z",fill:"currentColor"})],-1),r("span",null,"Calendar",-1)]),2),r("button",{class:_e(["tab",{active:o.value==="tasks"}]),onClick:u[2]||(u[2]=p=>De(s).push("/tasks")),title:"Tasks"},u[8]||(u[8]=[r("svg",{viewBox:"0 0 24 24",width:"14",height:"14","aria-hidden":"true"},[r("path",{d:"M9 11H4v2h5v-2zm0-4H4v2h5V7zm11 8H11v2h9v-2zm0-4H11v2h9v-2zm0-4H11v2h9V7z",fill:"currentColor"})],-1),r("span",null,"Tasks",-1)]),2),r("button",{class:_e(["tab",{active:o.value==="notes"}]),onClick:u[3]||(u[3]=p=>De(s).push("/notes")),title:"Notes"},u[9]||(u[9]=[r("svg",{viewBox:"0 0 24 24",width:"14",height:"14","aria-hidden":"true"},[r("path",{d:"M3 5v14a2 2 0 0 0 2 2h10l6-6V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2zm12 14V9h6",fill:"currentColor"})],-1),r("span",null,"Notes",-1)]),2),r("button",{class:_e(["tab",{active:o.value==="projects"}]),onClick:u[4]||(u[4]=p=>De(s).push("/projects")),title:"Projects"},u[10]||(u[10]=[r("svg",{viewBox:"0 0 24 24",width:"14",height:"14","aria-hidden":"true"},[r("path",{d:"M4 6h16v12H4zM2 4h20v2H2z",fill:"currentColor"})],-1),r("span",null,"Projects",-1)]),2)]),r("button",{class:"notification-button",onClick:a,title:"Toggle notification sound"},[l.value?(T(),A("svg",Pd,u[11]||(u[11]=[r("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z",fill:"currentColor"},null,-1)]))):(T(),A("svg",Dd,u[12]||(u[12]=[r("path",{d:"M20 18.69L7.84 6.14 5.27 3.49 4 4.76l2.8 2.8v.01c-.52.99-.8 2.16-.8 3.42v5l-2 2v1h13.73l2 2L21 19.72l-1-1.03zM12 22c1.11 0 2-.89 2-2h-4c0 1.11.89 2 2 2zm6-7.32V11c0-3.08-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68c-.15.03-.29.08-.42.12-.1.03-.2.07-.3.11h-.01c-.01 0-.01 0-.02.01-.23.09-.46.2-.68.31 0 0-.01 0-.01.01l2.97 2.97V5.36c0-.22.02-.42.05-.62.07.41.23.78.46 1.06.43.52 1.1.84 1.83.84.33 0 .65-.06.93-.18.5.52.86 1.15 1.09 1.86.11.34.17.69.2 1.06v5.59l3.24 3.24-.07-.03c.45-.4.87-.92 1.22-1.5.19-.32.34-.67.45-1.05z",fill:"currentColor"},null,-1)])))]),Ie(Ed)])])]))}}),Rd=He(Ld,[["__scopeId","data-v-e5ad3687"]]),Od={class:"app-container"},Vd={key:0,class:"loader-container"},Nd={key:1,class:"theme-toggle"},Bd=Re({__name:"App",setup(e){const t=nt(),s=ks(),n=Gt(),o=N(!0),i=Ln(),l=Vo(),a=No(),c=_s(),d=i.windowWidth,u=ye(()=>!((s.name==="Chat"||s.name==="UserAccount")&&d<=1400)),p=ye(()=>s.meta.title||""),f=ye(()=>s.meta.backPath||""),h=ye(()=>s.meta.backLabel||"Back");Ne(async()=>{window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",M=>{i.setDarkMode(M.matches)}),l.resetContacts(),a.resetMessages(),await D(),o.value=!1,c.on("init_app",D),c.on("unauthorized",S)}),Xs(()=>{c.off("init_app",D),c.off("unauthorized",S)});const S=async()=>{console.error("onReauthorize"),k==null||k.destroy(),pe.setWebSocketClient(null),n.clearUser(),t.push("/")},I={user_online:M=>{console.log("user_online"),c.emit("user_online",M.payload)},new_message:M=>{console.log("new_message"),c.emit("new_message",M.payload)},event_typing:M=>{console.log("event_typing"),c.emit("event_typing",M.payload)},change_online:M=>{console.log("change_online",M.payload),l.updateContactById(String(M.payload.userId),{isOnline:M.payload.status==="online"})}},P=async M=>{console.log("onBroadcast"),console.log(M);const L=M.event.split(":")[1];L in I?I[L](M):console.error("Unknown event:",L)};let k=null;const D=async()=>{try{const{data:M,error:L}=await pe.http("GET","/api/main/init");if(console.log(M),L)return console.error("Error in initialization:",L),null;M&&M.status==="ok"&&M.user&&M.wsUrl?(n.setUser(M.user),s.name!=="JoinChat"&&t.push({name:"Chat"}),console.log("Data in initialization:"),k=new gu(M.wsUrl,{callbacks:{onReauthorize:S,onBroadcast:P}}),pe.setWebSocketClient(k)):M&&M.status==="unauthorized"&&s.name!=="JoinChat"&&(n.setUser(null),t.push({name:"Login"}))}catch(M){console.error("Error in initialization:",M)}},V=()=>{i.setDarkMode(!i.darkMode)};return(M,L)=>{const Z=Po("router-view");return T(),A("div",Od,[o.value?(T(),A("div",Vd,L[0]||(L[0]=[r("div",{class:"loader"},null,-1),r("p",null,"Loading...",-1)]))):(T(),A(he,{key:1},[De(n).user?(T(),At(Rd,{key:0,title:p.value,"back-path":f.value,"back-label":h.value},null,8,["title","back-path","back-label"])):oe("",!0),u.value?(T(),A("div",Nd,[r("button",{onClick:V},j(De(i).darkMode?"":""),1)])):oe("",!0),Ie(Z)],64))])}}}),Hd={class:"modal login-modal"},jd={class:"modal-content"},Fd={key:0,class:"error-message form-error"},Ud={class:"form-group"},zd={class:"input-wrapper"},Wd={key:0,class:"error-message"},Kd={class:"form-group"},Gd={class:"input-wrapper"},qd={key:0,class:"error-message"},Jd={class:"form-options"},Yd={class:"checkbox-container"},Zd={class:"auth-switch"},Qd={class:"modal register-modal"},Xd={class:"modal-content"},ef={key:0,class:"error-message form-error"},tf={class:"form-group"},sf={class:"input-wrapper"},nf={key:0,class:"error-message"},of={class:"form-group"},rf={class:"input-wrapper"},lf={key:0,class:"error-message"},af={class:"form-group"},cf={class:"input-wrapper"},uf={key:0,class:"error-message"},df={class:"form-group"},ff={class:"input-wrapper"},pf={key:0,class:"error-message"},hf={class:"form-group terms-agreement"},vf={class:"checkbox-container"},gf={key:0,class:"error-message"},mf={class:"auth-switch"},wf=Re({__name:"AuthModals",props:{showLogin:{type:Boolean,default:!1},showRegister:{type:Boolean,default:!1},token:{type:String,default:""}},emits:["close","show-login","show-register","auth-success"],setup(e,{emit:t}){const s=nt(),n=Gt(),o=_s(),i=e,l=t,a=N(""),c=N(""),d=N(""),u=N(""),p=N(!1),f=N(!1),h=N(!1),S=N(""),I=N(""),P=N(""),k=N(""),D=N(""),V=N(""),M=()=>{l("close")},L=()=>{l("close"),h.value=!1},Z=()=>{l("show-register")},ne=()=>{h.value=!1,l("show-login")},X=async()=>{if(S.value="",I.value="",D.value="",!!W())try{const{data:_,error:q}=await pe.http("POST","/api/auth/login",{email:a.value,password:c.value,token:i.token});q?D.value=q.message||"Authorization error":_&&_.status==="success"&&_.user?(n.setUser(_.user),l("close"),l("auth-success"),console.log("user",n.user),s.push({name:"Chat"}),o.emit("init_app")):D.value=(_==null?void 0:_.message)||"Authorization error"}catch(_){console.error(_),D.value="Server error. Please try again later."}},W=()=>{let re=!0;return a.value.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.value)||(S.value="Enter a valid email",re=!1):(S.value="Email is required",re=!1),c.value?c.value.length<8&&(I.value="Password must be at least 8 characters long",re=!1):(I.value="Password is required",re=!1),re},te=async()=>{P.value="",S.value="",I.value="",V.value="",k.value="",h.value=!1;let re=!0;if(d.value.trim()||(P.value="Name is required",re=!1),re=W(),c.value!==u.value&&(k.value="Passwords do not match",re=!1),f.value||(h.value=!0,re=!1),!re)return;const{data:_,error:q}=await pe.http("POST","/api/auth/register",{name:d.value,email:a.value,password:c.value,token:i.token});q?q.code===422?(console.log(_),V.value=q.message):V.value=q.message||"Server error. Please try again later.":_&&_.status==="success"&&_.user?(n.setUser(_.user),l("close"),l("auth-success"),s.push({name:"Chat"}),o.emit("init_app")):_&&_.status==="error"?V.value=(_==null?void 0:_.message)||"Registration error":V.value="Server error. Please try again later."};return(re,_)=>{const q=Po("router-link");return T(),A(he,null,[r("div",{class:_e(["modal-overlay",{show:i.showLogin}])},[r("div",Hd,[r("div",{class:"modal-header"},[_[9]||(_[9]=r("h3",null,"Sign In",-1)),r("button",{class:"close-modal",onClick:M,"aria-label":"Close modal"},_[8]||(_[8]=[r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor"},[r("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})],-1)]))]),r("div",jd,[D.value?(T(),A("div",Fd,j(D.value),1)):oe("",!0),r("div",Ud,[_[11]||(_[11]=r("label",{for:"login-email"},"Email",-1)),r("div",zd,[_[10]||(_[10]=r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20",fill:"currentColor",class:"input-icon"},[r("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"})],-1)),ue(r("input",{type:"email",id:"login-email","onUpdate:modelValue":_[0]||(_[0]=w=>a.value=w),placeholder:"yourname@example.com",autocomplete:"email",class:_e({"has-error":S.value})},null,2),[[me,a.value]])]),S.value?(T(),A("div",Wd,j(S.value),1)):oe("",!0)]),r("div",Kd,[_[13]||(_[13]=r("label",{for:"login-password"},"Password",-1)),r("div",Gd,[_[12]||(_[12]=r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20",fill:"currentColor",class:"input-icon"},[r("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"})],-1)),ue(r("input",{type:"password",id:"login-password","onUpdate:modelValue":_[1]||(_[1]=w=>c.value=w),placeholder:"Your password",autocomplete:"current-password",class:_e({"has-error":I.value})},null,2),[[me,c.value]])]),I.value?(T(),A("div",qd,j(I.value),1)):oe("",!0)]),r("div",Jd,[r("label",Yd,[ue(r("input",{type:"checkbox","onUpdate:modelValue":_[2]||(_[2]=w=>p.value=w)},null,512),[[ss,p.value]]),_[14]||(_[14]=r("span",{class:"checkmark"},null,-1)),_[15]||(_[15]=Oe(" Remember me "))]),_[16]||(_[16]=r("a",{href:"#",class:"forgot-password"},"Forgot password?",-1))]),r("button",{class:"auth-button",onClick:X},"Sign In"),r("p",Zd,[_[17]||(_[17]=Oe(" Don't have an account? ")),r("a",{href:"#",onClick:rt(Z,["prevent"])},"Register")])])])],2),r("div",{class:_e(["modal-overlay",{show:i.showRegister}])},[r("div",Qd,[r("div",{class:"modal-header"},[_[19]||(_[19]=r("h3",null,"Create Account",-1)),r("button",{class:"close-modal",onClick:L,"aria-label":"Close modal"},_[18]||(_[18]=[r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor"},[r("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})],-1)]))]),r("div",Xd,[V.value?(T(),A("div",ef,j(V.value),1)):oe("",!0),r("div",tf,[_[21]||(_[21]=r("label",{for:"register-name"},"Full Name",-1)),r("div",sf,[_[20]||(_[20]=r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20",fill:"currentColor",class:"input-icon"},[r("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})],-1)),ue(r("input",{type:"text",id:"register-name","onUpdate:modelValue":_[3]||(_[3]=w=>d.value=w),placeholder:"John Smith",autocomplete:"name",class:_e({"has-error":P.value})},null,2),[[me,d.value]])]),P.value?(T(),A("div",nf,j(P.value),1)):oe("",!0)]),r("div",of,[_[23]||(_[23]=r("label",{for:"register-email"},"Email",-1)),r("div",rf,[_[22]||(_[22]=r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20",fill:"currentColor",class:"input-icon"},[r("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"})],-1)),ue(r("input",{type:"email",id:"register-email","onUpdate:modelValue":_[4]||(_[4]=w=>a.value=w),placeholder:"yourname@example.com",autocomplete:"email",class:_e({"has-error":S.value})},null,2),[[me,a.value]])]),S.value?(T(),A("div",lf,j(S.value),1)):oe("",!0)]),r("div",af,[_[25]||(_[25]=r("label",{for:"register-password"},"Password",-1)),r("div",cf,[_[24]||(_[24]=r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20",fill:"currentColor",class:"input-icon"},[r("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"})],-1)),ue(r("input",{type:"password",id:"register-password","onUpdate:modelValue":_[5]||(_[5]=w=>c.value=w),placeholder:"Min. 8 characters",autocomplete:"new-password",class:_e({"has-error":I.value})},null,2),[[me,c.value]])]),I.value?(T(),A("div",uf,j(I.value),1)):oe("",!0)]),r("div",df,[_[27]||(_[27]=r("label",{for:"register-confirm-password"},"Confirm Password",-1)),r("div",ff,[_[26]||(_[26]=r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20",fill:"currentColor",class:"input-icon"},[r("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"})],-1)),ue(r("input",{type:"password",id:"register-confirm-password","onUpdate:modelValue":_[6]||(_[6]=w=>u.value=w),placeholder:"Confirm your password",autocomplete:"new-password",class:_e({"has-error":k.value})},null,2),[[me,u.value]])]),k.value?(T(),A("div",pf,j(k.value),1)):oe("",!0)]),r("div",hf,[r("label",vf,[ue(r("input",{type:"checkbox","onUpdate:modelValue":_[7]||(_[7]=w=>f.value=w)},null,512),[[ss,f.value]]),_[29]||(_[29]=r("span",{class:"checkmark"},null,-1)),_[30]||(_[30]=Oe(" I agree with the ")),Ie(q,{to:"/manifesto",class:"manifesto-link",target:"_blank"},{default:Tn(()=>_[28]||(_[28]=[Oe("Manifesto")])),_:1}),_[31]||(_[31]=Oe(" of a free social network "))]),h.value?(T(),A("p",gf," You must agree with the Manifesto to create an account ")):oe("",!0)]),r("button",{class:"auth-button",onClick:te},"Create Account"),r("p",mf,[_[32]||(_[32]=Oe(" Already have an account? ")),r("a",{href:"#",onClick:rt(ne,["prevent"])},"Sign In")])])])],2)],64)}}}),_l=He(wf,[["__scopeId","data-v-868995aa"]]),yf={class:"login-page"},bf={class:"auth-container"},_f={class:"manifesto-link-container"},kf=Re({__name:"Login",setup(e){const t=Ln(),s=N(!1),n=N(!1),o=N("Easy Task Manager"),i=N(!1),l=()=>{s.value=!0,n.value=!1},a=()=>{s.value=!1,n.value=!0},c=()=>{s.value=!1,n.value=!1},d=()=>{t.isPWAMode&&(s.value=!0)};return st(()=>t.isPWAMode,()=>{d()},{immediate:!0}),Ne(()=>{const u="Easy Task Manager";let p=0;o.value=" ";const f=()=>{p<u.length?(o.value+=u.charAt(p),p++,setTimeout(f,150)):(i.value=!0,d())};setTimeout(f,1e3)}),(u,p)=>{const f=Po("router-link");return T(),A("div",yf,[r("div",bf,[r("div",{class:_e(["logo",{"typing-complete":i.value}])},[Oe(j(o.value),1),p[0]||(p[0]=r("span",{class:"cursor"},null,-1))],2),p[2]||(p[2]=fs('<div class="welcome-message" data-v-f56ca590><h1 data-v-f56ca590>Welcome to Chat</h1><p data-v-f56ca590>Collaborate on tasks and projects with your team</p></div><div class="features" data-v-f56ca590><div class="feature-item" data-v-f56ca590><div class="feature-icon" data-v-f56ca590><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" data-v-f56ca590><path d="M20,2H4A2,2,0,0,0,2,4V22l4-4H20a2,2,0,0,0,2-2V4A2,2,0,0,0,20,2Z" fill="currentColor" data-v-f56ca590></path></svg></div><div class="feature-text" data-v-f56ca590><h3 data-v-f56ca590>Real-time Messaging</h3><p data-v-f56ca590>Chat with your contacts instantly with fast message delivery</p></div></div><div class="feature-item" data-v-f56ca590><div class="feature-icon" data-v-f56ca590><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" data-v-f56ca590><path d="M21,7,12,2,3,7V17L12,22l9-5Z" fill="currentColor" data-v-f56ca590></path></svg></div><div class="feature-text" data-v-f56ca590><h3 data-v-f56ca590>Modern Design</h3><p data-v-f56ca590>Enjoy a clean and intuitive interface designed for comfort</p></div></div><div class="feature-item" data-v-f56ca590><div class="feature-icon" data-v-f56ca590><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" data-v-f56ca590><path d="M18,8A6,6,0,0,0,6,8c0,7-3,9-3,9H21S18,15,18,8Z" fill="currentColor" data-v-f56ca590></path><path d="M13.73,21a2,2,0,0,1-3.46,0" fill="currentColor" data-v-f56ca590></path></svg></div><div class="feature-text" data-v-f56ca590><h3 data-v-f56ca590>Notifications</h3><p data-v-f56ca590>Never miss a message with our notification system</p></div></div></div>',2)),r("div",{class:"auth-buttons"},[r("button",{class:"auth-button",onClick:l},"Sign In"),r("button",{class:"auth-button register",onClick:a}," Create Account ")]),r("div",_f,[Ie(f,{to:"/manifesto",class:"manifesto-link"},{default:Tn(()=>p[1]||(p[1]=[Oe("Read our Manifesto")])),_:1})])]),s.value||n.value?(T(),At(_l,{key:0,"show-login":s.value,"show-register":n.value,onClose:c,onShowLogin:l,onShowRegister:a},null,8,["show-login","show-register"])):oe("",!0)])}}}),Cf=He(kf,[["__scopeId","data-v-f56ca590"]]),xf={class:"contacts-list"},Sf={class:"contacts-header"},Ef={class:"search-container"},Tf={class:"icons-wrapper"},Mf={class:"contacts-list-container"},$f=["onClick","onContextmenu"],Af={class:"contact-avatar"},If={class:"avatar"},Pf={class:"contact-details"},Df={class:"contact-header"},Lf={class:"contact-name"},Rf={class:"message-time"},Of={class:"contact-message"},Vf={class:"last-message"},Nf={key:0,class:"unread-count"},Bf={key:0,class:"no-results"},Hf={key:0,class:"edit-mode"},jf={key:1,class:"menu-items"},Ff={class:"modal-header"},Uf={class:"modal-form"},zf={class:"form-group"},Wf={class:"form-group"},Kf={class:"share-link-container"},Gf={key:0,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},qf={key:1,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Jf={class:"form-actions"},Yf=Re({__name:"ContactsList",emits:["toggle-contacts","toggle-news","select-contact","toggle-calendar","toggle-task"],setup(e,{expose:t,emit:s}){const n=Vo(),o=Gt(),i=nt(),l=ks(),a=N(""),c=N(!1),d=N(3),u=N(!1),p=N({name:"",lastMessage:"",lastMessageTime:"",isOnline:!1,unreadCount:0,isActive:!1}),f=N(""),h=N(!1),S=s,I=N(null),P=N(!1),k=N({show:!1,x:0,y:0,isEditing:!1,contact:null,editName:""}),D=y=>{console.log("handleContactClick"),l.name!=="Chat"&&l.name!=="JoinChat"&&i.push("/chat"),S("select-contact",y)},V=()=>{c.value=!c.value,c.value&&(d.value=0),S("toggle-news",c.value),S("toggle-contacts")},M=ye(()=>{let y=n.contacts;return y=y.sort((g,x)=>new Date(x.updatedAt).getTime()-new Date(g.updatedAt).getTime()),a.value&&(y=y.filter(g=>g.name.toLowerCase().includes(a.value.toLowerCase()))),y}),L=y=>y.split(" ").map(g=>g[0]).join("").toUpperCase(),Z=(y,g)=>{y.preventDefault(),k.value={show:!0,x:y.clientX,y:y.clientY,contact:g,isEditing:!1,editName:""}},ne=()=>{k.value.show=!1,k.value.isEditing=!1,k.value.contact=null,k.value.editName=""},X=()=>{k.value.isEditing=!0,setTimeout(()=>{var y,g;(y=I.value)==null||y.focus(),(g=I.value)==null||g.select()},0)},W=()=>{k.value.contact&&k.value.editName.trim()&&(n.updateContact({name:k.value.editName}),ne())},te=()=>{ne()},re=()=>{k.value.contact&&(n.deleteContact(k.value.contact.id),ne())},_=async()=>{var x;const{error:y,data:g}=await pe.http("POST","/api/chat/invitations",{name:p.value.name,userId:(x=o.user)==null?void 0:x.id});y?console.error("Failed to generate share link: ",y):g&&g.status==="success"&&g.token&&(f.value=`${window.location.origin}/join-chat/${g.token}`)},q=async()=>{try{await navigator.clipboard.writeText(f.value),h.value=!0,setTimeout(()=>{h.value=!1},2e3)}catch(y){console.error("Failed to copy text: ",y)}};t({openAddContactModal:()=>{u.value=!0}}),Ne(()=>{document.addEventListener("click",ne)}),ft(()=>{document.removeEventListener("click",ne)});const w=()=>{P.value=!P.value,P.value&&setTimeout(()=>{const y=document.querySelector(".search-input");y&&y.focus()},100)},C=()=>{a.value||(P.value=!1)},K=()=>{S("toggle-calendar"),S("toggle-contacts")},$=()=>{S("toggle-task"),S("toggle-contacts")};return(y,g)=>(T(),A("div",xf,[r("div",Sf,[r("button",{class:"close-contacts",onClick:g[0]||(g[0]=x=>S("toggle-contacts"))},g[12]||(g[12]=[r("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z",fill:"currentColor"})],-1)])),g[13]||(g[13]=r("h2",null,"Contacts",-1))]),r("div",Ef,[r("div",Tf,[r("button",{class:"icon-button calendar-icon",onClick:K},g[14]||(g[14]=[fs('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="none" data-v-96eedc4f><rect x="3" y="4" width="18" height="18" rx="3" ry="3" fill="white" stroke="#DDD" stroke-width="1" data-v-96eedc4f></rect><rect x="3" y="4" width="18" height="5" rx="3" ry="3" fill="#FF3B30" data-v-96eedc4f></rect><rect x="3" y="7" width="18" height="2" fill="#FF3B30" data-v-96eedc4f></rect><rect x="7" y="1" width="1.5" height="4" rx="0.75" fill="#CCC" data-v-96eedc4f></rect><rect x="15.5" y="1" width="1.5" height="4" rx="0.75" fill="#CCC" data-v-96eedc4f></rect><rect x="6.5" y="2" width="2.5" height="0.8" rx="0.4" fill="white" data-v-96eedc4f></rect><rect x="15" y="2" width="2.5" height="0.8" rx="0.4" fill="white" data-v-96eedc4f></rect><text x="12" y="18" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" font-weight="bold" fill="#333" data-v-96eedc4f> 24 </text><circle cx="6" cy="12" r="0.8" fill="#DDD" data-v-96eedc4f></circle><circle cx="9" cy="12" r="0.8" fill="#DDD" data-v-96eedc4f></circle><circle cx="12" cy="12" r="0.8" fill="#FF3B30" data-v-96eedc4f></circle><circle cx="15" cy="12" r="0.8" fill="#DDD" data-v-96eedc4f></circle><circle cx="18" cy="12" r="0.8" fill="#DDD" data-v-96eedc4f></circle></svg>',1)])),r("button",{class:"icon-button task-icon",onClick:$},g[15]||(g[15]=[fs('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="none" data-v-96eedc4f><rect x="3" y="2" width="18" height="20" rx="2" ry="2" fill="#E8F5E8" stroke="#4CAF50" stroke-width="1" data-v-96eedc4f></rect><rect x="3" y="2" width="18" height="4" rx="2" ry="2" fill="#4CAF50" data-v-96eedc4f></rect><circle cx="6" cy="4" r="0.5" fill="white" data-v-96eedc4f></circle><circle cx="8" cy="4" r="0.5" fill="white" data-v-96eedc4f></circle><circle cx="10" cy="4" r="0.5" fill="white" data-v-96eedc4f></circle><rect x="5" y="8" width="2" height="2" rx="0.3" fill="#4CAF50" data-v-96eedc4f></rect><path d="M5.4 9L6 9.6L7.6 8" stroke="white" stroke-width="0.3" fill="none" data-v-96eedc4f></path><line x1="8.5" y1="9" x2="16" y2="9" stroke="#4CAF50" stroke-width="0.8" data-v-96eedc4f></line><rect x="5" y="11.5" width="2" height="2" rx="0.3" fill="#4CAF50" data-v-96eedc4f></rect><path d="M5.4 12.5L6 13.1L7.6 11.5" stroke="white" stroke-width="0.3" fill="none" data-v-96eedc4f></path><line x1="8.5" y1="12.5" x2="14" y2="12.5" stroke="#4CAF50" stroke-width="0.8" data-v-96eedc4f></line><rect x="5" y="15" width="2" height="2" rx="0.3" fill="white" stroke="#DDD" stroke-width="0.5" data-v-96eedc4f></rect><line x1="8.5" y1="16" x2="18" y2="16" stroke="#BBB" stroke-width="0.8" data-v-96eedc4f></line><rect x="5" y="18.5" width="2" height="2" rx="0.3" fill="white" stroke="#DDD" stroke-width="0.5" data-v-96eedc4f></rect><line x1="8.5" y1="19.5" x2="15" y2="19.5" stroke="#BBB" stroke-width="0.8" data-v-96eedc4f></line></svg>',1)])),r("button",{class:"icon-button notes-icon",onClick:V},g[16]||(g[16]=[fs('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="none" data-v-96eedc4f><rect x="3" y="2" width="18" height="20" rx="3" ry="3" fill="#FFC107" data-v-96eedc4f></rect><rect x="3" y="8" width="18" height="14" rx="0" ry="0" fill="white" data-v-96eedc4f></rect><line x1="5" y1="11" x2="19" y2="11" stroke="#E0E0E0" stroke-width="1" data-v-96eedc4f></line><line x1="5" y1="14" x2="19" y2="14" stroke="#E0E0E0" stroke-width="1" data-v-96eedc4f></line><line x1="5" y1="17" x2="19" y2="17" stroke="#E0E0E0" stroke-width="1" data-v-96eedc4f></line><line x1="5" y1="20" x2="19" y2="20" stroke="#E0E0E0" stroke-width="1" data-v-96eedc4f></line><line x1="6.5" y1="8" x2="6.5" y2="22" stroke="#FF5252" stroke-width="1" data-v-96eedc4f></line></svg>',1)])),r("button",{class:"icon-button add-contact-button",onClick:g[1]||(g[1]=x=>u.value=!0)},g[17]||(g[17]=[fs('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="none" data-v-96eedc4f><rect x="2" y="4" width="20" height="16" rx="3" ry="3" fill="#F8F9FA" stroke="#E0E0E0" stroke-width="1" data-v-96eedc4f></rect><circle cx="8" cy="10" r="2.5" fill="#007AFF" data-v-96eedc4f></circle><path d="M6.5 9.2C6.5 8.5 7 8 7.5 8S8.5 8.5 8.5 9.2C8.5 9.9 8 10.4 7.5 10.4S6.5 9.9 6.5 9.2Z" fill="white" data-v-96eedc4f></path><path d="M5.5 12.5C5.5 11.7 6.3 11 7.5 11S9.5 11.7 9.5 12.5V13H5.5V12.5Z" fill="white" data-v-96eedc4f></path><rect x="12" y="8" width="6" height="1" rx="0.5" fill="#DDD" data-v-96eedc4f></rect><rect x="12" y="10.5" width="8" height="1" rx="0.5" fill="#DDD" data-v-96eedc4f></rect><rect x="12" y="13" width="4" height="1" rx="0.5" fill="#DDD" data-v-96eedc4f></rect><circle cx="17.7" cy="6.7" r="4" fill="rgba(0,0,0,0.15)" data-v-96eedc4f></circle><circle cx="17.5" cy="6.5" r="4" fill="#28A745" stroke="white" stroke-width="2.5" data-v-96eedc4f></circle><line x1="17.5" y1="3.5" x2="17.5" y2="9.5" stroke="#000" stroke-width="4" stroke-linecap="round" data-v-96eedc4f></line><line x1="14.5" y1="6.5" x2="20.5" y2="6.5" stroke="#000" stroke-width="4" stroke-linecap="round" data-v-96eedc4f></line><line x1="17.5" y1="3.5" x2="17.5" y2="9.5" stroke="white" stroke-width="2.5" stroke-linecap="round" data-v-96eedc4f></line><line x1="14.5" y1="6.5" x2="20.5" y2="6.5" stroke="white" stroke-width="2.5" stroke-linecap="round" data-v-96eedc4f></line></svg>',1)])),r("button",{class:"icon-button search-toggle-button",onClick:w},g[18]||(g[18]=[r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor"},[r("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})],-1)]))]),r("div",{class:_e(["search-input-wrapper",{active:P.value}])},[ue(r("input",{"onUpdate:modelValue":g[2]||(g[2]=x=>a.value=x),type:"text",class:"search-input",placeholder:"Search contacts",onBlur:C},null,544),[[me,a.value]]),r("button",{class:"close-search-button",onClick:g[3]||(g[3]=x=>P.value=!1)},g[19]||(g[19]=[r("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z",fill:"currentColor"})],-1)]))],2)]),r("div",Mf,[Ie(Yc,{name:"contact-list",tag:"div"},{default:Tn(()=>[(T(!0),A(he,null,Pe(M.value,x=>(T(),A("div",{key:x.id,class:_e(["contact",{active:x.isActive}]),onClick:ie=>D(x),onContextmenu:ie=>Z(ie,x)},[r("div",Af,[r("div",If,j(L(x.name)),1),r("div",{class:_e(["status-indicator",{online:x.isOnline}])},null,2)]),r("div",Pf,[r("div",Df,[r("span",Lf,j(x.name),1),r("span",Rf,j(x.lastMessageTime),1)]),r("div",Of,[r("p",Vf,j(x.lastMessage),1),x.unreadCount?(T(),A("span",Nf,j(x.unreadCount),1)):oe("",!0)])])],42,$f))),128))]),_:1}),M.value.length===0?(T(),A("div",Bf,' No contacts found for "'+j(a.value)+'" ',1)):oe("",!0)]),k.value.show?(T(),A("div",{key:0,class:"context-menu",style:Ge({left:k.value.x+"px",top:k.value.y+"px"}),onClick:g[5]||(g[5]=rt(()=>{},["stop"]))},[k.value.isEditing?(T(),A("div",Hf,[ue(r("input",{"onUpdate:modelValue":g[4]||(g[4]=x=>k.value.editName=x),type:"text",class:"edit-input",onKeyup:[et(W,["enter"]),et(te,["esc"])],ref_key:"editInput",ref:I},null,544),[[me,k.value.editName]]),r("div",{class:"edit-actions"},[r("button",{onClick:W,class:"edit-button save"},"Save"),r("button",{onClick:te,class:"edit-button cancel"},"Cancel")])])):(T(),A("div",jf,[r("button",{onClick:rt(X,["stop"]),class:"menu-item"},g[20]||(g[20]=[r("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M3 17.25V21H6.75L17.81 9.94L14.06 6.19L3 17.25ZM20.71 7.05C21.1 6.66 21.1 6.02 20.71 5.63L18.37 3.29C17.98 2.9 17.34 2.9 16.95 3.29L15.66 4.58L19.42 8.34L20.71 7.05Z",fill:"currentColor"})],-1),Oe(" Edit ")])),r("button",{onClick:rt(re,["stop"]),class:"menu-item delete"},g[21]||(g[21]=[r("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z",fill:"currentColor"})],-1),Oe(" Delete ")]))]))],4)):oe("",!0),u.value?(T(),A("div",{key:1,class:"modal-overlay",onClick:g[11]||(g[11]=x=>u.value=!1)},[r("div",{class:"modal-content",onClick:g[10]||(g[10]=rt(()=>{},["stop"]))},[r("div",Ff,[g[23]||(g[23]=r("h3",null,"Add New Contact",-1)),r("button",{class:"close-modal-button",onClick:g[6]||(g[6]=x=>u.value=!1)},g[22]||(g[22]=[r("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z",fill:"currentColor"})],-1)]))]),r("div",Uf,[r("div",zf,[g[24]||(g[24]=r("label",{for:"contactName"},"Name",-1)),ue(r("input",{id:"contactName","onUpdate:modelValue":g[7]||(g[7]=x=>p.value.name=x),type:"text",class:"form-input",placeholder:"Enter contact name",onKeyup:et(_,["enter"])},null,544),[[me,p.value.name]])]),r("div",Wf,[g[27]||(g[27]=r("label",null,"Share Link",-1)),r("div",Kf,[ue(r("input",{"onUpdate:modelValue":g[8]||(g[8]=x=>f.value=x),type:"text",class:"form-input share-link-input",readonly:"",placeholder:"Click Generate to create link"},null,512),[[me,f.value]]),r("button",{class:_e(["copy-button",{success:h.value}]),onClick:q},[h.value?(T(),A("svg",qf,g[26]||(g[26]=[r("path",{d:"M9 16.17L4.83 12L3.41 13.41L9 19L21 7L19.59 5.59L9 16.17Z",fill:"currentColor"},null,-1)]))):(T(),A("svg",Gf,g[25]||(g[25]=[r("path",{d:"M16 1H4C3 1 2 2 2 3V17H4V3H16V1ZM19 5H8C7 5 6 6 6 7V21C6 22 7 23 8 23H19C20 23 21 22 21 21V7C21 6 20 5 19 5ZM19 21H8V7H19V21Z",fill:"currentColor"},null,-1)])))],2)])]),r("div",Jf,[r("button",{class:"cancel-button",onClick:g[9]||(g[9]=x=>u.value=!1)}," Cancel "),r("button",{class:"save-button",onClick:_}," Generate Link ")])])])])):oe("",!0)]))}}),Zf=He(Yf,[["__scopeId","data-v-96eedc4f"]]),Qf={class:"chat-area"},Xf={class:"chat-header"},ep={class:"messages-container"},tp={key:0,class:"date-divider"},sp=["onContextmenu","onDblclick"],np={key:0,class:"message-edit-mode"},op=["onKeyup"],rp={class:"message-footer"},ip={key:0,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},lp={key:1,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},ap={key:1,class:"no-contact-placeholder"},cp={class:"placeholder-content"},up={class:"placeholder-actions"},dp={key:0,class:"typing-indicator"},fp={class:"input-area"},pp=["disabled"],hp=["disabled"],vp=["placeholder","disabled"],gp=["disabled"],mp={key:1,class:"call-modal"},wp={class:"call-modal-content"},yp={class:"call-header"},bp={class:"call-duration"},_p={class:"call-body"},kp={key:0,class:"user-avatar"},Cp={key:1,class:"video-container"},xp={class:"remote-video"},Sp={key:0,class:"avatar-circle large"},Ep={class:"local-video"},Tp={key:0,class:"avatar-circle small"},Mp={class:"call-actions"},$p={key:0,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ap={key:1,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ip={key:0,class:"action-button speaker"},Pp={key:1,class:"action-button camera"},Dp={key:0,class:"edit-mode"},Lp={key:1,class:"menu-items"},Rp=Re({__name:"ChatArea",props:{selectedContact:{type:Object,default:null},isTyping:{type:Boolean,default:!1},notificationsEnabled:{type:Boolean,default:!0}},emits:["send-message","toggle-contacts","event-typing","toggle-notifications","open-add-contact"],setup(e,{expose:t,emit:s}){const n=Gt(),o=s,i=No();nt();const l=N(""),a=N(null),c=Q=>{var U;return Q.sender_id&&((U=n.user)!=null&&U.id)?Q.sender_id===n.user.id:Q.isSent===!0},d=N({show:!1,x:0,y:0,messageIndex:-1,isEditing:!1,editText:""}),u=N({index:-1,text:""}),p=N(!1),f=N(null),h=N(0),S=N(null),I=N(!1),P=N(null),k=N(null),D=N(null),V=()=>{if(a.value){const Q=a.value;Q.scrollTop=Q.scrollHeight}};t({scrollToBottom:V});const M=async()=>{const Q=l.value.trim();Q&&(console.log("sendMessage",Q),o("send-message",Q),l.value="",setTimeout(V,100))};let L=!1;const Z=()=>{L||(L=!0,o("event-typing"),setTimeout(()=>{L=!1},2500))},ne=async()=>{f.value="video",p.value=!0,te();try{const Q=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});D.value=Q,setTimeout(()=>{P.value&&(P.value.srcObject=Q),k.value&&(k.value.srcObject=Q)},100)}catch(Q){console.error("    :",Q)}},X=()=>{f.value="audio",p.value=!0,te()},W=()=>{p.value=!1,f.value=null,re(),h.value=0,D.value&&(D.value.getTracks().forEach(Q=>Q.stop()),D.value=null)},te=()=>{h.value=0,S.value=window.setInterval(()=>{h.value++},1e3)},re=()=>{S.value&&(clearInterval(S.value),S.value=null)},_=Q=>{const U=Math.floor(Q/60),we=Q%60;return`${U.toString().padStart(2,"0")}:${we.toString().padStart(2,"0")}`},q=()=>{D.value&&(D.value.getAudioTracks().forEach(U=>{U.enabled=!U.enabled}),I.value=!I.value)},w=(Q,U,we)=>{Q.preventDefault();const E=i.messages[U];c(E)&&(d.value={show:!0,x:Q.clientX,y:Q.clientY,messageIndex:U,isEditing:!1,editText:we})},C=()=>{d.value.show=!1,d.value.messageIndex=-1},K=()=>{const Q=d.value.messageIndex,U=d.value.editText;C(),ie(Q,U)},$=async()=>{var U;const Q=d.value.editText.trim();if(d.value.messageIndex!==-1&&Q){if(Q.length>1e4){console.error("   ( 10000 )");return}const we=i.messages[d.value.messageIndex];if(we.id)try{if(!((U=n.user)!=null&&U.id)){console.error("User ID  ");return}const{data:E,error:H}=await Jn.updateMessage(we.id,Q,n.user.id);if(H||!E||!E.message||E.status!=="ok"){console.error("   :",H==null?void 0:H.message),d.value.isEditing=!1;return}const J=E!=null&&E.message?{id:E.message.id,sender_id:E.message.sender_id,receiver_id:E.message.receiver_id,text:E.message.content,createdAt:E.message.updated_at}:void 0;i.updateMessage(d.value.messageIndex,Q,J)}catch(E){console.error("    :",E);return}d.value.isEditing=!1}},y=()=>{d.value.isEditing=!1,d.value.editText=""},g=async()=>{if(d.value.messageIndex!==-1){const Q=i.messages[d.value.messageIndex];if(!c(Q)){console.error("   "),C();return}if(Q.id)try{const{error:U}=await Jn.deleteMessage(Q.id);if(U){console.error("   :",U.message);return}i.deleteMessage(d.value.messageIndex)}catch(U){console.error("    :",U);return}else i.deleteMessage(d.value.messageIndex);C()}},x=()=>{if(d.value.messageIndex!==-1){const Q=i.messages[d.value.messageIndex];console.log("Creating task from message:",Q.text),C()}},ie=(Q,U)=>{const we=i.messages[Q];c(we)&&(u.value={index:Q,text:U},dt(()=>{const E=document.querySelector(".message-edit-input");E&&(E.focus(),E.select())}))},ve=async()=>{var U;const Q=u.value.text.trim();if(u.value.index!==-1&&Q){if(Q.length>1e4){console.error("   ( 10000 )");return}const we=i.messages[u.value.index];if(we.id)try{if(!((U=n.user)!=null&&U.id)){console.error("User ID  ");return}const{data:E,error:H}=await Jn.updateMessage(we.id,Q,n.user.id);if(H){console.error("   :",H.message);return}const J=E!=null&&E.message?{id:E.message.id,sender_id:E.message.sender_id,receiver_id:E.message.receiver_id,text:E.message.content,createdAt:E.message.updated_at}:void 0;i.updateMessage(u.value.index,Q,J)}catch(E){console.error("    :",E);return}else i.updateMessage(u.value.index,Q);u.value.index=-1,u.value.text=""}},ge=()=>{u.value.index=-1,u.value.text=""};return Ne(()=>{document.addEventListener("click",C)}),ft(()=>{re(),D.value&&D.value.getTracks().forEach(Q=>Q.stop()),document.removeEventListener("click",C)}),(Q,U)=>{var we,E;return T(),A("div",Qf,[r("div",Xf,[r("button",{class:"toggle-contacts",onClick:U[0]||(U[0]=H=>Q.$emit("toggle-contacts"))},U[7]||(U[7]=[r("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M3 18H21V16H3V18ZM3 13H21V11H3V13ZM3 6V8H21V6H3Z",fill:"currentColor"})],-1)])),r("h2",null,j(e.selectedContact?e.selectedContact.name:"Not selected"),1),U[8]||(U[8]=r("div",{class:"header-buttons"},null,-1))]),r("div",ep,[e.selectedContact?(T(),A("div",{key:0,class:"messages",ref_key:"messageContainerRef",ref:a},[(T(!0),A(he,null,Pe(De(i).messages,(H,J)=>(T(),A(he,{key:J},[H.date?(T(),A("div",tp,[r("span",null,j(H.date),1)])):oe("",!0),r("div",{class:_e(["message",H.isSent?"sent":"received",{editable:c(H)},{"with-calendar":!!H.calendarId,"with-task":!!H.taskId}]),onContextmenu:rt(se=>c(H)?w(se,J,H.text):null,["prevent"]),onDblclick:se=>c(H)?ie(J,H.text):null},[u.value.index===J?(T(),A("div",np,[ue(r("textarea",{"onUpdate:modelValue":U[1]||(U[1]=se=>u.value.text=se),class:"message-edit-input",onKeyup:[et(rt(ve,["exact"]),["enter"]),et(ge,["esc"])],onKeydown:U[2]||(U[2]=et(rt(se=>u.value.text+=`
`,["shift","exact","prevent"]),["enter"])),ref_for:!0,ref:"editTextarea"},null,40,op),[[me,u.value.text]]),r("div",{class:"message-edit-actions"},[r("button",{onClick:ve,class:"message-edit-button save"},U[9]||(U[9]=[r("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19L21 7l-1.41-1.41L9 16.17z",fill:"currentColor"})],-1)])),r("button",{onClick:ge,class:"message-edit-button cancel"},U[10]||(U[10]=[r("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z",fill:"currentColor"})],-1)]))])])):(T(),A(he,{key:1},[Oe(j(H.text)+" ",1),r("div",rp,[r("span",null,j(H.time),1),H.isSent?(T(),A("span",{key:0,class:_e(["message-status",H.status])},[H.status==="read"?(T(),A("svg",ip,U[11]||(U[11]=[r("path",{d:"M18 7L9.429 15.571L6 12.143",stroke:"currentColor",fill:"none","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),r("path",{d:"M18 7L9.429 15.571L6 12.143",stroke:"currentColor",fill:"none","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",transform:"translate(4 0)"},null,-1)]))):H.status==="delivered"?(T(),A("svg",lp,U[12]||(U[12]=[r("path",{d:"M18 7L9.429 15.571L6 12.143",stroke:"currentColor",fill:"none","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))):oe("",!0)],2)):oe("",!0)])],64))],42,sp)],64))),128))],512)):(T(),A("div",ap,[r("div",cp,[U[13]||(U[13]=r("div",{class:"placeholder-title"},"Select a contact to start chatting",-1)),U[14]||(U[14]=r("div",{class:"placeholder-subtitle"}," Or add a new contact to start a conversation ",-1)),r("div",up,[r("button",{class:"placeholder-button primary mobile-only",onClick:U[3]||(U[3]=H=>Q.$emit("toggle-contacts"))}," Open contacts "),r("button",{class:"placeholder-button",onClick:U[4]||(U[4]=H=>Q.$emit("open-add-contact"))}," Add contact ")])])]))]),e.isTyping&&e.selectedContact?(T(),A("div",dp,[r("span",null,j(e.selectedContact.name)+" is typing",1),U[15]||(U[15]=r("div",{class:"typing-dots"},[r("div",{class:"typing-dot"}),r("div",{class:"typing-dot"}),r("div",{class:"typing-dot"})],-1))])):oe("",!0),r("div",fp,[r("button",{class:"video-call-button",title:"Start video call",onClick:ne,disabled:!e.selectedContact},U[16]||(U[16]=[r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor"},[r("path",{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"})],-1)]),8,pp),r("button",{class:"voice-call-button",title:"Start voice call",onClick:X,disabled:!e.selectedContact},U[17]||(U[17]=[r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor"},[r("path",{d:"M20.01 15.38c-1.23 0-2.42-.2-3.53-.56-.35-.12-.74-.03-1.01.24l-1.57 1.97c-2.83-1.35-5.48-3.9-6.89-6.83l1.95-1.66c.27-.28.35-.67.24-1.02-.37-1.11-.56-2.3-.56-3.53 0-.54-.45-.99-.99-.99H4.19C3.65 3 3 3.24 3 3.99 3 13.28 10.73 21 20.01 21c.71 0 .99-.63.99-1.18v-3.45c0-.54-.45-.99-.99-.99z"})],-1)]),8,hp),ue(r("input",{"onUpdate:modelValue":U[5]||(U[5]=H=>l.value=H),type:"text",class:"message-input",placeholder:e.selectedContact?"Type a message...":"Select a contact to send a message",onKeyup:et(M,["enter"]),onKeypress:Z,disabled:!e.selectedContact},null,40,vp),[[me,l.value]]),r("button",{class:"send-button",onClick:M,disabled:!l.value.trim()||!e.selectedContact},U[18]||(U[18]=[r("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M2.01 21L23 12L2.01 3L2 10L17 12L2 14L2.01 21Z",fill:"currentColor"})],-1)]),8,gp)]),p.value?(T(),A("div",mp,[r("div",wp,[r("div",yp,[r("h3",null,j(f.value==="video"?"Video Call":"Voice Call"),1),r("span",bp,j(_(h.value)),1)]),r("div",_p,[f.value==="audio"?(T(),A("div",kp,U[19]||(U[19]=[r("div",{class:"avatar-circle"},"JS",-1),r("div",{class:"call-status"},"John Smith",-1)]))):oe("",!0),f.value==="video"?(T(),A("div",Cp,[r("div",xp,[r("video",{ref_key:"remoteVideoRef",ref:k,autoplay:"",playsinline:"",class:"video-player remote"},null,512),(we=k.value)!=null&&we.srcObject?oe("",!0):(T(),A("div",Sp," JS ")),U[20]||(U[20]=r("div",{class:"call-status"},"John Smith",-1))]),r("div",Ep,[r("video",{ref_key:"localVideoRef",ref:P,autoplay:"",playsinline:"",muted:"",class:"video-player local"},null,512),(E=P.value)!=null&&E.srcObject?oe("",!0):(T(),A("div",Tp," ME "))])])):oe("",!0)]),r("div",Mp,[r("button",{class:_e(["action-button mute",{active:I.value}]),onClick:q},[I.value?(T(),A("svg",Ap,U[22]||(U[22]=[r("path",{d:"M19 11h-1.7c0 .74-.16 1.43-.43 2.05l1.23 1.23c.56-.98.9-2.09.9-3.28zm-4.02.17c0-.06.02-.11.02-.17V5c0-1.66-1.34-3-3-3S9 3.34 9 5v.18l5.98 5.99zM4.27 3L3 4.27l6.01 6.01V11c0 1.66 1.33 3 2.99 3 .22 0 .44-.03.65-.08l1.66 1.66c-.71.33-1.5.52-2.31.52-2.76 0-5.3-2.1-5.3-5.1H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c.91-.13 1.77-.45 2.54-.9L19.73 21 21 19.73 4.27 3z",fill:"currentColor"},null,-1)]))):(T(),A("svg",$p,U[21]||(U[21]=[r("path",{d:"M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z",fill:"currentColor"},null,-1),r("path",{d:"M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z",fill:"currentColor"},null,-1)])))],2),r("button",{class:"action-button end-call",onClick:W},U[23]||(U[23]=[r("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M12 9c-1.6 0-3.15.25-4.6.72v3.1c0 .39-.23.74-.56.9-.98.49-1.87 1.12-2.66 1.85-.18.18-.43.28-.7.28-.28 0-.53-.11-.71-.29L.29 13.08c-.18-.17-.29-.42-.29-.7 0-.28.11-.53.29-.71C3.34 8.78 7.46 7 12 7s8.66 1.78 11.71 4.67c.18.18.29.43.29.71 0 .28-.11.53-.29.71l-2.48 2.48c-.18.18-.43.29-.71.29-.27 0-.52-.11-.7-.28-.79-.74-1.69-1.36-2.67-1.85-.33-.16-.56-.5-.56-.9v-3.1C15.15 9.25 13.6 9 12 9z",fill:"currentColor"})],-1)])),f.value==="audio"?(T(),A("button",Ip,U[24]||(U[24]=[r("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z",fill:"currentColor"})],-1)]))):oe("",!0),f.value==="video"?(T(),A("button",Pp,U[25]||(U[25]=[r("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z",fill:"currentColor"})],-1)]))):oe("",!0)])])])):oe("",!0),d.value.show?(T(),A("div",{key:2,class:"context-menu",style:Ge({left:d.value.x+"px",top:d.value.y+"px"})},[d.value.isEditing?(T(),A("div",Dp,[ue(r("input",{"onUpdate:modelValue":U[6]||(U[6]=H=>d.value.editText=H),type:"text",class:"edit-input",onKeyup:[et($,["enter"]),et(y,["esc"])]},null,544),[[me,d.value.editText]]),r("div",{class:"edit-actions"},[r("button",{onClick:$,class:"edit-button save"},"Save"),r("button",{onClick:y,class:"edit-button cancel"},"Cancel")])])):(T(),A("div",Lp,[r("button",{onClick:K,class:"menu-item"},U[26]||(U[26]=[r("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M3 17.25V21H6.75L17.81 9.94L14.06 6.19L3 17.25ZM20.71 7.05C21.1 6.66 21.1 6.02 20.71 5.63L18.37 3.29C17.98 2.9 17.34 2.9 16.95 3.29L15.66 4.58L19.42 8.34L20.71 7.05Z",fill:"currentColor"})],-1),Oe(" Edit ")])),r("button",{onClick:x,class:"menu-item"},U[27]||(U[27]=[r("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19L21 7l-1.41-1.41L9 16.17z",fill:"currentColor"}),r("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z",fill:"currentColor"})],-1),Oe(" Task ")])),r("button",{onClick:g,class:"menu-item delete"},U[28]||(U[28]=[r("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z",fill:"currentColor"})],-1),Oe(" Delete ")]))]))],4)):oe("",!0)])}}}),Op=He(Rp,[["__scopeId","data-v-dee3b774"]]),Vp={class:"calendar-container"},Np={class:"calendar-header"},Bp={class:"calendar-view"},Hp={class:"month-navigation"},jp={class:"weekdays"},Fp={class:"calendar-grid"},Up=["onClick"],zp={key:0,class:"event-indicator"},Wp={class:"date-details"},Kp={class:"date-details-header"},Gp={key:0,class:"events-count"},qp={key:1,class:"events-count"},Jp={class:"hour-label"},Yp={class:"hour-content"},Zp={class:"event-time"},Qp={class:"event-title"},Xp={class:"event-description"},eh=["onClick"],th={class:"modal-header"},sh={class:"modal-body"},nh={class:"form-group"},oh={class:"form-group"},rh={class:"form-row"},ih={class:"form-group half"},lh={class:"form-group half"},ah={class:"form-actions"},ch=Re({name:"CalendarComponent",__name:"Calendar",emits:["toggle-contacts","back-to-chat"],setup(e,{emit:t}){const s=N(new Date),n=N(new Date),o=N(null),i=N([]),l=N([]),a=N({title:"",description:"",startTime:"09:00",endTime:"10:00"}),c=N(!1),d=t,u=["January","February","March","April","May","June","July","August","September","October","November","December"],p=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],f=ye(()=>s.value.getMonth()),h=ye(()=>s.value.getFullYear()),S=ye(()=>`${u[f.value]} ${h.value}`),I=ye(()=>{const $=new Date(h.value,f.value,1),y=new Date(h.value,f.value+1,0);let g=$.getDay();g=g===0?6:g-1;const x=[],ie=new Date(h.value,f.value,0).getDate();for(let ge=g-1;ge>=0;ge--)x.push({date:new Date(h.value,f.value-1,ie-ge),isCurrentMonth:!1,hasEvent:k(new Date(h.value,f.value-1,ie-ge))});for(let ge=1;ge<=y.getDate();ge++){const Q=new Date(h.value,f.value,ge);x.push({date:Q,isCurrentMonth:!0,isToday:P(Q),hasEvent:k(Q)})}const ve=7-(x.length%7||7);if(ve<7)for(let ge=1;ge<=ve;ge++)x.push({date:new Date(h.value,f.value+1,ge),isCurrentMonth:!1,hasEvent:k(new Date(h.value,f.value+1,ge))});return x});function P($){const y=new Date;return $.getDate()===y.getDate()&&$.getMonth()===y.getMonth()&&$.getFullYear()===y.getFullYear()}function k($){return l.value.some(y=>y.date.getDate()===$.getDate()&&y.date.getMonth()===$.getMonth()&&y.date.getFullYear()===$.getFullYear())}const D=ye(()=>n.value?l.value.filter($=>$.date.getDate()===n.value.getDate()&&$.date.getMonth()===n.value.getMonth()&&$.date.getFullYear()===n.value.getFullYear()):[]);function V(){s.value=new Date(h.value,f.value-1,1)}function M(){s.value=new Date(h.value,f.value+1,1)}function L($){n.value=new Date($)}st(n,async()=>{await dt();const $=o.value;$&&$.scrollTo({top:0,behavior:"auto"})}),st(D,async $=>{if(!$||$.length===0)return;let y=null,g=null;for(const ve of $){if(!ve.startTime)continue;const[ge,Q]=ve.startTime.split(":"),U=parseInt(ge),we=parseInt(Q||"0");(y===null||U<y||U===y&&we<(g||0))&&(y=U,g=we)}if(y===null)return;await dt();const x=o.value,ie=i.value[y];x&&ie&&x.scrollTo({top:ie.offsetTop,behavior:"smooth"})},{immediate:!0});function Z(){c.value=!0,a.value={title:"",description:"",startTime:"09:00",endTime:"10:00"}}function ne(){n.value&&a.value.title.trim()&&(l.value.push({date:new Date(n.value),title:a.value.title,description:a.value.description,startTime:a.value.startTime,endTime:a.value.endTime}),W(),c.value=!1,a.value={title:"",description:"",startTime:"09:00",endTime:"10:00"})}function X($){l.value.splice($,1),W()}function W(){const $=l.value.map(y=>({date:y.date.toISOString(),title:y.title,description:y.description,startTime:y.startTime,endTime:y.endTime}));localStorage.setItem("calendar_events",JSON.stringify($))}function te(){const $=localStorage.getItem("calendar_events");if($)try{const y=JSON.parse($);l.value=y.map(g=>({date:new Date(g.date),title:g.title,description:g.description,startTime:g.startTime||"09:00",endTime:g.endTime||"10:00"}))}catch(y){console.error("Error loading calendar events:",y)}}Ne(()=>{if(te(),l.value.length===0){const $=new Date,y=new Date;y.setDate($.getDate()+1);const g=new Date;g.setDate($.getDate()+7),l.value=[{date:$,title:"Team Meeting",description:"Discussing new app features and sprint planning",startTime:"10:00",endTime:"11:30"},{date:$,title:"Lunch",description:"Business lunch with partners",startTime:"13:00",endTime:"14:00"},{date:y,title:"Client Call",description:"Prototype presentation and requirements discussion",startTime:"15:00",endTime:"16:00"},{date:g,title:"Project Deadline",description:"Final version of the application must be delivered",startTime:"18:00",endTime:"19:00"}],W()}});function re($){const y=$.getDate().toString().padStart(2,"0"),g=($.getMonth()+1).toString().padStart(2,"0"),x=$.getFullYear();return`${y}-${g}-${x}`}const _=ye(()=>{const $=[];for(let y=0;y<24;y++)$.push(`${y.toString().padStart(2,"0")}:00`);return $});function q($){return n.value?D.value.filter(y=>{if(!y.startTime)return!1;const g=parseInt(y.startTime.split(":")[0]),x=parseInt($.split(":")[0]);return g===x}):[]}function w($){if(!$)return"";const[y,g]=$.split(":"),x=parseInt(y);return x===0?`12:${g} AM`:x<12?`${x}:${g} AM`:x===12?`12:${g} PM`:`${x-12}:${g} PM`}function C($){if(!$.startTime||!$.endTime)return 1;const[y,g]=$.startTime.split(":").map(Number),[x,ie]=$.endTime.split(":").map(Number),ve=y*60+g,ge=x*60+ie;return Math.ceil((ge-ve)/60)}function K($){const y=["#4285F4","#EA4335","#FBBC05","#34A853","#FF6D01","#46BDC6","#7C4DFF","#795548"];return y[$%y.length]}return($,y)=>(T(),A("div",Vp,[r("div",Np,[r("button",{class:"back-button",onClick:y[0]||(y[0]=g=>d("toggle-contacts"))},y[9]||(y[9]=[r("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M15 18L9 12L15 6",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])),y[10]||(y[10]=r("h2",null,"Calendar",-1)),y[11]||(y[11]=r("div",{class:"header-buttons"},null,-1))]),r("div",Bp,[r("div",Hp,[r("button",{onClick:V,class:"nav-button"},y[12]||(y[12]=[r("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z",fill:"currentColor"})],-1)])),r("h3",null,j(S.value),1),r("button",{onClick:M,class:"nav-button"},y[13]||(y[13]=[r("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z",fill:"currentColor"})],-1)]))]),r("div",jp,[(T(),A(he,null,Pe(p,g=>r("div",{class:"weekday",key:g},j(g),1)),64))]),r("div",Fp,[(T(!0),A(he,null,Pe(I.value,(g,x)=>(T(),A("div",{key:x,class:_e(["day",{"other-month":!g.isCurrentMonth,today:g.isToday,"has-event":g.hasEvent}]),onClick:ie=>L(g.date)},[Oe(j(g.date.getDate())+" ",1),g.hasEvent?(T(),A("div",zp)):oe("",!0)],10,Up))),128))])]),r("div",Wp,[r("div",Kp,[r("h3",null,[Oe(j(n.value?re(n.value):"")+" ",1),D.value.length>0?(T(),A("span",Gp," Events: "+j(D.value.length),1)):(T(),A("span",qp," No events for selected date "))]),r("button",{onClick:Z,class:"add-event-button"},y[14]||(y[14]=[r("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z",fill:"currentColor"})],-1),r("span",null,"Add",-1)]))]),r("div",{class:"day-timeline",ref_key:"dayTimelineRef",ref:o},[(T(!0),A(he,null,Pe(_.value,(g,x)=>(T(),A("div",{key:g,class:"hour-block",ref_for:!0,ref:ie=>i.value[x]=ie},[r("div",Jp,j(g),1),r("div",Yp,[(T(!0),A(he,null,Pe(q(g),(ie,ve)=>(T(),A("div",{key:ve,class:"timeline-event",style:Ge({height:`${C(ie)*60}px`,backgroundColor:K(ve)})},[r("div",Zp,j(w(ie.startTime))+" - "+j(w(ie.endTime)),1),r("div",Qp,j(ie.title),1),r("div",Xp,j(ie.description),1),r("button",{onClick:ge=>X(l.value.indexOf(ie)),class:"delete-timeline-event"},y[15]||(y[15]=[r("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z",fill:"currentColor"})],-1)]),8,eh)],4))),128))])]))),128))],512)]),c.value?(T(),A("div",{key:0,class:"modal-overlay",onClick:y[8]||(y[8]=g=>c.value=!1)},[r("div",{class:"modal-content",onClick:y[7]||(y[7]=rt(()=>{},["stop"]))},[r("div",th,[y[17]||(y[17]=r("h3",null,"Add Event",-1)),r("button",{class:"close-modal",onClick:y[1]||(y[1]=g=>c.value=!1)},y[16]||(y[16]=[r("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z",fill:"currentColor"})],-1)]))]),r("div",sh,[r("div",nh,[y[18]||(y[18]=r("label",{for:"event-title"},"Title",-1)),ue(r("input",{id:"event-title","onUpdate:modelValue":y[2]||(y[2]=g=>a.value.title=g),type:"text",placeholder:"Enter event title"},null,512),[[me,a.value.title]])]),r("div",oh,[y[19]||(y[19]=r("label",{for:"event-description"},"Description",-1)),ue(r("textarea",{id:"event-description","onUpdate:modelValue":y[3]||(y[3]=g=>a.value.description=g),placeholder:"Enter event description"},null,512),[[me,a.value.description]])]),r("div",rh,[r("div",ih,[y[20]||(y[20]=r("label",{for:"event-start-time"},"Start Time",-1)),ue(r("input",{id:"event-start-time","onUpdate:modelValue":y[4]||(y[4]=g=>a.value.startTime=g),type:"time"},null,512),[[me,a.value.startTime]])]),r("div",lh,[y[21]||(y[21]=r("label",{for:"event-end-time"},"End Time",-1)),ue(r("input",{id:"event-end-time","onUpdate:modelValue":y[5]||(y[5]=g=>a.value.endTime=g),type:"time"},null,512),[[me,a.value.endTime]])])]),r("div",ah,[r("button",{onClick:y[6]||(y[6]=g=>c.value=!1),class:"cancel-button"}," Cancel "),r("button",{onClick:ne,class:"save-button"},"Save")])])])])):oe("",!0)]))}}),uh=He(ch,[["__scopeId","data-v-65b42c7d"]]),Et=e=>{const t={...e};return["dueDate","startDate","createdAt","updatedAt"].forEach(n=>{t[n]&&typeof t[n]=="string"&&(t[n]=new Date(t[n]))}),t.user_id&&(t.userId=String(t.user_id),delete t.user_id),t.project_id!==void 0&&(t.projectId=t.project_id?String(t.project_id):null,delete t.project_id),t.is_completed!==void 0&&(t.isCompleted=!!t.is_completed,delete t.is_completed),t.due_date!==void 0&&(t.dueDate=t.due_date?new Date(t.due_date):null,delete t.due_date),t.start_date!==void 0&&(t.startDate=t.start_date?new Date(t.start_date):null,delete t.start_date),t.estimated_hours!==void 0&&(t.estimatedHours=t.estimated_hours?Number(t.estimated_hours):null,delete t.estimated_hours),t.actual_hours!==void 0&&(t.actualHours=t.actual_hours?Number(t.actual_hours):null,delete t.actual_hours),t.parent_task_id!==void 0&&(t.parentTaskId=t.parent_task_id?String(t.parent_task_id):null,delete t.parent_task_id),t.created_at&&(t.createdAt=new Date(t.created_at),delete t.created_at),t.updated_at&&(t.updatedAt=new Date(t.updated_at),delete t.updated_at),t.id&&(t.id=String(t.id)),t},Ts={async getTasks(){try{const e=await pe.http("GET","/api/tasks");return console.log("Tasks API response:",e),e.error||!e.data?(console.error("Error loading tasks:",e.error),{tasks:[],projects:[]}):e.data}catch(e){return console.error("Failed to load tasks:",e),{tasks:[],projects:[]}}},async getTask(e){try{const t=await pe.http("GET",`/api/tasks/${e}`);if(t.error||!t.data)return console.error("Error loading task:",t.error),null;const s=t.data,n=(s==null?void 0:s.task)||s;return n?Et(n):null}catch(t){return console.error("Failed to load task:",t),null}},async createTask(e){try{const t=await pe.http("POST","/api/tasks",e);if(t.error)throw console.error("Error creating task:",t.error),new Error(t.error.message);console.log("Raw task data from server:",t.data);const s=t.data,n=(s==null?void 0:s.task)||s;return n?Et(n):null}catch(t){throw console.error("Failed to create task:",t),t}},async updateTask(e,t){try{const s=await pe.http("PUT",`/api/tasks/${e}`,t);if(s.error)throw console.error("Error updating task:",s.error),new Error(s.error.message);const n=s.data,o=(n==null?void 0:n.task)||n;return o?Et(o):null}catch(s){throw console.error("Failed to update task:",s),s}},async deleteTask(e){try{const t=await pe.http("DELETE",`/api/tasks/${e}`);if(t.error)throw console.error("Error deleting task:",t.error),new Error(t.error.message);return!0}catch(t){throw console.error("Failed to delete task:",t),t}},async updateTaskStatus(e,t){try{const s=await pe.http("PUT",`/api/tasks/${e}/status`,{status:t});if(s.error)throw console.error("Error updating task status:",s.error),new Error(s.error.message);const n=s.data,o=(n==null?void 0:n.task)||n;return o?Et(o):null}catch(s){throw console.error("Failed to update task status:",s),s}},async updateTaskProgress(e,t){try{const s=await pe.http("PUT",`/api/tasks/${e}/progress`,{progress:t});if(s.error)throw console.error("Error updating task progress:",s.error),new Error(s.error.message);const n=s.data,o=(n==null?void 0:n.task)||n;return o?Et(o):null}catch(s){throw console.error("Failed to update task progress:",s),s}},async getTasksByProject(e){var t;try{const s=await pe.http("GET",`/api/tasks/project/${e}`);return s.error||!s.data?(console.error("Error loading tasks by project:",s.error),[]):(t=s.data)!=null&&t.tasks?s.data.tasks.map(n=>Et(n)):Array.isArray(s.data)?s.data.map(n=>Et(n)):[]}catch(s){return console.error("Failed to load tasks by project:",s),[]}},async getSubTasks(e){var t;try{const s=await pe.http("GET",`/api/tasks/${e}/subtasks`);return s.error||!s.data?(console.error("Error loading subtasks:",s.error),[]):(t=s.data)!=null&&t.tasks?s.data.tasks.map(n=>Et(n)):Array.isArray(s.data)?s.data.map(n=>Et(n)):[]}catch(s){return console.error("Failed to load subtasks:",s),[]}}},Ms=e=>{console.log("Transforming project:",e);const t={id:String(e.id||""),title:String(e.title||""),description:e.description?String(e.description):null,userId:String(e.userId||e.user_id||""),status:e.status||"planning",priority:e.priority||"medium",progress:Number(e.progress||0),createdAt:e.createdAt?new Date(String(e.createdAt)):new Date,updatedAt:e.updatedAt?new Date(String(e.updatedAt)):new Date,dueDate:e.dueDate?new Date(String(e.dueDate)):null,endDate:e.endDate?new Date(String(e.endDate)):null,startDate:e.startDate?new Date(String(e.startDate)):null,tags:Array.isArray(e.tags)?e.tags.map(String):null,color:e.color?String(e.color):null,isActive:e.isActive!==void 0?!!e.isActive:!0,tasks:Array.isArray(e.tasks)?e.tasks:[]};return console.log("Transformed project:",t),t},$s={async getProjects(){var e;try{const t=await pe.http("GET","/api/projects");return console.log(t),t.error||!t.data?(console.error("Error loading projects:",t.error),[]):(e=t.data)!=null&&e.projects?(console.log("Raw projects from server:",t.data.projects),t.data.projects.map(s=>Ms(s))):Array.isArray(t.data)?(console.log("Direct array of projects from server:",t.data),t.data.map(s=>Ms(s))):(console.log("No projects found in response:",t.data),[])}catch(t){return console.error("Failed to load projects:",t),[]}},async getProject(e){try{const t=await pe.http("GET",`/api/projects/${e}`);if(t.error)return console.error("Error loading project:",t.error),null;const s=t.data,n=(s==null?void 0:s.project)||s;return n?Ms(n):null}catch(t){return console.error("Failed to load project:",t),null}},async createProject(e){try{const t=await pe.http("POST","/api/projects/create",e);if(t.error)throw console.error("Error creating project:",t.error),new Error(t.error.message);console.log("Raw project data from server:",t.data);const s=t.data,n=(s==null?void 0:s.project)||s;return n?Ms(n):null}catch(t){throw console.error("Failed to create project:",t),t}},async updateProject(e,t){try{const s=await pe.http("PUT",`/api/projects/${e}`,t);if(s.error)throw console.error("Error updating project:",s.error),new Error(s.error.message);const n=s.data,o=(n==null?void 0:n.project)||n;return o?Ms(o):null}catch(s){throw console.error("Failed to update project:",s),s}},async deleteProject(e){try{const t=await pe.http("DELETE",`/api/projects/${e}`);if(t.error)throw console.error("Error deleting project:",t.error),new Error(t.error.message);return!0}catch(t){throw console.error("Failed to delete project:",t),t}}},dh={class:"task-manager"},fh={class:"task-header"},ph={class:"task-content"},hh={key:0,class:"error-message"},vh={key:1,class:"loading-overlay"},gh={key:2,class:"create-task-form"},mh={class:"form-grid"},wh={class:"form-col"},yh={class:"form-col"},bh={class:"form-row"},_h={class:"form-col"},kh=["value"],Ch={class:"form-col"},xh=["value"],Sh={class:"form-row"},Eh={class:"form-col"},Th=["value"],Mh={class:"form-col"},$h=["value"],Ah={class:"form-col form-col-checkbox"},Ih={class:"form-row"},Ph={class:"form-col"},Dh={class:"form-label"},Lh={class:"form-row"},Rh={class:"form-col"},Oh={class:"form-col"},Vh={class:"form-row"},Nh={class:"form-col"},Bh={class:"form-col"},Hh={class:"form-col"},jh={class:"form-actions"},Fh=["disabled"],Uh={class:"tasks-list"},zh={key:0,class:"empty-state"},Wh=["data-task-id"],Kh={class:"task-main"},Gh={class:"task-info"},qh={class:"task-title"},Jh={class:"task-date"},Yh={class:"task-date"},Zh={class:"task-meta"},Qh={key:0,class:"completed-badge"},Xh={key:0,class:"task-description"},e1={key:1,class:"task-tags"},t1={class:"dates-row"},s1={class:"date-chip"},n1={class:"date-chip"},o1={class:"relations-row"},r1={key:0,class:"relation-chip"},i1={key:1,class:"relation-chip"},l1={class:"hours-row"},a1={key:0,class:"hour-chip"},c1={key:1,class:"hour-chip"},u1={class:"task-progress"},d1={class:"progress-circle-container"},f1={class:"progress-circle-wrapper"},p1={class:"progress-circle",viewBox:"0 0 100 100"},h1=["stroke","stroke-dashoffset"],v1={class:"progress-text"},g1=["value","onInput"],m1={class:"task-actions"},w1=["onClick","disabled"],y1=["onClick","disabled"],b1=Re({__name:"TaskManager",emits:["toggle-contacts"],setup(e,{emit:t}){const s=["TODO","IN_PROGRESS","ON_HOLD","COMPLETED","CANCELLED"],n=["LOW","MEDIUM","HIGH","URGENT"],o=t,i=N([]),l=N([]),a=ye(()=>i.value.filter(y=>y.id!==(p.value??""))),c=N(!1),d=N(!1),u=N(null),p=N(null),f=N(null),h=rs({title:"",description:"",userId:"1",projectId:null,status:"TODO",priority:"MEDIUM",progress:0,isCompleted:!1,tags:"",dueDateInput:"",startDateInput:"",estimatedHours:null,actualHours:null,parentTaskId:null}),S=y=>y?y.toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",I={TODO:"#9e9e9e",IN_PROGRESS:"#4caf50",ON_HOLD:"#ff9800",COMPLETED:"#388e3c",CANCELLED:"#dc3545"},P=y=>I[y]?I[y]:"#9e9e9e",k={LOW:"#81c784",MEDIUM:"#66bb6a",HIGH:"#4caf50",URGENT:"#388e3c"},D=y=>k[y]?k[y]:"#81c784",V=y=>y?y.split(",").map(g=>g.trim()).filter(g=>g.length>0):[],M=ye(()=>{const y={};for(const g of l.value)y[g.id]=g.title;return y}),L=ye(()=>{const y={};for(const g of i.value)y[g.id]=g.title;return y}),Z=y=>y&&M.value[y]||null,ne=y=>y&&L.value[y]||null,X=async()=>{if(K.value){d.value=!0,u.value=null;try{const y=h.projectId&&h.projectId!==""?h.projectId:null,g=h.parentTaskId&&h.parentTaskId!==""?h.parentTaskId:null,x={title:h.title.trim(),description:h.description.trim()||"",userId:h.userId,projectId:y,status:h.status,priority:h.priority,progress:Number(h.progress)||0,isCompleted:!!h.isCompleted,tags:h.tags.trim()||null,dueDate:h.dueDateInput||null,startDate:h.startDateInput||null,estimatedHours:h.estimatedHours==null?null:Number(h.estimatedHours),actualHours:h.actualHours==null?null:Number(h.actualHours),parentTaskId:g};if(p.value){const ie=await Ts.updateTask(Number(p.value),x);if(ie){const ve=i.value.findIndex(ge=>ge.id===String(p.value));ve!==-1&&(i.value[ve]=ie)}}else{const ie=await Ts.createTask(x);console.log("New task created:",ie),ie&&(i.value.unshift(ie),console.log("Updated tasks array:",i.value))}c.value=!1,$(),p.value&&f.value&&dt(()=>{f.value&&(f.value.scrollIntoView({behavior:"smooth",block:"center"}),f.value=null)})}catch(y){u.value=p.value?"Failed to update task":"Failed to create task",console.error("Failed to save task",y)}finally{d.value=!1}}},W=async(y,g)=>{const x=i.value.find(ge=>ge.id===y);if(!x)return;const ie=x.progress,ve=x.status;x.progress=g,g===100?(x.status="COMPLETED",x.isCompleted=!0):(x.status==="COMPLETED"&&(x.status="IN_PROGRESS"),x.isCompleted=!1,g===0&&x.status!=="CANCELLED"&&(x.status="TODO"),g>0&&x.status==="TODO"&&(x.status="IN_PROGRESS"));try{await Ts.updateTaskProgress(Number(y),g)}catch(ge){x.progress=ie,x.status=ve,u.value="Failed to update progress",console.error("Failed to update progress",ge)}},te=y=>{const g=i.value.find(ve=>ve.id===y);if(!g)return;const x=document.querySelector(`[data-task-id="${y}"]`);f.value=x,h.title=g.title,h.description=g.description||"",h.userId=g.userId,h.projectId=g.projectId,h.status=g.status,h.priority=g.priority,h.progress=g.progress,h.isCompleted=g.isCompleted,h.tags=g.tags||"",h.dueDateInput=g.dueDate?g.dueDate.toISOString().slice(0,16):"",h.startDateInput=g.startDate?g.startDate.toISOString().slice(0,16):"",h.estimatedHours=g.estimatedHours,h.actualHours=g.actualHours,h.parentTaskId=g.parentTaskId,p.value=y,c.value=!0;const ie=document.querySelector(".task-content");ie&&ie.scrollTo({top:0,behavior:"smooth"})},re=async y=>{if(confirm("Are you sure you want to delete this task?")){d.value=!0,u.value=null;try{await Ts.deleteTask(Number(y)),i.value=i.value.filter(g=>g.id!==y)}catch(g){u.value="Failed to delete task",console.error("Failed to delete task",g)}finally{d.value=!1}}},_=2*Math.PI*45,q=async()=>{d.value=!0,u.value=null;try{const{tasks:y,projects:g}=await Ts.getTasks();i.value=y,l.value=g,console.log("Loaded tasks:",i.value)}catch(y){u.value="Failed to load tasks",console.error("Failed to load tasks",y)}finally{d.value=!1}},w=ye(()=>p.value?"Update":"Create"),C=()=>{c.value=!1,$(),f.value=null},K=ye(()=>h.title.trim().length>0),$=()=>{h.title="",h.description="",h.userId="1",h.projectId=null,h.status="TODO",h.priority="MEDIUM",h.progress=0,h.isCompleted=!1,h.tags="",h.dueDateInput="",h.startDateInput="",h.estimatedHours=null,h.actualHours=null,h.parentTaskId=null,p.value=null};return Ne(()=>{q()}),(y,g)=>(T(),A("div",dh,[r("div",fh,[r("button",{onClick:g[0]||(g[0]=x=>o("toggle-contacts")),class:"back-button"},g[17]||(g[17]=[r("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M15 18L9 12L15 6",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])),g[19]||(g[19]=r("h2",null,"Task Manager",-1)),r("button",{onClick:g[1]||(g[1]=x=>c.value=!c.value),class:"create-task-button"},g[18]||(g[18]=[r("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M12 5V19M5 12H19",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))]),r("div",ph,[u.value?(T(),A("div",hh,[g[20]||(g[20]=r("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M12 9V13M12 17H12.01M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),r("span",null,j(u.value),1),r("button",{onClick:g[2]||(g[2]=x=>u.value=null),class:"close-error"},"")])):oe("",!0),d.value?(T(),A("div",vh,g[21]||(g[21]=[r("div",{class:"loading-spinner"},null,-1),r("p",null,"Loading...",-1)]))):oe("",!0),c.value?(T(),A("div",gh,[r("div",mh,[r("div",wh,[g[22]||(g[22]=r("label",{class:"form-label"},"Title",-1)),ue(r("input",{"onUpdate:modelValue":g[3]||(g[3]=x=>h.title=x),type:"text",placeholder:"Enter task title...",class:"task-input",onKeyup:[et(X,["enter"]),g[4]||(g[4]=et(x=>c.value=!1,["esc"]))]},null,544),[[me,h.title]])]),r("div",yh,[g[23]||(g[23]=r("label",{class:"form-label"},"Description",-1)),ue(r("textarea",{"onUpdate:modelValue":g[5]||(g[5]=x=>h.description=x),rows:"3",placeholder:"Enter description...",class:"task-textarea"},null,512),[[me,h.description]])]),r("div",bh,[r("div",_h,[g[25]||(g[25]=r("label",{class:"form-label"},"Project",-1)),ue(r("select",{"onUpdate:modelValue":g[6]||(g[6]=x=>h.projectId=x),class:"task-select"},[g[24]||(g[24]=r("option",{value:null},"No project",-1)),(T(!0),A(he,null,Pe(l.value,x=>(T(),A("option",{key:x.id,value:x.id},j(x.title),9,kh))),128))],512),[[Xt,h.projectId]])]),r("div",Ch,[g[27]||(g[27]=r("label",{class:"form-label"},"Parent Task",-1)),ue(r("select",{"onUpdate:modelValue":g[7]||(g[7]=x=>h.parentTaskId=x),class:"task-select"},[g[26]||(g[26]=r("option",{value:null},"No parent",-1)),(T(!0),A(he,null,Pe(a.value,x=>(T(),A("option",{key:x.id,value:x.id},j(x.title),9,xh))),128))],512),[[Xt,h.parentTaskId]])])]),r("div",Sh,[r("div",Eh,[g[28]||(g[28]=r("label",{class:"form-label"},"Status",-1)),ue(r("select",{"onUpdate:modelValue":g[8]||(g[8]=x=>h.status=x),class:"task-select"},[(T(),A(he,null,Pe(s,x=>r("option",{key:x,value:x},j(x),9,Th)),64))],512),[[Xt,h.status]])]),r("div",Mh,[g[29]||(g[29]=r("label",{class:"form-label"},"Priority",-1)),ue(r("select",{"onUpdate:modelValue":g[9]||(g[9]=x=>h.priority=x),class:"task-select"},[(T(),A(he,null,Pe(n,x=>r("option",{key:x,value:x},j(x),9,$h)),64))],512),[[Xt,h.priority]])]),r("div",Ah,[g[30]||(g[30]=r("label",{class:"form-label"},"Completed",-1)),ue(r("input",{"onUpdate:modelValue":g[10]||(g[10]=x=>h.isCompleted=x),type:"checkbox"},null,512),[[ss,h.isCompleted]])])]),r("div",Ih,[r("div",Ph,[r("label",Dh,"Progress: "+j(h.progress)+"%",1),ue(r("input",{"onUpdate:modelValue":g[11]||(g[11]=x=>h.progress=x),type:"range",min:"0",max:"100",class:"progress-slider"},null,512),[[me,h.progress,void 0,{number:!0}]])])]),r("div",Lh,[r("div",Rh,[g[31]||(g[31]=r("label",{class:"form-label"},"Start Date",-1)),ue(r("input",{"onUpdate:modelValue":g[12]||(g[12]=x=>h.startDateInput=x),type:"datetime-local",class:"task-input"},null,512),[[me,h.startDateInput]])]),r("div",Oh,[g[32]||(g[32]=r("label",{class:"form-label"},"Due Date",-1)),ue(r("input",{"onUpdate:modelValue":g[13]||(g[13]=x=>h.dueDateInput=x),type:"datetime-local",class:"task-input"},null,512),[[me,h.dueDateInput]])])]),r("div",Vh,[r("div",Nh,[g[33]||(g[33]=r("label",{class:"form-label"},"Estimated Hours",-1)),ue(r("input",{"onUpdate:modelValue":g[14]||(g[14]=x=>h.estimatedHours=x),type:"number",step:"0.1",class:"task-input"},null,512),[[me,h.estimatedHours,void 0,{number:!0}]])]),r("div",Bh,[g[34]||(g[34]=r("label",{class:"form-label"},"Actual Hours",-1)),ue(r("input",{"onUpdate:modelValue":g[15]||(g[15]=x=>h.actualHours=x),type:"number",step:"0.1",class:"task-input"},null,512),[[me,h.actualHours,void 0,{number:!0}]])])]),r("div",Hh,[g[35]||(g[35]=r("label",{class:"form-label"},"Tags (comma separated)",-1)),ue(r("input",{"onUpdate:modelValue":g[16]||(g[16]=x=>h.tags=x),type:"text",placeholder:"bug, ui, refactor",class:"task-input"},null,512),[[me,h.tags]])])]),r("div",jh,[r("button",{onClick:X,disabled:!K.value||d.value,class:"btn-primary"},j(w.value),9,Fh),r("button",{onClick:C,class:"btn-secondary"},"Cancel")])])):oe("",!0),r("div",Uh,[i.value.length===0&&!d.value?(T(),A("div",zh,g[36]||(g[36]=[r("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),r("p",null,"No tasks",-1),r("small",null,'Create your first task by clicking the "+" button',-1)]))):oe("",!0),(T(!0),A(he,null,Pe(i.value,x=>(T(),A("div",{key:x.id,"data-task-id":x.id,class:"task-item"},[r("div",Kh,[r("div",Gh,[r("h4",qh,j(x.title),1),r("p",Jh,"Created: "+j(S(x.createdAt)),1),r("p",Yh,"Updated: "+j(S(x.updatedAt)),1)]),r("div",Zh,[r("span",{class:"status-badge",style:Ge({backgroundColor:P(x.status)})},j(x.status),5),r("span",{class:"priority-badge",style:Ge({backgroundColor:D(x.priority)})},j(x.priority),5),x.isCompleted?(T(),A("span",Qh,"Completed")):oe("",!0)])]),x.description?(T(),A("div",Xh,j(x.description),1)):oe("",!0),V(x.tags).length?(T(),A("div",e1,[(T(!0),A(he,null,Pe(V(x.tags),ie=>(T(),A("span",{class:"tag",key:ie},j(ie),1))),128))])):oe("",!0),r("div",t1,[r("div",s1,"Start: "+j(S(x.startDate)),1),r("div",n1,"Due: "+j(S(x.dueDate)),1)]),r("div",o1,[x.projectId&&Z(x.projectId)?(T(),A("div",r1," Project: "+j(Z(x.projectId)),1)):oe("",!0),x.parentTaskId&&ne(x.parentTaskId)?(T(),A("div",i1," Parent task: "+j(ne(x.parentTaskId)),1)):oe("",!0)]),r("div",l1,[x.estimatedHours!=null?(T(),A("div",a1," Est: "+j(x.estimatedHours)+"h ",1)):oe("",!0),x.actualHours!=null?(T(),A("div",c1," Actual: "+j(x.actualHours)+"h ",1)):oe("",!0)]),r("div",u1,[r("div",d1,[r("div",f1,[(T(),A("svg",p1,[g[37]||(g[37]=r("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"#e9ecef","stroke-width":"8",class:"progress-bg"},null,-1)),r("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:P(x.status),"stroke-width":"8","stroke-linecap":"round","stroke-dasharray":_,"stroke-dashoffset":_-x.progress/100*_,class:"progress-fill-circle"},null,8,h1)])),r("div",v1,j(x.progress)+"%",1)]),r("input",{type:"range",min:"0",max:"100",value:x.progress,onInput:ie=>W(x.id,parseInt(ie.target.value)),class:"progress-slider"},null,40,g1)])]),r("div",m1,[r("button",{onClick:ie=>te(x.id),disabled:d.value,class:"edit-button",title:"Edit task"},g[38]||(g[38]=[r("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z",fill:"currentColor"})],-1)]),8,w1),r("button",{onClick:ie=>re(x.id),disabled:d.value,class:"delete-button",title:"Delete task"},g[39]||(g[39]=[r("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z",fill:"currentColor"})],-1)]),8,y1)])],8,Wh))),128))])])]))}}),_1=He(b1,[["__scopeId","data-v-3a4e5607"]]),k1={key:0,class:"chat-header"},C1={key:1,class:"news-header"},x1={class:"news-form"},S1={key:0,class:"error-message"},E1={class:"form-group"},T1={class:"form-group"},M1={class:"form-group no-margin"},$1={class:"image-upload-container"},A1={key:0,class:"image-previews"},I1=["src"],P1=["onClick"],D1=["disabled"],L1={key:3,class:"news-content-container"},R1={class:"news-items-grid"},O1=["title"],V1={class:"news-header"},N1={class:"news-user"},B1={key:0,class:"user-avatar"},H1=["src"],j1={key:1,class:"user-avatar-placeholder"},F1={class:"user-info"},U1={class:"user-name"},z1={class:"post-time"},W1=["onClick"],K1={class:"news-title"},G1=["src","alt"],q1=Re({__name:"MyNotes",props:{hideHeader:{type:Boolean,default:!1}},emits:["toggle-contacts"],setup(e,{emit:t}){const s=t,n=N([{id:1,userId:1,userName:"John Doe",title:"Vue 3 Composition API Guide",description:"When using a language model for code completion, we typically want the model to produce a completion that begins with what the user has typed.However, modern language models operate on sequences of tokens, not characters, so naively tokenizing the users input and sending it to the model produces wrong results if the users cursor doesnt happen to lie on a token boundary.Instead, we need an algorithm that samples a sequence of tokens conditional on a prefix of characters, rather than the more typical case of sampling conditional on a prefix of tokens.We call this character prefix conditioning, an algorithm for sampling a sequence of tokens conditioned on a character prefix.Just found this amazing article about Vue 3 composition API and how it changes the way we build Vue apps!",images:["https://images.unsplash.com/photo-1544947950-fa07a98d237f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1374&q=80"],timeAgo:"3h ago"},{id:2,userId:2,userName:"Mary Johnson",title:"Book Recommendation",description:"Just finished reading this amazing book. Highly recommend it to everyone!",images:["https://images.unsplash.com/photo-1544947950-fa07a98d237f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1374&q=80"],timeAgo:"5 hours ago"},{id:3,userId:3,userName:"Alex Wilson",title:"New Job at Google!",description:"Just got a new job at Google! So excited to start this new chapter in my life.",timeAgo:"1 day ago"},{id:4,userId:4,userName:"Helen Brown",title:"Dinner at Italian Restaurant",description:"Had a wonderful dinner with friends last night at the new Italian restaurant downtown. The pasta was incredible!",images:["https://images.unsplash.com/photo-1555396273-367ea4eb4db5?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1374&q=80"],timeAgo:"1 day ago"},{id:5,userId:5,userName:"James Wilson",title:"iPhone Upgrade Thoughts",description:"Thoughts on the new iPhone? Thinking about upgrading but not sure if it's worth it.",timeAgo:"2 days ago"},{id:6,userId:6,userName:"Sarah Parker",title:"Trip to Japan - Tokyo & Kyoto",description:"Just came back from my trip to Japan! Here are some pictures from Tokyo and Kyoto. The culture, food, and people were amazing!",images:["https://images.unsplash.com/photo-1528360983277-13d401cdc186?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80","https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80"],timeAgo:"3 days ago"},{id:7,userId:7,userName:"Michael Chen",title:"First Marathon Completed!",description:"Just completed my first marathon! It was tough but so rewarding. Thanks to everyone who supported me along the way.",images:["https://images.unsplash.com/photo-1528360983277-13d401cdc186?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80","https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80"],timeAgo:"5 days ago"}]),o=M=>{if(!M)return"";const L=M.split(" ");return L.length===1?L[0].charAt(0).toUpperCase():(L[0].charAt(0)+L[1].charAt(0)).toUpperCase()},i=nt(),l=M=>{i.push(`/news/${M}`)},a=N(!1),c=()=>{a.value=!0},d=()=>{a.value=!1,u.value="",p.value="",f.value=[],S.value=""},u=N(""),p=N(""),f=N([]),h=N(!1),S=N(""),I=M=>{const L=M.target;if(!(!L.files||L.files.length===0)){if(f.value.length+L.files.length>5){S.value="You can upload maximum 5 images";return}Array.from(L.files).forEach(Z=>{const ne=new FileReader;ne.onload=X=>{var W;(W=X.target)!=null&&W.result&&typeof X.target.result=="string"&&f.value.push(X.target.result)},ne.readAsDataURL(Z)}),L.value=""}},P=M=>{f.value.splice(M,1)},k=async()=>{if(!u.value.trim()){S.value="Please enter a title for your post";return}if(!p.value.trim()){S.value="Please enter some content for your post";return}h.value=!0,S.value="";try{await new Promise(L=>setTimeout(L,1e3));const M={id:`news-${Date.now()}`,userId:"current-user",userName:"You",userAvatar:"/avatars/user1.png",title:u.value,description:p.value,images:[...f.value],timeAgo:"Just now"};n.value.unshift(M),u.value="",p.value="",f.value=[],a.value=!1}catch(M){S.value="Failed to post news. Please try again.",console.error("Error posting news:",M)}finally{h.value=!1}},D=N(window.innerWidth);Ne(()=>{window.addEventListener("resize",V)}),ft(()=>{window.removeEventListener("resize",V)});function V(){D.value=window.innerWidth}return(M,L)=>(T(),A("div",{class:_e(["news-feed",{"no-padding":e.hideHeader}])},[e.hideHeader?(T(),A("div",k1,[r("button",{class:"back-button",onClick:L[0]||(L[0]=Z=>s("toggle-contacts"))},L[4]||(L[4]=[r("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M15 18L9 12L15 6",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])),L[6]||(L[6]=r("h2",null,"Notes",-1)),r("button",{class:"create-post-icon-button",onClick:c,title:"Create Post"},L[5]||(L[5]=[r("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M12 5V19M5 12H19",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))])):oe("",!0),e.hideHeader?oe("",!0):(T(),A("div",C1,[r("button",{class:"back-button",onClick:L[1]||(L[1]=Z=>s("toggle-contacts"))},L[7]||(L[7]=[r("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M15 18L9 12L15 6",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])),L[9]||(L[9]=r("h2",null,"Notes",-1)),r("button",{class:"create-post-button",onClick:c},L[8]||(L[8]=[r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor",class:"add-icon"},[r("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})],-1),r("span",null,"Create Post",-1)]))])),a.value?(T(),A("div",{key:2,class:_e(["create-news-content",{"mobile-container":D.value<=768}])},[r("div",x1,[r("div",{class:"form-header"},[L[11]||(L[11]=r("h3",null,"Create News Post",-1)),r("button",{class:"close-button",onClick:d},L[10]||(L[10]=[r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20",fill:"currentColor"},[r("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"})],-1)]))]),r("form",{onSubmit:rt(k,["prevent"])},[S.value?(T(),A("div",S1,j(S.value),1)):oe("",!0),r("div",E1,[ue(r("input",{id:"news-title","onUpdate:modelValue":L[2]||(L[2]=Z=>u.value=Z),class:"content-input",placeholder:"Enter title...",type:"text"},null,512),[[me,u.value]])]),r("div",T1,[ue(r("textarea",{id:"news-content","onUpdate:modelValue":L[3]||(L[3]=Z=>p.value=Z),class:"content-input",placeholder:"What's on your mind?",rows:"4"},null,512),[[me,p.value]])]),r("div",M1,[L[14]||(L[14]=r("div",{class:"upload-label"},"Add Photos",-1)),r("div",$1,[L[12]||(L[12]=r("label",{for:"image-upload",class:"image-upload-label"},[r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20",fill:"currentColor"},[r("path",{d:"M19 7v2.99s-1.99.01-2 0V7h-3s.01-1.99 0-2h3V2h2v3h3v2h-3zm-3 4V8h-3V5H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-8h-3zM5 19l3-4 2 3 3-4 4 5H5z"})]),r("span",null,"Upload Image")],-1)),r("input",{type:"file",id:"image-upload",accept:"image/*",multiple:"",class:"hidden-upload",onChange:I},null,32)]),f.value.length>0?(T(),A("div",A1,[(T(!0),A(he,null,Pe(f.value,(Z,ne)=>(T(),A("div",{key:ne,class:"image-preview"},[r("img",{src:Z,alt:"Preview"},null,8,I1),r("button",{class:"remove-image",onClick:X=>P(ne)},L[13]||(L[13]=[r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor"},[r("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})],-1)]),8,P1)]))),128))])):oe("",!0)]),r("button",{type:"submit",class:"publish-button",disabled:h.value},j(h.value?"Publishing...":"Publish"),9,D1)],32)])],2)):(T(),A("div",L1,[r("div",R1,[(T(!0),A(he,null,Pe(n.value,Z=>(T(),A("div",{class:"news-item",key:Z.id,title:Z.description},[r("div",V1,[r("div",N1,[Z.userAvatar?(T(),A("div",B1,[r("img",{src:Z.userAvatar,alt:"User Avatar"},null,8,H1)])):(T(),A("div",j1,j(o(Z.userName)),1)),r("div",F1,[r("div",U1,j(Z.userName),1),r("div",z1,j(Z.timeAgo),1)])]),L[15]||(L[15]=r("button",{class:"more-button"},[r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor"},[r("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})])],-1))]),r("div",{class:"news-content",onClick:ne=>l(Z.id)},[r("h3",K1,j(Z.title),1),r("p",null,j(Z.description),1),Z.images&&Z.images.length>0?(T(),A("div",{key:0,class:_e(["news-images",{"single-image":Z.images.length===1,"multi-image":Z.images.length>1}])},[(T(!0),A(he,null,Pe(Z.images,(ne,X)=>(T(),A("div",{key:X,class:"news-image"},[r("img",{src:ne,alt:`${Z.userName}'s post image ${X+1}`,loading:"lazy"},null,8,G1)]))),128))],2)):oe("",!0)],8,W1),L[16]||(L[16]=r("div",{class:"news-actions"},[r("button",{class:"action-button"},[r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20",fill:"currentColor"},[r("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"})]),r("span",null,"Share")])],-1))],8,O1))),128))]),L[17]||(L[17]=r("div",{class:"load-more"},[r("button",{class:"load-more-button"},"Load More")],-1))]))],2))}}),kl=He(q1,[["__scopeId","data-v-8b538b59"]]),J1={class:"projects-manager"},Y1={class:"projects-header"},Z1={class:"projects-content"},Q1={key:0,class:"error-message"},X1={key:1,class:"loading-overlay"},ev={key:2,class:"create-project-form"},tv={class:"form-grid"},sv={class:"form-col"},nv={class:"form-col"},ov={class:"form-row"},rv={class:"form-col"},iv=["value"],lv={class:"form-col form-col-checkbox"},av={class:"form-row"},cv={class:"form-col"},uv=["value"],dv={class:"form-col"},fv=["value"],pv={class:"form-row"},hv={class:"form-col"},vv={class:"form-label"},gv={class:"form-row"},mv={class:"form-col"},wv={class:"form-col"},yv={class:"form-col"},bv={class:"form-col"},_v={class:"form-actions"},kv=["disabled"],Cv={class:"projects-list"},xv={key:0,class:"empty-state"},Sv=["data-project-id"],Ev={class:"project-main"},Tv={class:"project-info"},Mv={class:"project-title"},$v={class:"project-date"},Av={class:"project-date"},Iv={class:"project-meta"},Pv={key:0,class:"inactive-badge"},Dv={key:0,class:"project-description"},Lv={key:1,class:"project-tags"},Rv={class:"dates-row"},Ov={class:"date-chip"},Vv={class:"date-chip"},Nv={class:"date-chip"},Bv={class:"project-progress"},Hv={class:"progress-circle-container"},jv={class:"progress-circle-wrapper"},Fv={class:"progress-circle",viewBox:"0 0 100 100"},Uv=["stroke","stroke-dashoffset"],zv={class:"progress-text"},Wv=["value","onInput"],Kv={class:"project-actions"},Gv=["onClick","disabled"],qv=["onClick","disabled"],Jv=Re({name:"ProjectsView",__name:"Projects",emits:["toggle-contacts"],setup(e,{emit:t}){const s=t,n=N([]),o=N(!1),i=N(!1),l=N(null),a=N(null),c=N(null),d=["planning","in_progress","on_hold","completed","archived"],u=["low","medium","high"],p=[{name:"Blue",value:"#3B82F6"},{name:"Green",value:"#10B981"},{name:"Purple",value:"#8B5CF6"},{name:"Red",value:"#EF4444"},{name:"Orange",value:"#F59E0B"},{name:"Pink",value:"#EC4899"},{name:"Indigo",value:"#6366F1"},{name:"Teal",value:"#14B8A6"},{name:"Yellow",value:"#EAB308"},{name:"Gray",value:"#6B7280"}],f=rs({title:"",description:"",userId:"1",status:"planning",priority:"medium",progress:0,dueDateInput:"",tags:"",color:"",endDateInput:"",isActive:!0,startDateInput:""}),h=2*Math.PI*45,S=async()=>{i.value=!0,l.value=null;try{n.value=await $s.getProjects(),console.log("Loaded projects:",n.value)}catch(q){l.value="Failed to load projects",console.error("Failed to load projects",q)}finally{i.value=!1}};Ne(()=>{S()});const I=ye(()=>a.value?"Update":"Create"),P=()=>{o.value=!1,D(),c.value=null},k=ye(()=>f.title.trim().length>0),D=()=>{f.title="",f.description="",f.userId="1",f.status="planning",f.priority="medium",f.progress=0,f.dueDateInput="",f.tags="",f.color="",f.endDateInput="",f.isActive=!0,f.startDateInput="",a.value=null},V=q=>{if(!q)return"-";try{const w=typeof q=="string"?new Date(q):q;if(!w||isNaN(w.getTime()))return"-";const C=w.getDate().toString().padStart(2,"0"),K=(w.getMonth()+1).toString().padStart(2,"0"),$=w.getFullYear();return`${C}-${K}-${$}`}catch(w){return console.error("Error formatting date:",w,q),"-"}},M=async()=>{if(k.value){i.value=!0,l.value=null;try{const q={title:f.title.trim(),description:f.description.trim()||"",userId:f.userId,status:f.status,priority:f.priority,progress:Number(f.progress)||0,dueDate:f.dueDateInput||null,tags:f.tags?f.tags.split(",").map(w=>w.trim()).filter(Boolean):null,color:f.color||null,endDate:f.endDateInput||null,isActive:!!f.isActive,startDate:f.startDateInput||null};if(a.value){const w=await $s.updateProject(Number(a.value),q);if(w){const C=n.value.findIndex(K=>K.id===String(a.value));C!==-1&&(n.value[C]=w)}}else{const w=await $s.createProject(q);console.log("New project created:",w),w&&(n.value.unshift(w),console.log("Updated projects array:",n.value))}o.value=!1,D(),a.value&&c.value&&dt(()=>{c.value&&(c.value.scrollIntoView({behavior:"smooth",block:"center"}),c.value=null)})}catch(q){l.value=a.value?"Failed to update project":"Failed to create project",console.error("Failed to save project",q)}finally{i.value=!1}}},L=async q=>{if(confirm("Are you sure you want to delete this project?")){i.value=!0,l.value=null;try{await $s.deleteProject(Number(q)),n.value=n.value.filter(w=>w.id!==q)}catch(w){l.value="Failed to delete project",console.error("Failed to delete project",w)}finally{i.value=!1}}},Z=async(q,w)=>{const C=n.value.find(y=>y.id===q);if(!C)return;const K=C.progress,$=C.status;C.progress=w,w===100?C.status="completed":(C.status==="completed"&&(C.status="in_progress"),w===0&&C.status!=="archived"&&(C.status="planning"),w>0&&C.status==="planning"&&(C.status="in_progress"));try{await $s.updateProject(Number(q),{progress:w,status:C.status})}catch(y){C.progress=K,C.status=$,l.value="Failed to update progress",console.error("Failed to update progress",y)}},ne=q=>{const w=n.value.find($=>$.id===q);if(!w)return;const C=document.querySelector(`[data-project-id="${q}"]`);c.value=C,f.title=w.title,f.description=w.description||"",f.userId=w.userId,f.status=w.status,f.priority=w.priority,f.progress=w.progress,f.dueDateInput=w.dueDate?w.dueDate.toISOString().slice(0,16):"",f.tags=w.tags?w.tags.join(", "):"",f.color=w.color||"",f.endDateInput=w.endDate?w.endDate.toISOString().slice(0,16):"",f.isActive=w.isActive,f.startDateInput=w.startDate?w.startDate.toISOString().slice(0,16):"",a.value=q,o.value=!0;const K=document.querySelector(".projects-content");K&&K.scrollTo({top:0,behavior:"smooth"})},X={planning:"#8b9dc3",in_progress:"#6b7db8",on_hold:"#a8a8c7",completed:"#7c8db8",archived:"#9ca3af"},W=q=>X[q]?X[q]:"#8b9dc3",te={low:"#a8b2d1",medium:"#8896c2",high:"#6b7db8"},re=q=>te[q]?te[q]:"#a8b2d1",_=q=>q?Array.isArray(q)?q:[]:[];return(q,w)=>(T(),A("div",J1,[r("div",Y1,[r("button",{class:"back-button",onClick:w[0]||(w[0]=C=>s("toggle-contacts"))},w[15]||(w[15]=[r("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M15 18L9 12L15 6",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])),w[17]||(w[17]=r("h2",null,"Projects",-1)),r("button",{onClick:w[1]||(w[1]=C=>o.value=!o.value),class:"create-project-button"},w[16]||(w[16]=[r("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M12 5V19M5 12H19",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))]),r("div",Z1,[l.value?(T(),A("div",Q1,[w[18]||(w[18]=r("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M12 9V13M12 17H12.01M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),r("span",null,j(l.value),1),r("button",{onClick:w[2]||(w[2]=C=>l.value=null),class:"close-error"},"")])):oe("",!0),i.value?(T(),A("div",X1,w[19]||(w[19]=[r("div",{class:"loading-spinner"},null,-1),r("p",null,"Loading...",-1)]))):oe("",!0),o.value?(T(),A("div",ev,[r("div",tv,[r("div",sv,[w[20]||(w[20]=r("label",{class:"form-label"},"Title",-1)),ue(r("input",{"onUpdate:modelValue":w[3]||(w[3]=C=>f.title=C),type:"text",placeholder:"Enter project title...",class:"project-input",onKeyup:[et(M,["enter"]),w[4]||(w[4]=et(C=>o.value=!1,["esc"]))]},null,544),[[me,f.title]])]),r("div",nv,[w[21]||(w[21]=r("label",{class:"form-label"},"Description",-1)),ue(r("textarea",{"onUpdate:modelValue":w[5]||(w[5]=C=>f.description=C),rows:"3",placeholder:"Enter description...",class:"project-textarea"},null,512),[[me,f.description]])]),r("div",ov,[r("div",rv,[w[23]||(w[23]=r("label",{class:"form-label"},"Color",-1)),r("div",{class:"color-selector",style:Ge({backgroundColor:f.color})},[ue(r("select",{"onUpdate:modelValue":w[6]||(w[6]=C=>f.color=C),class:"color-select",style:Ge({backgroundColor:f.color})},[w[22]||(w[22]=r("option",{value:""},"Select color",-1)),(T(),A(he,null,Pe(p,C=>r("option",{key:C.value,value:C.value,style:Ge({backgroundColor:C.value})},j(C.name),13,iv)),64))],4),[[Xt,f.color]])],4)]),r("div",lv,[w[24]||(w[24]=r("label",{class:"form-label"},"Active",-1)),ue(r("input",{"onUpdate:modelValue":w[7]||(w[7]=C=>f.isActive=C),type:"checkbox"},null,512),[[ss,f.isActive]])])]),r("div",av,[r("div",cv,[w[25]||(w[25]=r("label",{class:"form-label"},"Status",-1)),ue(r("select",{"onUpdate:modelValue":w[8]||(w[8]=C=>f.status=C),class:"project-select"},[(T(),A(he,null,Pe(d,C=>r("option",{key:C,value:C},j(C),9,uv)),64))],512),[[Xt,f.status]])]),r("div",dv,[w[26]||(w[26]=r("label",{class:"form-label"},"Priority",-1)),ue(r("select",{"onUpdate:modelValue":w[9]||(w[9]=C=>f.priority=C),class:"project-select"},[(T(),A(he,null,Pe(u,C=>r("option",{key:C,value:C},j(C),9,fv)),64))],512),[[Xt,f.priority]])])]),r("div",pv,[r("div",hv,[r("label",vv,"Progress: "+j(f.progress)+"%",1),ue(r("input",{"onUpdate:modelValue":w[10]||(w[10]=C=>f.progress=C),type:"range",min:"0",max:"100",class:"progress-slider"},null,512),[[me,f.progress,void 0,{number:!0}]])])]),r("div",gv,[r("div",mv,[w[27]||(w[27]=r("label",{class:"form-label"},"Start Date",-1)),ue(r("input",{"onUpdate:modelValue":w[11]||(w[11]=C=>f.startDateInput=C),type:"datetime-local",class:"project-input"},null,512),[[me,f.startDateInput]])]),r("div",wv,[w[28]||(w[28]=r("label",{class:"form-label"},"Due Date",-1)),ue(r("input",{"onUpdate:modelValue":w[12]||(w[12]=C=>f.dueDateInput=C),type:"datetime-local",class:"project-input"},null,512),[[me,f.dueDateInput]])]),r("div",yv,[w[29]||(w[29]=r("label",{class:"form-label"},"End Date",-1)),ue(r("input",{"onUpdate:modelValue":w[13]||(w[13]=C=>f.endDateInput=C),type:"datetime-local",class:"project-input"},null,512),[[me,f.endDateInput]])])]),r("div",bv,[w[30]||(w[30]=r("label",{class:"form-label"},"Tags (comma separated)",-1)),ue(r("input",{"onUpdate:modelValue":w[14]||(w[14]=C=>f.tags=C),type:"text",placeholder:"frontend, api, design",class:"project-input"},null,512),[[me,f.tags]])])]),r("div",_v,[r("button",{onClick:M,disabled:!k.value||i.value,class:"btn-primary"},j(I.value),9,kv),r("button",{onClick:P,class:"btn-secondary"},"Cancel")])])):oe("",!0),r("div",Cv,[n.value.length===0&&!i.value?(T(),A("div",xv,w[31]||(w[31]=[r("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),r("p",null,"No projects",-1),r("small",null,'Create your first project by clicking the "+" button',-1)]))):oe("",!0),(T(!0),A(he,null,Pe(n.value,C=>(T(),A("div",{key:C.id,"data-project-id":C.id,class:"project-item",style:Ge({"--project-color":C.color||"transparent"})},[r("div",Ev,[r("div",Tv,[r("h4",Mv,j(C.title),1),r("p",$v,"Created: "+j(V(C.createdAt)),1),r("p",Av,"Updated: "+j(V(C.updatedAt)),1)]),r("div",Iv,[r("span",{class:"status-badge",style:Ge({backgroundColor:W(C.status)})},j(C.status),5),r("span",{class:"priority-badge",style:Ge({backgroundColor:re(C.priority)})},j(C.priority),5),C.isActive?oe("",!0):(T(),A("span",Pv,"Inactive"))])]),C.description?(T(),A("div",Dv,j(C.description),1)):oe("",!0),_(C.tags).length?(T(),A("div",Lv,[(T(!0),A(he,null,Pe(_(C.tags),K=>(T(),A("span",{class:"tag",key:K},j(K),1))),128))])):oe("",!0),r("div",Rv,[r("div",Ov,"Start: "+j(V(C.startDate)),1),r("div",Vv,"Due: "+j(V(C.dueDate)),1),r("div",Nv,"End: "+j(V(C.endDate)),1),C.color?(T(),A("div",{key:0,class:"date-chip",style:Ge({backgroundColor:C.color,color:"white"})}," Color ",4)):oe("",!0)]),r("div",Bv,[r("div",Hv,[r("div",jv,[(T(),A("svg",Fv,[w[32]||(w[32]=r("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"#e9ecef","stroke-width":"8",class:"progress-bg"},null,-1)),r("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:W(C.status),"stroke-width":"8","stroke-linecap":"round","stroke-dasharray":h,"stroke-dashoffset":h-C.progress/100*h,class:"progress-fill-circle"},null,8,Uv)])),r("div",zv,j(C.progress)+"%",1)]),r("input",{type:"range",min:"0",max:"100",disabled:"",value:C.progress,onInput:K=>Z(C.id,parseInt(K.target.value)),class:"progress-slider"},null,40,Wv)])]),r("div",Kv,[r("button",{onClick:K=>ne(C.id),disabled:i.value,class:"edit-button",title:"Edit project"},w[33]||(w[33]=[r("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z",fill:"currentColor"})],-1)]),8,Gv),r("button",{onClick:K=>L(C.id),disabled:i.value,class:"delete-button",title:"Delete project"},w[34]||(w[34]=[r("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z",fill:"currentColor"})],-1)]),8,qv)])],12,Sv))),128))])])]))}}),Yv=He(Jv,[["__scopeId","data-v-4d745525"]]),Zv={key:0,class:"loader-overlay"},Qv=Re({__name:"LoaderOverlay",props:{show:{type:Boolean,default:!1}},setup(e){const t=e;return(s,n)=>t.show?(T(),A("div",Zv,n[0]||(n[0]=[r("div",{class:"loader"},[r("div"),r("div"),r("div")],-1)]))):oe("",!0)}}),Xv=He(Qv,[["__scopeId","data-v-5b75b68c"]]),eg={key:0,class:"connection-status"},tg=Re({__name:"ConnectionStatus",props:{show:{type:Boolean,default:!1}},emits:["retry"],setup(e,{emit:t}){const s=e,n=t,o=()=>{n("retry")};return(i,l)=>s.show?(T(),A("div",eg,[l[0]||(l[0]=r("span",null,"No internet connection",-1)),r("button",{class:"retry-button",onClick:o},"Retry")])):oe("",!0)}}),sg=He(tg,[["__scopeId","data-v-1eb813a0"]]),Zt=e=>{const t=new Date(e),s=new Date,n=new Date(s);if(n.setDate(n.getDate()-1),t.toDateString()===s.toDateString())return t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0});if(t.toDateString()===n.toDateString())return"Yesterday";const o=Math.floor((s.getTime()-t.getTime())/(1e3*60*60*24));return o<7?`${o} days ago`:t.toLocaleString("en-US",{weekday:"long"})},ng={class:"chat-container"},og={class:"chat-main"},rg={class:"main-content"},ig=Re({__name:"Chat",setup(e){const t=No(),s=_s(),n=N(null),o=N(null),i=N(localStorage.getItem("notifications_enabled")!=="false"),l=()=>{n.value&&i.value&&(n.value.currentTime=0,n.value.play().catch(v=>{console.error("  :",v)}))},a=()=>{o.value&&i.value&&(o.value.currentTime=0,o.value.play().catch(v=>{console.error("   :",v)}))},c=()=>{i.value=!i.value,localStorage.setItem("notifications_enabled",i.value.toString())},d=nt(),u=Gt(),p=Vo(),f=N(!0),h=N(!1),S=N(!1),I=N(!1),P=ks(),k=ye(()=>P.meta.tab==="notes"),D=ye(()=>P.meta.tab==="calendar"),V=ye(()=>P.meta.tab==="tasks"),M=ye(()=>P.meta.tab==="projects"),L=N(!1),Z=Ln(),ne=da(Z,"windowWidth"),X=N(null),W=N(null),te=()=>{console.log("toggleContacts"),f.value=!f.value},re=()=>{var v,m;f.value=!0,(m=(v=W.value)==null?void 0:v.openAddContactModal)==null||m.call(v)},_=v=>{d.push(v?"/notes":"/chat")},q=()=>{d.push(D.value?"/chat":"/calendar")},w=()=>{d.push(V.value?"/chat":"/tasks")},C=()=>{ne.value<=768&&(M.value||D.value||V.value||k.value)&&(f.value=!1)};st([M,D,V,k],C,{immediate:!0}),st(ne,C);const K=()=>{h.value=!0,setTimeout(()=>{h.value=!1,S.value=!1},2e3)},$=async()=>{var b,R;const{error:v,data:m}=await pe.http("POST","/api/chat/get-contact-list",{userId:(b=u.user)==null?void 0:b.id});if(v)console.error("Failed to get contact list: ",v);else if((m==null?void 0:m.status)==="ok"&&((R=m.contactList)==null?void 0:R.length)>0){console.log("Contact list: ",m.contactList);const B=m.onlineUsers,O=m.contactList.map(z=>({id:z.id,contactId:z.contactId,name:z.rename||z.contact.name,unreadCount:z.unreadCount,isActive:!1,isOnline:B.includes(z.contactId),lastMessage:z.lastMessage?z.lastMessage.content:"",lastMessageTime:Zt(z.updatedAt),updatedAt:z.updatedAt}));if(p.setContactList(O),!E.value&&ne.value>600){const z=localStorage.getItem("current_contact_id");if(z){const G=O.find(Y=>Y.contactId===parseInt(z));G&&H(G)}}}},y=()=>{window.addEventListener("online",()=>{S.value=!1}),window.addEventListener("offline",()=>{S.value=!0}),S.value=!navigator.onLine},g=v=>{if(I.value){const m=v.target,b=document.querySelector(".dropdown-menu"),R=document.querySelector(".menu-button");b&&R&&!b.contains(m)&&!R.contains(m)&&(I.value=!1)}},x=()=>{I.value=!1,d.push("/account")},ie=()=>{I.value=!1,d.push("/news")},ve=()=>{I.value=!1,d.push("/manifesto")},ge=()=>{I.value=!1,d.push("/")},Q=v=>{var m;return{id:v.id,text:v.content,time:new Date(v.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),isSent:((m=u.user)==null?void 0:m.id)===v.senderId,status:"delivered",createdAt:v.createdAt,taskId:v.taskId??void 0,calendarId:v.calendarId??void 0,date:we(new Date(v.createdAt))?"Today":Zt(String(v.createdAt))}},U=async v=>{var m;if(console.log("sendMessage",v),v&&E.value&&u.user){try{await Z.ensureNotificationPermission()}catch(O){console.warn("     :",O)}console.log("selectedContact",E.value);const b=E.value.contactId,{error:R,data:B}=await pe.http("POST","/api/chat/send-chat-messages",{contactId:b,content:v,userId:(m=u.user)==null?void 0:m.id});if(R)console.error(R);else if(B&&B.message){const O=Q(B.message);if(t.messages.length>0){const z=t.messages[t.messages.length-1];(we(new Date(z.createdAt))?"Today":Zt(String(z.createdAt)))===O.date&&(O.date="")}t.addMessage(O),p.updateContact({contactId:b,lastMessage:O.text,lastMessageTime:Zt(String(O.createdAt)),updatedAt:new Date().toISOString()})}}},we=v=>{const m=new Date;return v.getDate()===m.getDate()&&v.getMonth()===m.getMonth()&&v.getFullYear()===m.getFullYear()},E=N(null),H=async v=>{var R;console.log("selectContact",v),E.value=v,p.setActiveContact(v),localStorage.setItem("current_contact_id",E.value.contactId.toString()),t.resetMessages();const{error:m,data:b}=await pe.http("POST","/api/chat/get-messages",{contactId:E.value.contactId,userId:(R=u.user)==null?void 0:R.id});if(m)console.error(m);else if(b&&b.messages&&b.messages.length>0&&b.contact){console.log(b);const B=b.messages.sort((F,ce)=>new Date(F.createdAt).getTime()-new Date(ce.createdAt).getTime()).map(Q);let O="";B.forEach(F=>{O===F.date?F.date="":F.date&&(O=F.date)});const z=b.onlineUsers;console.log("onlineContacts",z),t.setMessages(B);const G=b.contact,Y=B.length>0?B[B.length-1].text:"";p.updateContact({id:G.id,contactId:G.contact.id,name:G.rename||G.contact.name,unreadCount:G.unreadCount,isActive:!0,isOnline:z&&z.length>0?z.includes(G.contact.id):!1,lastMessage:Y,lastMessageTime:Zt(G.updatedAt),updatedAt:G.updatedAt}),dt(()=>{f.value=!1,J()})}},J=()=>{var v;(v=X.value)==null||v.scrollToBottom()};let se=null;Ne(()=>{n.value=new Audio("/audio/notification.mp3"),o.value=new Audio("/audio/click.mp3"),i.value=localStorage.getItem("notifications_enabled")!=="false",y(),document.addEventListener("click",g),s.on("new_message",v=>{console.log("event new_message",v);const m=v.message;m!=null&&m.senderId&&(p.updateContactById(String(m.senderId),{lastMessage:m.content}),E.value&&m.senderId===E.value.contactId?(console.log("new_message"),t.addMessage({id:m.id,text:m.content,time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),isSent:!1,status:"delivered",createdAt:new Date().toISOString(),taskId:m.taskId??void 0,calendarId:m.calendarId??void 0,date:we(new Date)?"Today":Zt(new Date().toISOString())}),a(),dt(()=>{J()})):(console.log("new_message not for this contact"),l(),p.incrementUnreadCount(m.senderId),p.updateContactById(String(m.senderId),{isOnline:!0,lastMessage:m.content,lastMessageTime:Zt(String(m.createdAt)),updatedAt:new Date().toISOString()})))}),s.on("user_online",v=>{E.value&&v.userId===E.value.contactId&&(E.value.isOnline=v.isOnline)}),s.on("event_typing",v=>{E.value&&v.userId===E.value.contactId&&(console.log("event_typing in chat",v),L.value=!0,se&&window.clearTimeout(se),se=setTimeout(()=>{L.value=!1},3e3))}),u.hasUser()?$():(console.log("no user"),d.push("/"))});const Se=async()=>{var v,m;if(console.log("eventTyping"),E.value){const b=await pe.ws("event_typing",{userId:(v=u.user)==null?void 0:v.id,contactId:(m=E.value)==null?void 0:m.contactId});console.log("eventTyping res",b)}};return Xs(()=>{document.removeEventListener("click",g),s.off("new_message"),s.off("user_online")}),(v,m)=>(T(),A("div",ng,[Ie(sg,{show:S.value,onRetry:K},null,8,["show"]),Ie(Xv,{show:h.value},null,8,["show"]),r("audio",{ref_key:"notificationSound",ref:n,preload:"auto",src:"/audio/notification_1.mp3",style:{display:"none"}},null,512),r("audio",{ref_key:"clickSound",ref:o,preload:"auto",src:"/audio/click-button-140881.mp3",style:{display:"none"}},null,512),r("div",og,[Ie(Zf,{class:_e({show:f.value}),ref_key:"contactsListRef",ref:W,onToggleContacts:te,onToggleNews:_,onSelectContact:H,onToggleCalendar:q,onToggleTask:w},null,8,["class"]),r("div",rg,[k.value?(T(),At(kl,{key:0,"hide-header":!0,onBackToChat:m[0]||(m[0]=b=>De(d).push("/chat")),onToggleContacts:te})):D.value?(T(),At(uh,{key:1,onBackToChat:m[1]||(m[1]=b=>De(d).push("/chat")),onToggleContacts:te})):V.value?(T(),At(_1,{key:2,onBackToChat:m[2]||(m[2]=b=>De(d).push("/chat")),onToggleContacts:te})):M.value?(T(),At(Yv,{key:3,onToggleContacts:te})):(T(),At(Op,{key:4,ref_key:"chatAreaRef",ref:X,"selected-contact":E.value,"is-typing":L.value,"notifications-enabled":i.value,onToggleContacts:te,onOpenAddContact:re,onGoToAccount:x,onGoToNews:ie,onGoToManifesto:ve,onLogout:ge,onSendMessage:U,onEventTyping:Se,onToggleNotifications:c},null,8,["selected-contact","is-typing","notifications-enabled"]))])])]))}}),As=He(ig,[["__scopeId","data-v-b42d76a1"]]),lg={class:"account-page"},ag={class:"account-content"},cg={class:"profile-section"},ug={class:"avatar-container"},dg={class:"avatar"},fg={key:0,class:"user-info"},pg={class:"user-status"},hg={class:"join-date"},vg={class:"settings-section"},gg={class:"setting-item"},mg={class:"toggle"},wg=["checked"],yg={class:"setting-item"},bg={class:"toggle"},_g={class:"setting-item"},kg={class:"toggle"},Cg={class:"setting-item"},xg={key:0,class:"setting-status"},Sg={class:"toggle"},Eg=["disabled"],Tg=Re({name:"UserAccount",__name:"UserAccount",setup(e){const t=Gt(),s=Ln(),n=N(t.user),o=N(s.darkMode),i=N(!0),l=N(!0),a=N(s.isSubscribedToPush);function c(){o.value=!o.value,s.setDarkMode(o.value),console.log("Toggle dark mode:",o.value)}const d=()=>{i.value=!i.value},u=()=>{l.value=!l.value},p=async()=>{try{if(a.value){const P=s.pushSubscriptionId;if(await s.unsubscribeFromPush()){console.log("   push-");try{P&&await bt.deleteSubscription(P)}catch(D){console.warn("      push:",D)}}else console.error("    push-"),a.value=!0}else{if(!await s.ensureNotificationPermission()){console.warn("     "),a.value=!1;return}const k=await s.subscribeToPush();if(k){console.log("    push-");try{const D="127.0.0.1",V=S(),M=I();await bt.createSubscription({endpoint:k.endpoint,p256dhKey:f(k.getKey("p256dh")),authKey:f(k.getKey("auth")),userAgent:navigator.userAgent,ipAddress:D||void 0,deviceType:h(),browserName:V.name,browserVersion:V.version,osName:M.name,osVersion:M.version,notificationTypes:["new_message","mention","system"],timezone:Intl.DateTimeFormat().resolvedOptions().timeZone})}catch(D){console.warn("      push:",D),a.value=!1}}else console.error("     push-"),console.info("  :"),console.info("- VAPID     "),console.info("-    push-"),console.info("-  "),a.value=!1,alert(`    push-.

 :
   
 Push-  
      `)}}catch(P){console.error("   push-:",P),a.value=!a.value}},f=P=>{if(!P)return"";const k=new Uint8Array(P);let D="";for(let V=0;V<k.byteLength;V++)D+=String.fromCharCode(k[V]);return window.btoa(D)},h=()=>{const P=navigator.userAgent.toLowerCase();return/mobile|android|iphone|ipad|tablet/.test(P)?"mobile":"desktop"},S=()=>{const P=navigator.userAgent,k=P.toLowerCase();let D="Unknown",V="Unknown";if(k.includes("chrome")&&!k.includes("edg")){D="Chrome";const M=P.match(/Chrome\/(\d+\.\d+)/);V=M?M[1]:"Unknown"}else if(k.includes("firefox")){D="Firefox";const M=P.match(/Firefox\/(\d+\.\d+)/);V=M?M[1]:"Unknown"}else if(k.includes("safari")&&!k.includes("chrome")){D="Safari";const M=P.match(/Version\/(\d+\.\d+)/);V=M?M[1]:"Unknown"}else if(k.includes("edg")){D="Edge";const M=P.match(/Edg\/(\d+\.\d+)/);V=M?M[1]:"Unknown"}return{name:D,version:V}},I=()=>{const P=navigator.userAgent;let k="Unknown",D="Unknown";if(P.includes("Windows NT")){k="Windows";const V=P.match(/Windows NT (\d+\.\d+)/);D=V?V[1]:"Unknown"}else if(P.includes("Mac OS X")){k="macOS";const V=P.match(/Mac OS X (\d+[._]\d+[._]?\d*)/);D=V?V[1].replace(/_/g,"."):"Unknown"}else if(P.includes("Linux"))k="Linux",D="Unknown";else if(P.includes("Android")){k="Android";const V=P.match(/Android (\d+\.\d+)/);D=V?V[1]:"Unknown"}else if(P.includes("iPhone")||P.includes("iPad")){k="iOS";const V=P.match(/OS (\d+[._]\d+[._]?\d*)/);D=V?V[1].replace(/_/g,"."):"Unknown"}return{name:k,version:D}};return Ne(()=>{a.value=s.isSubscribedToPush}),st(()=>s.isSubscribedToPush,P=>{a.value=P}),st(()=>s.notificationPermission,P=>{P==="denied"&&a.value&&(a.value=!1)}),(P,k)=>{var D,V;return T(),A("div",lg,[r("div",ag,[r("div",cg,[r("div",ug,[r("div",dg,j(((V=(D=n.value)==null?void 0:D.name)==null?void 0:V.charAt(0))||"U"),1)]),n.value?(T(),A("div",fg,[r("h2",null,j(n.value.name||"User"),1),r("p",null,j(n.value.email||"email@example.com"),1),r("p",pg,j(n.value.status||"Online"),1),r("p",hg,"Member since: "+j(n.value.createdAt),1)])):oe("",!0)]),r("div",vg,[k[12]||(k[12]=r("h3",null,"Settings",-1)),r("div",gg,[k[4]||(k[4]=r("div",null,[r("h4",null,"Dark Mode"),r("p",null,"Enable dark theme for the app")],-1)),r("label",mg,[r("input",{type:"checkbox",checked:o.value,onChange:c},null,40,wg),k[3]||(k[3]=r("span",{class:"toggle-slider"},null,-1))])]),r("div",yg,[k[6]||(k[6]=r("div",null,[r("h4",null,"Notifications"),r("p",null,"Enable notifications for new messages")],-1)),r("label",bg,[ue(r("input",{type:"checkbox","onUpdate:modelValue":k[0]||(k[0]=M=>i.value=M),onChange:d},null,544),[[ss,i.value]]),k[5]||(k[5]=r("span",{class:"toggle-slider"},null,-1))])]),r("div",_g,[k[8]||(k[8]=r("div",null,[r("h4",null,"Sound"),r("p",null,"Enable sound for notifications")],-1)),r("label",kg,[ue(r("input",{type:"checkbox","onUpdate:modelValue":k[1]||(k[1]=M=>l.value=M),onChange:u},null,544),[[ss,l.value]]),k[7]||(k[7]=r("span",{class:"toggle-slider"},null,-1))])]),r("div",Cg,[r("div",null,[k[10]||(k[10]=r("h4",null,"Push Notifications",-1)),k[11]||(k[11]=r("p",null,"Enable push notifications for new messages",-1)),De(s).notificationPermission!=="granted"?(T(),A("div",xg,k[9]||(k[9]=[r("small",{class:"permission-warning"},"  Browser permission required ",-1)]))):oe("",!0)]),r("label",Sg,[ue(r("input",{type:"checkbox","onUpdate:modelValue":k[2]||(k[2]=M=>a.value=M),onChange:p,disabled:De(s).notificationPermission==="denied"},null,40,Eg),[[ss,a.value]]),r("span",{class:_e(["toggle-slider",{disabled:De(s).notificationPermission==="denied"}])},null,2)])])])])])}}}),Mg=He(Tg,[["__scopeId","data-v-2fe9c332"]]),$g={class:"news-page"},Ag={class:"content-wrapper"},Ig={class:"content-container"},Pg=Re({__name:"News",setup(e){nt();const t=N(window.innerWidth),s=()=>{t.value=window.innerWidth};return Ne(()=>{window.addEventListener("resize",s)}),ft(()=>{window.removeEventListener("resize",s)}),Ne(()=>{}),(n,o)=>(T(),A("div",$g,[r("div",Ag,[r("div",Ig,[Ie(kl,{"hide-header":!0})])])]))}}),Dg=He(Pg,[["__scopeId","data-v-3dd2cf43"]]),Lg={class:"news-detail-page"},Rg={class:"content-wrapper"},Og={class:"content-container"},Vg={class:"news-item"},Ng={class:"news-item-header"},Bg={class:"user-avatar"},Hg={class:"user-info"},jg={class:"user-name"},Fg={class:"post-time"},Ug={class:"news-item-content"},zg=["src","alt"],Wg={class:"news-actions"},Kg={class:"action-button"},Gg={class:"comments-section"},qg={class:"comment-form"},Jg={class:"user-avatar current"},Yg={class:"comment-input-container"},Zg={class:"comments-list"},Qg={class:"comment-header"},Xg={class:"user-avatar"},em={class:"comment-info"},tm={class:"comment-user-name"},sm={class:"comment-time"},nm={class:"comment-content"},om={class:"comment-actions"},rm={class:"comment-action"},im=Re({__name:"NewsDetail",setup(e){nt();const t=ks(),s=N(parseInt(t.params.id)),n=N(window.innerWidth),o=()=>{n.value=window.innerWidth};Ne(()=>{window.addEventListener("resize",o)}),ft(()=>{window.removeEventListener("resize",o)});const i=N(!1),l=()=>{i.value=!1},a=I=>{const P=I.target;i.value&&!P.closest(".menu-container")&&l()},c={id:0,name:"Current User"},d=N({id:s.value,userId:1,userName:"John Smith",content:"Had an amazing day hiking in the mountains! The view was absolutely breathtaking.",images:["https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80","https://images.unsplash.com/photo-1486870591958-9b9d0d1dda99?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80"],likes:24,isLiked:!1,comments:6,timeAgo:"2 hours ago"}),u=N([{id:1,userId:2,userName:"Mary Johnson",content:"Beautiful view! Which trail did you take?",likes:3,timeAgo:"1 hour ago"},{id:2,userId:3,userName:"Alex Wilson",content:"This looks amazing! I need to visit this place.",likes:2,timeAgo:"45 minutes ago"},{id:3,userId:4,userName:"Helen Brown",content:"The colors in the first picture are stunning!",likes:1,timeAgo:"30 minutes ago"}]),p=N(""),f=()=>{p.value.trim()&&(u.value.unshift({id:u.value.length+1,userId:c.id,userName:c.name,content:p.value.trim(),likes:0,timeAgo:"Just now"}),p.value="")},h=I=>{I.isLiked=!I.isLiked,I.isLiked?I.likes++:I.likes--},S=I=>I.charAt(0);return window.addEventListener("click",a),ft(()=>{window.removeEventListener("click",a)}),(I,P)=>(T(),A("div",Lg,[r("div",Rg,[r("div",Og,[r("div",Vg,[r("div",Ng,[r("div",Bg,j(S(d.value.userName)),1),r("div",Hg,[r("div",jg,j(d.value.userName),1),r("div",Fg,j(d.value.timeAgo),1)])]),r("div",Ug,[r("p",null,j(d.value.content),1),d.value.images&&d.value.images.length>0?(T(),A("div",{key:0,class:_e(["news-images",{"single-image":d.value.images.length===1,"multi-image":d.value.images.length>1}])},[(T(!0),A(he,null,Pe(d.value.images,(k,D)=>(T(),A("div",{key:D,class:"image-container"},[r("img",{src:k,alt:`${d.value.userName}'s post image ${D+1}`,loading:"lazy"},null,8,zg)]))),128))],2)):oe("",!0)]),r("div",Wg,[r("button",{class:_e(["action-button",{liked:d.value.isLiked}]),onClick:P[0]||(P[0]=k=>h(d.value))},[P[2]||(P[2]=r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20",fill:"currentColor"},[r("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})],-1)),r("span",null,j(d.value.likes),1)],2),r("button",Kg,[P[3]||(P[3]=r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20",fill:"currentColor"},[r("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"})],-1)),r("span",null,j(d.value.comments),1)]),P[4]||(P[4]=r("button",{class:"action-button"},[r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20",fill:"currentColor"},[r("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"})]),r("span",null,"Share")],-1))])]),r("div",Gg,[r("h2",null,"Comments ("+j(u.value.length)+")",1),r("div",qg,[r("div",Jg,j(S(c.name)),1),r("div",Yg,[ue(r("textarea",{"onUpdate:modelValue":P[1]||(P[1]=k=>p.value=k),class:"comment-input",placeholder:"Write a comment...",rows:"3"},null,512),[[me,p.value]]),r("button",{class:"post-button",onClick:f},"Post")])]),r("div",Zg,[(T(!0),A(he,null,Pe(u.value,k=>(T(),A("div",{key:k.id,class:"comment-item"},[r("div",Qg,[r("div",Xg,j(S(k.userName)),1),r("div",em,[r("div",tm,j(k.userName),1),r("div",sm,j(k.timeAgo),1)])]),r("div",nm,j(k.content),1),r("div",om,[r("button",rm,[P[5]||(P[5]=r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor"},[r("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})],-1)),r("span",null,j(k.likes),1)]),P[6]||(P[6]=r("button",{class:"comment-action"},"Reply",-1))])]))),128))])])])])]))}}),lm=He(im,[["__scopeId","data-v-5b098207"]]),am={class:"create-news-page"},cm={class:"news-form"},um={key:0,class:"error-message"},dm={class:"form-group"},fm={class:"form-group"},pm={class:"image-upload-container"},hm={key:0,class:"image-previews"},vm=["src"],gm=["onClick"],mm={class:"form-actions"},wm=["disabled"],ym={key:0},bm={key:1},_m=Re({__name:"CreateNews",setup(e){const t=nt(),s=N(window.innerWidth),n=()=>{s.value=window.innerWidth};Ne(()=>{window.addEventListener("resize",n)}),ft(()=>{window.removeEventListener("resize",n)});const o=N(""),i=N([]),l=N(!1),a=N(""),c=p=>{var I;const f=p.target;if(!((I=f.files)!=null&&I.length))return;const h=f.files[0],S=new FileReader;S.onload=P=>{var D;const k=(D=P.target)==null?void 0:D.result;typeof k=="string"&&i.value.push(k)},S.readAsDataURL(h)},d=p=>{i.value.splice(p,1)},u=()=>{if(o.value.trim()===""){a.value="Please enter some content";return}l.value=!0,a.value="",setTimeout(()=>{l.value=!1,t.push("/news")},1500)};return(p,f)=>(T(),A("div",am,[r("div",{class:_e(["create-news-content",{"mobile-container":s.value<=768}])},[r("div",cm,[a.value?(T(),A("div",um,j(a.value),1)):oe("",!0),r("div",dm,[f[1]||(f[1]=r("label",{for:"news-content"},"What's on your mind?",-1)),ue(r("textarea",{id:"news-content","onUpdate:modelValue":f[0]||(f[0]=h=>o.value=h),class:"content-input",placeholder:"Share your thoughts...",rows:"4"},null,512),[[me,o.value]])]),r("div",fm,[f[4]||(f[4]=r("label",null,"Add Photos",-1)),r("div",pm,[f[2]||(f[2]=r("label",{for:"image-upload",class:"image-upload-label"},[r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor"},[r("path",{d:"M19 7v2.99s-1.99.01-2 0V7h-3s.01-1.99 0-2h3V2h2v3h3v2h-3zm-3 4V8h-3V5H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-8h-3zM5 19l3-4 2 3 3-4 4 5H5z"})]),r("span",null,"Upload Image")],-1)),r("input",{type:"file",id:"image-upload",accept:"image/*",class:"image-input",onChange:c},null,32)]),i.value.length>0?(T(),A("div",hm,[(T(!0),A(he,null,Pe(i.value,(h,S)=>(T(),A("div",{key:S,class:"image-preview"},[r("img",{src:h,alt:"Preview"},null,8,vm),r("button",{class:"remove-image",onClick:I=>d(S)},f[3]||(f[3]=[r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor"},[r("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})],-1)]),8,gm)]))),128))])):oe("",!0)]),r("div",mm,[r("button",{class:"publish-button",onClick:u,disabled:l.value},[l.value?(T(),A("span",ym,"Publishing...")):(T(),A("span",bm,"Publish"))],8,wm)])])],2)]))}}),km=He(_m,[["__scopeId","data-v-eb1effc5"]]),Cm={class:"news-detail-page"},xm=Re({__name:"ManifestoSocial",setup(e){nt();const t=N(window.innerWidth),s=()=>{t.value=window.innerWidth};Ne(()=>{window.addEventListener("resize",s),window.addEventListener("click",i)}),ft(()=>{window.removeEventListener("resize",s),window.removeEventListener("click",i)});const n=N(!1),o=()=>{n.value=!1},i=l=>{const a=l.target;n.value&&!a.closest(".menu-container")&&o()};return(l,a)=>(T(),A("div",Cm,a[0]||(a[0]=[fs('<div class="content-wrapper" data-v-1165425c><div class="content-container" data-v-1165425c><div class="news-item" data-v-1165425c><div class="news-item-content" data-v-1165425c><h1 class="manifesto-title" data-v-1165425c>LIGHTWEIGHT TASK MANAGER MANIFESTO</h1><div class="manifesto-point" data-v-1165425c><div class="point-number" data-v-1165425c>1</div><div class="point-content" data-v-1165425c><h3 data-v-1165425c>Simplicity and Intuitiveness</h3><p data-v-1165425c> An effective task manager should be as simple as possible to use. Any team member can start working within minutes without lengthy training. The interface should be intuitive and not distract from the main tasks. </p></div></div><div class="manifesto-point" data-v-1165425c><div class="point-number" data-v-1165425c>2</div><div class="point-content" data-v-1165425c><h3 data-v-1165425c>Transparency and Visibility</h3><p data-v-1165425c> Every team member should see the overall project picture. Task statuses, priorities, and assignees should be visible to all participants. Work transparency promotes better coordination and trust within the team. </p></div></div><div class="manifesto-point" data-v-1165425c><div class="point-number" data-v-1165425c>3</div><div class="point-content" data-v-1165425c><h3 data-v-1165425c>Flexibility and Adaptability</h3><p data-v-1165425c> The system should adapt to various work methodologies - from simple task lists to Kanban and Scrum. Teams should be able to customize workflows to their needs. </p></div></div><div class="manifesto-point" data-v-1165425c><div class="point-number" data-v-1165425c>4</div><div class="point-content" data-v-1165425c><h3 data-v-1165425c>Effective Communication</h3><p data-v-1165425c> Built-in tools for task discussions, comments, and feedback. All communication should be tied to task context to avoid losing important information. </p></div></div><div class="manifesto-point" data-v-1165425c><div class="point-number" data-v-1165425c>5</div><div class="point-content" data-v-1165425c><h3 data-v-1165425c>Security and Privacy</h3><p data-v-1165425c> Project data should be protected by modern encryption methods. Information access should be clearly role-based. Regular backups ensure data preservation. </p></div></div><div class="manifesto-point" data-v-1165425c><div class="point-number" data-v-1165425c>6</div><div class="point-content" data-v-1165425c><h3 data-v-1165425c>High Performance</h3><p data-v-1165425c> The system should work fast and stable even with large numbers of tasks and users. Interface response time should be minimal, and data synchronization should be instant. </p></div></div><div class="manifesto-point" data-v-1165425c><div class="point-number" data-v-1165425c>7</div><div class="point-content" data-v-1165425c><h3 data-v-1165425c>Integration and Compatibility</h3><p data-v-1165425c> Easy integration with popular development tools, calendars, version control systems, and other services. API should allow creating custom integrations. </p></div></div><div class="manifesto-point" data-v-1165425c><div class="point-number" data-v-1165425c>8</div><div class="point-content" data-v-1165425c><h3 data-v-1165425c>Smart Notifications</h3><p data-v-1165425c> The notification system should be customizable and not distract from work. Only important updates and critical changes should require immediate attention. Ability to configure notification frequency and channels. </p></div></div><div class="manifesto-point" data-v-1165425c><div class="point-number" data-v-1165425c>9</div><div class="point-content" data-v-1165425c><h3 data-v-1165425c>Analytics and Reporting</h3><p data-v-1165425c> Built-in tools for analyzing team productivity, task completion times, and process bottlenecks. Data should help improve workflows and planning. </p></div></div><div class="manifesto-point" data-v-1165425c><div class="point-number" data-v-1165425c>10</div><div class="point-content" data-v-1165425c><h3 data-v-1165425c>Scalability</h3><p data-v-1165425c> The system should work equally well for small teams of 3-5 people and large organizations with hundreds of users. Architecture should allow horizontal scaling. </p></div></div><div class="manifesto-point" data-v-1165425c><div class="point-number" data-v-1165425c>11</div><div class="point-content" data-v-1165425c><h3 data-v-1165425c>Openness and Development Transparency</h3><p data-v-1165425c> Product development roadmap should be open. Users should be able to influence development priorities through voting and feature suggestions. </p></div></div><div class="manifesto-point" data-v-1165425c><div class="point-number" data-v-1165425c>12</div><div class="point-content" data-v-1165425c><h3 data-v-1165425c>Support and Community</h3><p data-v-1165425c> Quality technical support and active user community. Comprehensive documentation, educational materials, and quick help when questions or problems arise. </p></div></div></div></div></div></div>',1)])))}}),Sm=He(xm,[["__scopeId","data-v-1165425c"]]),Em={class:"join-chat-container"},Tm={key:0,class:"welcome-section"},Mm={key:1,class:"auth-section"},$m=Re({__name:"JoinChat",setup(e){const t=ks(),s=nt(),n=Gt(),o=N(!1),i=N("");Ne(()=>{i.value=t.params.token,console.log({token:i.value}),i.value&&(l(i.value).then(()=>{console.log("joinChat success")}).catch(h=>{console.error("Error joinChat:",h)}),n.user||(o.value=!0))}),Xs(()=>{console.log("onBeforeUnload joinChat")});const l=async h=>{console.log("joinChat");const{data:S,error:I}=await pe.http("POST","/api/chat/invitations/use",{token:h});I?console.error("Error joinChat:",I):S&&S.status==="success"&&console.log(S)},a=()=>{s.push({name:"Chat"})},c=()=>{o.value=!1},d=N(!1),u=N(!0),p=()=>{d.value=!0,u.value=!1},f=()=>{d.value=!1,u.value=!0};return(h,S)=>(T(),A("div",Em,[De(n).user?(T(),A("div",Tm,[r("h1",null,"Welcome, "+j(De(n).user.name)+"!",1),S[1]||(S[1]=r("p",null,"You're about to join a conversation. Click the button below to continue.",-1)),r("button",{class:"join-button",onClick:a},"Join Chat")])):(T(),A("div",Mm,[S[2]||(S[2]=r("h1",null,"Join the Chat",-1)),S[3]||(S[3]=r("p",null,"Please register or sign in to join the conversation.",-1)),r("button",{class:"auth-button",onClick:S[0]||(S[0]=I=>o.value=!0)},"Sign In / Register")])),o.value?(T(),At(_l,{key:2,"show-login":d.value,"show-register":u.value,token:i.value,onClose:c,onAuthSuccess:a,onShowLogin:p,onShowRegister:f},null,8,["show-login","show-register","token"])):oe("",!0)]))}}),Am=He($m,[["__scopeId","data-v-2794ac7e"]]),Im=[{path:"/",name:"Login",component:Cf},{path:"/chat",name:"Chat",component:As,meta:{requiresAuth:!0}},{path:"/projects",name:"Projects",component:As,meta:{requiresAuth:!0,tab:"projects"}},{path:"/tasks",name:"Tasks",component:As,meta:{requiresAuth:!0,tab:"tasks"}},{path:"/calendar",name:"Calendar",component:As,meta:{requiresAuth:!0,tab:"calendar"}},{path:"/notes",name:"Notes",component:As,meta:{requiresAuth:!0,tab:"notes"}},{path:"/join-chat/:token",name:"JoinChat",component:Am},{path:"/account",name:"UserAccount",component:Mg,meta:{requiresAuth:!0,title:"Account Settings",backPath:"/chat",backLabel:"Back to Chat"}},{path:"/news",name:"News",component:Dg,meta:{requiresAuth:!0,title:"Notes",backPath:"/chat",backLabel:"Back to Chat"}},{path:"/news/create",name:"CreateNews",component:km,meta:{requiresAuth:!0,title:"Create News Post",backPath:"/news",backLabel:"Back to News"}},{path:"/news/:id",name:"NewsDetail",component:lm,meta:{requiresAuth:!0,title:"News",backPath:"/news",backLabel:"Back to News"}},{path:"/manifesto",name:"Manifesto",component:Sm}],Cl=kd({history:Zu("/"),routes:Im});Cl.beforeEach((e,t,s)=>{const n=e.matched.some(l=>l.meta.requiresAuth),i=Gt().hasUser();n&&!i?s("/"):s()});const Bo=lu(Bd);Bo.use(uu());Bo.use(Cl);Bo.mount("#app");class Pm{constructor(){Fe(this,"registration",null)}async register(){if(!("serviceWorker"in navigator))return console.warn("[SW] Service workers not supported"),null;try{return console.log("[SW] Registering service worker..."),this.registration=await navigator.serviceWorker.register("/service-worker.js",{scope:"/",updateViaCache:"none"}),console.log("[SW] Service worker registered:",this.registration),this.setupUpdateHandlers(),this.registration}catch(t){return console.error("[SW] Registration failed:",t),null}}async checkForUpdates(){if(this.registration)try{await this.registration.update(),console.log("[SW] Update check completed")}catch(t){console.error("[SW] Update check failed:",t)}}setupUpdateHandlers(){this.registration&&(this.registration.addEventListener("updatefound",()=>{console.log("[SW] New service worker found");const t=this.registration.installing;t&&t.addEventListener("statechange",()=>{t.state==="activated"&&(console.log("[SW] New service worker activated"),mo())})}),this.registration.waiting&&(console.log("[SW] Service worker waiting to activate"),mo()))}}async function Dm(){try{const e=new Pm;await e.register()&&(console.log("[SW] Service worker initialized successfully"),navigator.serviceWorker.addEventListener("message",s=>{console.log("[SW] Message from service worker:",s.data),s.data==="NEW_VERSION"&&mo()}),setInterval(async()=>{await e.checkForUpdates()},6e4))}catch(e){console.error("[SW] Service worker initialization failed:",e)}}function mo(){console.log("[SW] Showing update notification");const e=document.createElement("div");e.style.cssText=`
        position: fixed;
        top: 20px;
        right: 20px;
        background: #145fc2;
        color: white;
        padding: 16px 20px;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        z-index: 10000;
        font-family: Inter, sans-serif;
        font-size: 14px;
        max-width: 300px;
        animation: slideIn 0.3s ease;
    `,e.innerHTML=`
        <div style="margin-bottom: 8px; font-weight: 600;">
             New version available!
        </div>
        <div style="margin-bottom: 12px; opacity: 0.9;">
            Refresh to get the latest features
        </div>
        <button onclick="window.location.reload()" style="
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            margin-right: 8px;
            font-weight: 500;
        ">Refresh</button>
        <button onclick="this.parentElement.remove()" style="
            background: transparent;
            border: 1px solid rgba(255,255,255,0.3);
            color: white;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 500;
        ">Later</button>
    `;const t=document.createElement("style");t.textContent=`
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
    `,document.head.appendChild(t),document.body.appendChild(e),setTimeout(()=>{e.parentElement&&(e.style.animation="slideIn 0.3s ease reverse",setTimeout(()=>e.remove(),300))},1e4)}Dm();
